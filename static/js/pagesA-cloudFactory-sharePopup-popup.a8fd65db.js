(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pagesA-cloudFactory-sharePopup-popup"],{"0967":function(e,t,a){var i=a("a2fd");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var n=a("4f06").default;n("ded61472",i,!0,{sourceMap:!1,shadowMode:!1})},"0adc":function(e,t,a){"use strict";var i=a("e069"),n=a.n(i);n.a},"0d0d":function(e,t,a){var i=a("24fb");t=i(!1),t.push([e.i,'@charset "UTF-8";\n\n\n/* 行为相关颜色 */.share-tab-content[data-v-d9b71806]{width:100%;background-color:#f6f7f9;border-radius:8px 8px 0 0;font-size:16px;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;position:relative}.share-tab-content .container[data-v-d9b71806]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center;position:relative}.share-tab-content .trigger[data-v-d9b71806]{padding:10px 20px;background-color:#007aff;color:#fff;border-radius:5px;cursor:pointer}.share-tab-content .tooltip[data-v-d9b71806]{position:absolute;z-index:999;background-color:#333;color:#fff;padding:8px 12px;border-radius:4px;font-size:14px}.share-tab-content .list-title[data-v-d9b71806]{font-size:16px;font-weight:500;line-height:22px;margin-top:16px;margin-left:16px;margin-bottom:16px}.share-tab-content .share-tab-container[data-v-d9b71806]{-webkit-box-flex:1;-webkit-flex:1;flex:1;padding:12px}.share-tab-content .share-tab-container .padding-0[data-v-d9b71806]{padding:0}.share-tab-content .share-tab-container .tab-item-0[data-v-d9b71806]{border-radius:8px}.share-tab-content .share-tab-container .share-write[data-v-d9b71806]{margin-top:24px;width:100%;background:#edeff3;border-radius:8px;overflow-y:auto}.share-tab-content .share-tab-container .share-target-type-active[data-v-d9b71806]{border-radius:%?16?%}.share-tab-content .share-tab-container .share-target-type-section[data-v-d9b71806]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-webkit-box-align:center;-webkit-align-items:center;align-items:center;margin-top:16px;gap:12px}.share-tab-content .share-tab-container .share-target-type-section .share-target-type[data-v-d9b71806]{border:2px solid #fff;background-color:#fff;-webkit-box-flex:1;-webkit-flex:1;flex:1;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;height:%?168?%;-webkit-box-align:center;-webkit-align-items:center;align-items:center;border-radius:%?16?%;position:relative\n  /* 为了定位选中图标 */}.share-tab-content .share-tab-container .share-target-type-section .share-target-type .share-target-type-title[data-v-d9b71806]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;font-family:PingFang SC;font-weight:500;font-size:%?28?%;line-height:%?42?%;letter-spacing:0;color:#000}.share-tab-content .share-tab-container .share-target-type-section .share-target-type .share-target-type-selected-icon[data-v-d9b71806]{position:absolute;top:0;right:0;width:%?61?%;\n  /* 根据实际情况调整图片大小 */height:%?64?%}.share-tab-content .share-tab-container .share-target-type-section .share-target-type .share-target-type-content[data-v-d9b71806]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;font-family:PingFang SC;font-weight:400;font-size:%?20?%;line-height:%?42?%;color:rgba(0,0,0,.45098039215686275)}.share-tab-content .share-tab-container .share-price-change-section[data-v-d9b71806]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-webkit-box-align:center;-webkit-align-items:center;align-items:center;border-radius:%?16?%;background-color:#fff;padding:%?24?%;height:%?83?%;margin-top:%?24?%}.share-tab-content .share-tab-container .share-price-change-section .share-price-change-front[data-v-d9b71806]{font-size:%?28?%;line-height:%?42?%;color:red;font-weight:500;margin-right:%?5?%;margin-top:%?5?%}.share-tab-content .share-tab-container .share-price-change-section .share-price-change-title[data-v-d9b71806]{font-size:%?28?%;line-height:%?42?%;color:#000;font-weight:500;margin-right:%?10?%}.share-tab-content .share-tab-container .share-price-change-section .hint-icon[data-v-d9b71806]{margin-top:%?10?%;width:%?40?%;height:%?40?%}.share-tab-content .share-tab-container .share-price-change-section .uni-stat-tooltip[data-v-d9b71806]{width:200px}.share-tab-content .share-tab-container .share-price-change-section .share-price-change-template[data-v-d9b71806]{-webkit-box-flex:1;-webkit-flex:1;flex:1}.share-tab-content .share-tab-container .share-price-change-section .share-price-change-unit[data-v-d9b71806]{margin-left:%?10?%;font-size:%?28?%;line-height:%?42?%;color:#000;font-weight:500}.share-tab-content .store-title[data-v-d9b71806]{width:100%;height:100%;padding:24px}.share-tab-content .store-title .share-store-card[data-v-d9b71806]{width:100%;height:100%}.share-tab-content .store-title .share-store-card .store-card-edit-title[data-v-d9b71806]{font-size:14px;line-height:22px;color:rgba(0,0,0,.45);display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between}.share-tab-content .store-title .share-store-card .store-card-container[data-v-d9b71806]{margin-top:12px;background-color:#fff;border-radius:8px;padding:12px 8px;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-flex-wrap:nowrap;flex-wrap:nowrap;-webkit-box-align:end;-webkit-align-items:flex-end;align-items:flex-end}.share-tab-content .store-title .share-store-card .store-card-container .card-item-image[data-v-d9b71806]{width:40px;height:40px;margin-right:12px;border-radius:5px}.share-tab-content .store-title .share-store-card .store-card-container .text_field_outer[data-v-d9b71806]{height:40px}.share-tab-content .store-title .share-store-card .store-card-container .card-item-text[data-v-d9b71806]{height:-webkit-max-content;height:max-content;width:unset;-webkit-box-flex:1;-webkit-flex:1;flex:1;font-size:14px;color:rgba(0,0,0,.85)}.share-tab-content .store-title .share-store-card .store-card-container .edit-icon-box[data-v-d9b71806]{width:20px}.share-tab-content .store-title .share-store-card .store-card-container .edit-icon-box .edit-icon[data-v-d9b71806]{width:20px;height:20px}.share-tab-content .store-title .share-store-card .car-card-container[data-v-d9b71806]{width:100%;background-color:#fff;border-radius:8px;margin-top:12px;padding:12px;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column}.share-tab-content .store-title .share-store-card .car-card-container .car-card-text[data-v-d9b71806]{-webkit-box-flex:1;-webkit-flex:1;flex:1;display:-webkit-box;display:-webkit-flex;display:flex}.share-tab-content .store-title .share-store-card .car-card-container .car-card-text .text_field_outer[data-v-d9b71806]{height:40px}.share-tab-content .store-title .share-store-card .car-card-container .car-card-text .card-item-text[data-v-d9b71806]{height:-webkit-max-content;height:max-content;min-height:44px;width:unset;-webkit-box-flex:1;-webkit-flex:1;flex:1;font-size:14px;color:rgba(0,0,0,.85)}.share-tab-content .store-title .share-store-card .car-card-container .car-card-text .edit-icon-box[data-v-d9b71806]{width:20px}.share-tab-content .store-title .share-store-card .car-card-container .car-card-text .edit-icon-box .edit-icon[data-v-d9b71806]{width:20px;height:20px}.share-tab-content .store-title .share-store-card .car-card-container .car-card-logo[data-v-d9b71806]{width:100%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:end;-webkit-align-items:flex-end;align-items:flex-end;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;margin-top:4px}.share-tab-content .store-title .share-store-card .car-card-container .car-card-logo .app-name[data-v-d9b71806]{color:rgba(0,0,0,.45);font-size:12px}.share-tab-content .store-title .share-store-card .car-card-container .car-card-logo .card-item-image[data-v-d9b71806]{width:56px;height:56px}.share-tab-content .share-tab-close[data-v-d9b71806]{position:absolute;top:0;right:24px;height:%?70?%;z-index:9999;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center}.share-tab-content .share-tab-close .share-close-icon[data-v-d9b71806]{width:18px;height:18px}.share-tab-content .share-tab-close-list[data-v-d9b71806]{position:absolute;top:16px;right:16px;z-index:9999;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center}.share-tab-content .share-tab-close-list .share-close-icon[data-v-d9b71806]{width:22px;height:22px}.share-tab-content .share-btns[data-v-d9b71806]{width:100%;padding:24px;padding-top:0;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between}.share-tab-content .share-btns .share-icon-item[data-v-d9b71806]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;font-size:10px;color:rgba(0,0,0,.65)}.share-tab-content .share-btns .text[data-v-d9b71806]{margin-top:6px}.share-tab-content .share-btns .image-item[data-v-d9b71806]{width:40px;height:40px}.share-tab-content .cancel-box[data-v-d9b71806]{width:100%;padding:13px 16px}.share-tab-content .cancel-box .cancel-btn[data-v-d9b71806]{width:100%;padding:7px 0;border:none;background-color:#fff;font-size:14px;line-height:22px}.share-tab-content .share-img-box[data-v-d9b71806]{width:200px;height:200px;padding:12px;padding-bottom:0;border-radius:8px;background-color:#fff;box-shadow:0 0 5px 2px rgba(0,0,0,.06)}',""]),e.exports=t},"11f3":function(e,t,a){var i=a("24fb");t=i(!1),t.push([e.i,'@charset "UTF-8";\n\n\n/* 行为相关颜色 */.uni-numbox[data-v-753ba1f2]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row}.uni-numbox-btns[data-v-753ba1f2]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;padding:0 8px;background-color:#f5f5f5;cursor:pointer}.uni-numbox__value[data-v-753ba1f2]{margin:0 2px;background-color:#f5f5f5;width:40px;height:26px;text-align:center;font-size:14px;border-width:0;color:#333}.uni-numbox__minus[data-v-753ba1f2]{border-top-left-radius:2px;border-bottom-left-radius:2px}.uni-numbox__plus[data-v-753ba1f2]{border-top-right-radius:2px;border-bottom-right-radius:2px}.uni-numbox--text[data-v-753ba1f2]{line-height:20px;margin-bottom:2px;font-size:20px;font-weight:300;color:#333}.uni-numbox .uni-numbox--disabled[data-v-753ba1f2]{color:silver!important;cursor:not-allowed}',""]),e.exports=t},3103:function(e,t,a){"use strict";var i=a("6c7f"),n=a.n(i);n.a},"45bb0":function(e,t,a){var i=a("24fb");t=i(!1),t.push([e.i,'@charset "UTF-8";\n\n\n/* 行为相关颜色 */.pic-container[data-v-3eb77322]{width:100%;box-sizing:border-box}.tel-pic-show[data-v-3eb77322]{width:100%;height:100%;position:relative}.tel-pic-show .loading[data-v-3eb77322]{position:absolute;top:0;left:0;width:100%;height:100%;background-color:#fff;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center}.tel-pic-show .loading .loading-spinner[data-v-3eb77322]{border:4px solid rgba(0,0,0,.1);border-left-color:rgba(0,0,0,.36);\n  /* 蓝色为旋转的可见部分 */border-radius:50%;width:30px;height:30px;-webkit-animation:spin-data-v-3eb77322 1s linear infinite;animation:spin-data-v-3eb77322 1s linear infinite;position:relative;\n  /* 如果需要，可以调整位置 */display:inline-block\n  /* 允许与文本或其他元素并排显示 */}@-webkit-keyframes spin-data-v-3eb77322{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}100%{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@keyframes spin-data-v-3eb77322{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}100%{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}.tel-pic-show .loading .loading-reset[data-v-3eb77322]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;font-size:14px;-webkit-box-align:center;-webkit-align-items:center;align-items:center;color:rgba(0,0,0,.45)}.tel-pic-show .pic-box[data-v-3eb77322]{width:100%;height:100%}.tel-pic-show .pic-box .img[data-v-3eb77322]{display:inline-block;overflow:hidden;background-position:50%;background-size:cover;background-repeat:no-repeat;border-radius:%?16?%}.tel-pic-show .pic-box .img[data-v-3eb77322]:nth-child(3n+3){margin-right:0!important}',""]),e.exports=t},4829:function(e,t,a){var i=a("45bb0");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var n=a("4f06").default;n("32899c32",i,!0,{sourceMap:!1,shadowMode:!1})},"531c":function(e,t,a){"use strict";var i=a("4829"),n=a.n(i);n.a},"6c2f":function(e,t,a){var i=a("24fb");t=i(!1),t.push([e.i,'@charset "UTF-8";\n\n\n/* 行为相关颜色 */.share-write-box[data-v-1b407b8c]{padding:12px}.share-write-box .share-write-container[data-v-1b407b8c]{width:100%}.share-write-box .share-write-container .share-write-text[data-v-1b407b8c]{height:80px}.share-write-box .share-write-container .share-write-text .share-item-text[data-v-1b407b8c]{line-height:20px;font-size:12px}.share-copy-btn[data-v-1b407b8c]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;padding:12px}.share-copy-btn .my-conpy-btn[data-v-1b407b8c]{font-size:12px!important;line-height:18px!important;padding:3px 10px!important;color:rgba(0,0,0,.45)!important}.radio[data-v-1b407b8c]{color:rgba(0,0,0,.45);font-size:12px;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.radio .dim-price .uni-checkbox-input[data-v-1b407b8c]{border-radius:50%}[data-v-1b407b8c] .uni-checkbox-input{border-radius:50%!important}',""]),e.exports=t},"6c7f":function(e,t,a){var i=a("6c2f");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var n=a("4f06").default;n("160f90fa",i,!0,{sourceMap:!1,shadowMode:!1})},"98c4":function(e,t,a){"use strict";a.r(t);var i=a("f07e"),n=a("c964"),r=(a("99af"),a("4de4"),a("caad"),a("d81d"),a("fb6a"),a("f4b3"),a("e9c4"),a("d3b7"),a("2532"),{uniPopup:a("1c89").default,jpTabs:a("1a52").default,uniIcons:a("1a49").default,uniNumberBox:a("bd47").default}),s=a("f3f3"),o=(a("45fc"),{uniIcons:a("1a49").default}),c=a("d0ff"),l=(a("4160"),a("a9e3"),a("b64b"),a("ac1f"),a("159b"),{props:{imageArr:{type:Array,default:function(){return[]}},lineNum:{type:Number,default:3},spacingNumber:{type:Number,default:12},h5Url:{type:String,default:""},qrCodeUrl:{type:String,default:""}},data:function(){return{imgW:"",imgH:"",screenWidth:0,imageList:[],loadImageCount:0,isLoading:!0,loadingReset:!0}},watch:{qrCodeUrl:function(e,t){e!=t&&this.addQrcode(e)}},mounted:function(){var e=this;uni.createSelectorQuery().in(this).select(".tel-pic-show").boundingClientRect((function(t){e.screenWidth=t.width,e.imgW=(e.screenWidth-(e.lineNum-1)*e.spacingNumber)/e.lineNum,e.imgH=e.imgW})).exec(),this.addQrcode(this.qrCodeUrl)},methods:{prevsImages:function(e,t){uni.previewImage({urls:e.map((function(e){return e.url})),current:t})},addQrcode:function(e){if("",this.imageArr.length>=9){var t=JSON.parse(JSON.stringify(this.imageArr)).slice(0,9);this.imageList=Object(c["a"])(t)}else this.imageList=Object(c["a"])(this.imageArr)},handleImageLoad:function(e){this.loadImageCount++,this.loadImageCount===this.imageList.length&&(this.isLoading=!1)},handleImageError:function(e){this.loadingReset=!1},resetHandle:function(){this.loadingReset=!0,this.imageList=this.imageList.map((function(e){return{url:e.url.split("?")[0]+"?".concat((new Date).getTime()),img:e.url.split("?")[0]+"?".concat((new Date).getTime())}}))},saveImage:function(){this.saveImageToPhotos()},saveImageVx:function(){this.saveImageToPhotos("open")},saveImageToPhotos:function(e){var t=this.imageList||[],a=0;t.forEach((function(i,n){setTimeout((function(){uni.saveImageToPhotosAlbum({filePath:i.url,success:function(){a++,uni.showLoading({title:"保存图片".concat(a,"/").concat(t.length),duration:2e7}),a==t.length&&(uni.showLoading({title:"保存成功",icon:"none",duration:800}),"open"==e&&plus.runtime.openURL("weixin://"))},fail:function(e){uni.hideLoading()}})}),500)})),uni.hideLoading()}}}),d=l,h=(a("531c"),a("f0c5")),u=Object(h["a"])(d,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-uni-view",{staticClass:"pic-container"},[a("v-uni-view",{staticClass:"tel-pic-show"},[e.isLoading?a("v-uni-view",{staticClass:"loading"},[e.loadingReset?a("v-uni-view",{staticClass:"loading-spinner"}):a("v-uni-view",{staticClass:"loading-reset",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.resetHandle.apply(void 0,arguments)}}},[a("uni-icons",{attrs:{type:"refreshempty",size:"28",color:""}}),e._v("刷新")],1)],1):e._e(),a("v-uni-view",{staticClass:"pic-box"},[e._l(e.imageList,(function(t,i){return[a("img",{key:i+"_0",staticClass:"img",style:{width:e.imgW+"px",height:e.imgH+"px",marginBottom:"8px",marginRight:e.spacingNumber+"px"},attrs:{src:t.url},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.prevsImages(e.imageList,i)},load:function(t){arguments[0]=t=e.$handleEvent(t),e.handleImageLoad(i)},error:function(t){arguments[0]=t=e.$handleEvent(t),e.handleImageError(i)}}})]}))],2)],1)],1)}),[],!1,null,"3eb77322",null,!1,o,void 0),p=u.exports,b={jpTabs:a("1a52").default,o2Button:a("d9e27").default},f=(a("5319"),a("2fa4")),g={name:"share-write",props:{carInfo:{type:Object,default:null},h5Url:{type:String,default:""},carType:{type:String,default:""}},data:function(){return{singleCarInfo:{},tabData:[],shareUserInfo:{},current:0,dimPrice:!1}},watch:{h5Url:function(e,t){e!=t&&e&&this.tabData.length&&("single"==this.carType?this.tabData[0].content="【车辆名称】"+this.singleCarName()+"\n【上牌时间】"+this.registerDate()+"\n【行驶里程】"+this.mileage()+"万公里\n【车辆排量】"+this.displacement()+"\n【诚信车商】"+this.merchantName():"more"==this.carType&&(this.tabData=[{title:"标准版",content:"【🚘诚信车商】"+this.merchantName(),type:"1"},{title:"亲和版",content:"今天为您推荐的车🚗🚗🚗，都是资深评估师检测💁‍♂️，车况一流，外观内饰保养非常好，朋友圈首发哦～先约先得，可以接受分期～",type:"2"},{title:"新车到店",content:"——【"+this.merchantName()+"】——\n新车到店🚘，车况精品，欢迎咨询！\n",type:"3"},{title:"特价推荐",content:"🎉🎉今日特价好车，欢迎咨询，手慢无哦\n",type:"4"}]))}},mounted:function(){var e=uni.getStorageSync("userInfo");this.shareUserInfo=e,this.singleCarInfo=this.carInfo,this.getTabInfo()},methods:{getTabInfo:function(){"more"==this.carType?this.tabData=[{title:"标准版",content:"【🚘诚信车商】"+this.merchantName(),type:"1"},{title:"亲和版",content:"今天为您推荐的车🚗🚗🚗，都是资深评估师检测💁‍♂️，车况一流，外观内饰保养非常好，朋友圈首发哦～先约先得，可以接受分期～",type:"2"},{title:"新车到店",content:"——【"+this.merchantName()+"】——\n新车到店🚘，车况精品，欢迎咨询！\n",type:"3"},{title:"特价推荐",content:"🎉🎉今日特价好车，欢迎咨询，手慢无哦\n",type:"4"}]:"single"==this.carType&&(this.tabData=[{title:"标准版",content:"【车辆名称】"+this.singleCarName()+"\n【上牌时间】"+this.registerDate()+"\n【行驶里程】"+this.mileage()+"万公里\n【车辆排量】"+this.displacement()+"\n【诚信车商】"+this.merchantName(),type:"1"},{title:"简洁版",content:"🔥精品车源🔥\n【"+this.singleCarName()+"】，车龄短，里程低🎉\n欢迎您进店品鉴🚗\n",type:"2"},{title:"新车到店",content:"⚡【"+this.singleCarName()+"】🆕到店啦⚡\n外观精美，内饰如新 \n优质车源，不容错过💥💥💥\n",type:"3"},{title:"热门好车",content:"【"+this.singleCarName()+"】🥳🥳🥳精品到店\n经过严格检测，车况良好，保养有序🚗 精品别错过❗\n💥💥💥\n一流的品质，超乎您想象🉑\n",type:"4"}])},getDimTabInfo:function(){"single"==this.carType&&(this.tabData=[{title:"标准版",content:"【车辆名称】"+this.singleCarName()+"\n【上牌时间】"+this.registerDate()+"\n【行驶里程】"+this.mileage()+"万公里\n【车辆排量】"+this.displacement()+"\n【诚信车商】"+this.merchantName(),type:"1"},{title:"简洁版",content:"🔥精品车源🔥\n【"+this.singleCarName()+"】，车龄短，里程低🎉\n欢迎您进店品鉴🚗\n",type:"2"},{title:"新车到店",content:"⚡【"+this.singleCarName()+"】🆕到店啦⚡\n外观精美，内饰如新 \n优质车源，不容错过💥💥💥\n",type:"3"},{title:"热门好车",content:"【"+this.singleCarName()+"】🥳🥳🥳精品到店\n经过严格检测，车况良好，保养有序🚗 精品别错过❗\n💥💥💥\n一流的品质，超乎您想象🉑\n欢迎咨询👏：【"+this.shareUserPhone()+" 】",type:"4"}])},singleCarNetworkPrice:function(){var e;return this.singleCarInfo&&this.singleCarInfo["vehicleInformationExtendVo"]?null!==(e=this.singleCarInfo["vehicleInformationExtendVo"])&&void 0!==e&&e.markedAdjustPriceDisplay?this.singleCarInfo["vehicleInformationExtendVo"].markedAdjustPriceDisplay+"万":this.singleCarInfo["vehicleInformationExtendVo"].markedPriceDisplay?this.singleCarInfo["vehicleInformationExtendVo"].markedPriceDisplay+"万":"未定价":"未定价"},singleCarNetworkPriceDim:function(){var e;return this.singleCarInfo&&this.singleCarInfo["vehicleInformationExtendVo"]?null!==(e=this.singleCarInfo["vehicleInformationExtendVo"])&&void 0!==e&&e.markedAdjustPriceDisplay?Object(f["a"])(this.singleCarInfo["vehicleInformationExtendVo"].markedAdjustPriceDisplay)+"万":this.singleCarInfo["vehicleInformationExtendVo"].markedPriceDisplay?Object(f["a"])(this.singleCarInfo["vehicleInformationExtendVo"].markedPriceDisplay)+"万":"未定价":"未定价"},singleCarName:function(){return this.singleCarInfo&&this.singleCarInfo["brandText"]?this.singleCarInfo["brandText"].replace(/#/g," "):"未知"},changeDimprice:function(e){e.target.value.length?this.getDimTabInfo():this.getTabInfo()},registerDate:function(){return this.singleCarInfo&&this.singleCarInfo["registerDate"]?this.singleCarInfo["registerDate"]:"未知"},mileage:function(){return this.singleCarInfo&&this.singleCarInfo["mileage"]?this.singleCarInfo["mileage"]:0},merchantName:function(){return"卡泰驰买卖车"},displacement:function(){return this.singleCarInfo&&this.singleCarInfo["displacement"]?this.singleCarInfo["displacement"]:"未知"},shareUserPhone:function(){return this.shareUserInfo&&this.shareUserInfo["userPhone"]?" "+this.shareUserInfo["userPhone"]:""},shareUserName:function(){return this.shareUserInfo&&this.shareUserInfo["userChName"]?" "+this.shareUserInfo["userChName"]:""},singleCarNetworkPrice2:function(){var e,t,a,i,n;return this.singleCarInfo&&null!==(e=this.singleCarInfo["vehicleInformationExtendVo"])&&void 0!==e&&e.markedAdjustPriceDisplay?null!==(t=this.singleCarInfo["vehicleInformationExtendVo"])&&void 0!==t&&t.markedAdjustPriceDisplay?"现仅售【"+(null===(i=this.singleCarInfo["vehicleInformationExtendVo"])||void 0===i?void 0:i.markedAdjustPriceDisplay)+"】万元❗":null!==(a=this.singleCarInfo["vehicleInformationExtendVo"])&&void 0!==a&&a.markedPriceDisplay?"现仅售【"+(null===(n=this.singleCarInfo["vehicleInformationExtendVo"])||void 0===n?void 0:n.markedPriceDisplay)+"】万元❗":"":""},singleCarNetworkPriceDim2:function(){var e,t,a,i,n;return this.singleCarInfo&&null!==(e=this.singleCarInfo["vehicleInformationExtendVo"])&&void 0!==e&&e.markedAdjustPriceDisplay?null!==(t=this.singleCarInfo["vehicleInformationExtendVo"])&&void 0!==t&&t.markedAdjustPriceDisplay?"现仅售【"+Object(f["a"])(null===(i=this.singleCarInfo["vehicleInformationExtendVo"])||void 0===i?void 0:i.markedAdjustPriceDisplay)+"】万元❗":null!==(a=this.singleCarInfo["vehicleInformationExtendVo"])&&void 0!==a&&a.markedPriceDisplay?"现仅售【"+Object(f["a"])(null===(n=this.singleCarInfo["vehicleInformationExtendVo"])||void 0===n?void 0:n.markedPriceDisplay)+"】万元❗":"":""},changeTab:function(e){uni.hideLoading()},copyWa:function(){var e=this.tabData[this.current].content;uni.setClipboardData({data:e,success:function(){uni.showToast({title:"复制成功",icon:"none"})},fail:function(){uni.showToast({title:"复制失败",icon:"none"})}})}}},m=g,x=(a("3103"),Object(h["a"])(m,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-uni-view",[a("jp-tabs",{attrs:{field:"title",scroll:!1,tabs:e.tabData,activeStyle:{color:"#000",fontWeight:"500",maxWidth:"80px",justifyContent:"center",fontSize:"14px"},itmStyle:{maxWidth:"80px",fontSize:"14px",justifyContent:"center",color:"rgba(0,0,0,.45)",fontWeight:"400"},lineStyle:{background:"#f8b500",borderRadius:"2px",height:"2px"}},on:{change:function(t){arguments[0]=t=e.$handleEvent(t),e.changeTab.apply(void 0,arguments)}},model:{value:e.current,callback:function(t){e.current=t},expression:"current"}}),a("v-uni-view",{staticClass:"share-write-box"},e._l(e.tabData,(function(t,i){return a("v-uni-view",{key:i,staticClass:"share-write-container"},[i==e.current?a("v-uni-scroll-view",{staticClass:"share-write-text",staticStyle:{"white-space":"nowrap"},attrs:{"scroll-y":!0,"show-scrollbar":!0}},[a("v-uni-textarea",{staticClass:"share-item-text",attrs:{maxlength:"-1"},model:{value:t.content,callback:function(a){e.$set(t,"content",a)},expression:"item.content"}})],1):e._e()],1)})),1),a("v-uni-view",{staticClass:"share-copy-btn"},[a("v-uni-view"),a("o2-button",{staticStyle:{padding:"3px 10px",color:"rgba(0, 0, 0, .45)",border:"0.5px solid #00000040","border-radius":"4px"},attrs:{label:"复制文案",size:"mini",customClass:"fs12 lh18",plain:!0,type:"123"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.copyWa.apply(void 0,arguments)}}})],1)],1)}),[],!1,null,"1b407b8c",null,!1,b,void 0)),v=x.exports,w=a("26cb"),y=a("e102"),k={components:{shareImage:p,shareWrite:v},props:{closeBtn:{type:Boolean,default:!0},tabs:{type:Array,default:function(){return[]}},shareType:{type:String,default:""},shareImage:{type:String,default:Object(y["b"])("https://mmc-vehicle-info-prod.cartech.cn/obs-oldtest/1024x1024.png",y["a"].RESIZE,{width:360})},currentKey:{type:String,default:""},h5Url:{type:String,default:""},defaultText:{type:String,default:""},carType:{type:String,default:""}},data:function(){return{current:0,container:"",editFlag:!1,carInfo:{},singleCarInfo:{},titleNum:0,titleData:[],shareTargetType:1,changePriceValue:0,btns:[{icon:"../../../static/wechat.svg",text:"微信好友",label:"weChat"},{icon:"../../../static/share-svg/friend.png",text:"朋友圈",label:"friend"}],qrCodeUrl:"",isTooltipVisible:!1,placement:"top",defaultImg:Object(y["b"])("https://mmc-vehicle-info-prod.cartech.cn/obs-oldtest/1024x1024.png",y["a"].RESIZE,{width:168}),DealType:y["a"]}},computed:Object(s["a"])({isHaveAdminPremission:function(){var e=this;return["005812207","006012206","005812208","S03397_20293","021812256","hpc_pre_yc_admin"].some((function(t){return e.userRoleCodes.includes(t)}))},initPlacement:function(){var e={};switch(this.placement){case"left":e={top:"50%",transform:"translateY(-50%)",right:"100%",marginRight:"10rpx"};break;case"right":e={top:"50%",transform:"translateY(-50%)",left:"100%",marginLeft:"10rpx"};break;case"top":e={bottom:"100%",transform:"translateX(-50%)",left:"50%",marginBottom:"10rpx"};break;case"bottom":e={top:"100%",transform:"translateX(-50%)",left:"50%",marginTop:"10rpx"};break}return e}},Object(w["mapState"])({userAuthCodes:function(e){return e.user.userAuthCodes},userInfo:function(e){return e.user.userInfo||{}},userRoleCodes:function(e){return e.user.userRoleCodes||[]}})),created:function(){if("carInfo"==this.currentKey){var e=uni.getStorageSync("cloudFactoryShareData"),t=uni.getStorageSync("userInfo");this.carInfo=e,this.singleCarInfo=Object(s["a"])(Object(s["a"])({},e.singleCarInfo),{},{brandText:e.brandText}),"single"==this.carType?this.titleData=["".concat(e.brandText,"，专业检测 放心"),"".concat(e.brandText,"，诚信商家认证"),"".concat(e.brandText,"，店长推荐")]:"more"!=this.carType&&"list"!=this.carType||(this.titleData=["".concat(t.userChName,"向您推荐").concat(e.carLength,"辆好车，专业检测，诚信商家认证 ——卡泰驰买卖车"),"".concat(t.userChName,"向您推荐").concat(e.carLength,"辆好车，杜绝事故，精选优质 ——卡泰驰买卖车"),"".concat(t.userChName,"向您推荐").concat(e.carLength,"辆好车，一站式免费服务 ——卡泰驰买卖车")])}},watch:{defaultText:{handler:function(e,t){e!=t&&(this.container=e)},immediate:!0},current:function(e,t){"1"==e?this.btns=[{icon:"../../../static/wechat.svg",text:"微信好友",label:"weChat"},{icon:"../../../static/share-svg/friend.png",text:"朋友圈",label:"friend"},{icon:"../../../static/download.svg",text:"保存图片",label:"savePhoto"}]:"0"==e&&(this.btns=[{icon:"../../../static/wechat.svg",text:"微信好友",label:"weChat"},{icon:"../../../static/share-svg/friend.png",text:"朋友圈",label:"friend"}])},h5Url:function(e,t){e!=t&&this.getQrcode(e)}},methods:{cartechOssImg:y["b"],toggleTooltip:function(){this.isTooltipVisible=!this.isTooltipVisible},getQrcode:function(e){var t=this;return Object(n["a"])(Object(i["a"])().mark((function a(){var n;return Object(i["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,t.$http.get(t.$requestUrl.mmc_vehicle.getQRcode,{qrContent:e});case 2:n=a.sent,0==n.data.code?t.qrCodeUrl=n.data.data||"":uni.showToast({title:"生成二维码失败！",icon:"none"});case 4:case"end":return a.stop()}}),a)})))()},showPopup:function(){this.$refs.tabPopup.open("top")},changeTab:function(e){uni.hideLoading()},copyRefHandle:function(){this.$refs.shareWriteRef.copyWa()},handleClose:function(){this.$emit("close")},shareClick:function(e){this.$emit("shareClick",{type:e,container:this.container,current:this.current,shareTargetType:this.shareTargetType,changePrice:this.changePriceValue})},handleFocus:function(){this.editFlag=!0},handleBlur:function(){this.editFlag=!1},saveImgs:function(){this.$refs.shareImg.saveImage()},saveImgsVx:function(){this.$refs.shareImg.saveImageVx()},changeContainer:function(){this.container=this.titleData[this.titleNum],this.titleNum<2?this.titleNum++:this.titleNum=0}}},C=k,I=(a("0adc"),Object(h["a"])(C,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("uni-popup",{ref:"tabPopup",attrs:{type:"bottom"},on:{close:function(t){arguments[0]=t=e.$handleEvent(t),e.handleClose.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"share-tab-content"},["tab"==e.shareType?i("v-uni-view",{style:{flex:1,position:"relative"}},["more"==e.carType||"single"==e.carType?i("jp-tabs",{attrs:{field:"name",scroll:!1,tabs:e.tabs,activeStyle:{maxWidth:"80px",color:"#000",fontWeight:"500",justifyContent:"center"},itmStyle:{maxWidth:"80px",justifyContent:"center",color:"rgba(0,0,0,.45)",fontWeight:"500"},lineStyle:{background:"#f8b500",borderRadius:"2px",height:"2px"}},on:{change:function(t){arguments[0]=t=e.$handleEvent(t),e.changeTab.apply(void 0,arguments)}},model:{value:e.current,callback:function(t){e.current=t},expression:"current"}}):e._e(),"list"==e.carType?i("v-uni-view",{staticClass:"list-title"},[e._v("分享列表")]):e._e(),i("v-uni-view",{staticClass:"share-tab-container"},[0==e.current?i("v-uni-view",{staticClass:"tab-item-0"},[i("v-uni-view",{staticClass:"store-title padding-0"},[i("v-uni-view",{staticClass:"share-store-card"},[i("v-uni-view",{staticClass:"store-card-edit-title"},[i("v-uni-text",[e._v("点击可编辑分享标题")]),i("v-uni-view",{staticStyle:{color:"#F8B500","font-style":"'14px'"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.changeContainer.apply(void 0,arguments)}}},[i("uni-icons",{attrs:{type:"refreshempty",size:"14",color:"#F8B500"}}),e._v("换标题")],1)],1),i("v-uni-view",{staticClass:"car-card-container"},[i("v-uni-view",{staticClass:"car-card-text"},[i("v-uni-scroll-view",{staticClass:"text_field_outer",staticStyle:{"white-space":"nowrap"},attrs:{"scroll-y":!0,"show-scrollbar":!0}},[i("v-uni-textarea",{staticClass:"card-item-text",attrs:{maxlength:"-1"},model:{value:e.container,callback:function(t){e.container=t},expression:"container"}})],1),i("v-uni-view",{staticClass:"edit-icon-box"},[i("v-uni-image",{staticClass:"edit-icon",attrs:{src:a("5754")}})],1)],1),i("v-uni-view",{staticClass:"car-card-logo"},[i("v-uni-text",{staticClass:"app-name"},[e._v("卡泰驰买卖车")]),"single"==e.carType?i("v-uni-image",{staticClass:"card-item-image",attrs:{src:e.carInfo&&e.carInfo.imgList&&e.carInfo.imgList.length?e.carInfo.imgList[0].url:e.cartechOssImg("https://mmc-vehicle-info-prod.cartech.cn/obs-oldtest/1024x1024.png",e.DealType.RESIZE,{width:360})}}):i("v-uni-image",{staticClass:"card-item-image",attrs:{src:e.cartechOssImg("https://mmc-vehicle-info-prod.cartech.cn/obs-oldtest/1024x1024.png",e.DealType.RESIZE,{width:360})}})],1)],1)],1)],1)],1):1==e.current?i("v-uni-view",{staticStyle:{display:"flex","align-items":"center","justify-content":"center"}},[i("share-image",{ref:"shareImg",staticClass:"share-img-box",attrs:{imageArr:e.carInfo.imgList,lineNum:3,spacingNumber:12,h5Url:e.h5Url,qrCodeUrl:e.qrCodeUrl}})],1):e._e(),"single"==e.carType||"more"==e.carType?i("v-uni-view",{staticClass:"share-write"},[i("shareWrite",{ref:"shareWriteRef",attrs:{carInfo:e.singleCarInfo,h5Url:e.h5Url,carType:e.carType}})],1):e._e(),i("v-uni-view",{staticClass:"share-target-type-section"},[i("v-uni-view",{staticClass:"share-target-type",style:{backgroundColor:1==e.shareTargetType?"#FFF9EB":"#fff",border:1==e.shareTargetType?"2px solid #F8B500":"2px solid #FFF"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.shareTargetType=1}}},[1==e.shareTargetType?i("v-uni-image",{staticClass:"share-target-type-selected-icon",attrs:{src:"https://cimg-cdn.haier.net/obs-oldtest/2025/03/19/VkIdHwMH/share-select.png"}}):e._e(),i("v-uni-view",{staticClass:"share-target-type-title"},[e._v("分享C端用户")]),i("v-uni-view",{staticClass:"share-target-type-content"},[e._v("按零售价分享")])],1),e.isHaveAdminPremission?i("v-uni-view",{staticClass:"share-target-type",style:{backgroundColor:0==e.shareTargetType?"#FFF9EB":"#fff",border:0==e.shareTargetType?"2px solid #F8B500":"2px solid #FFF"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.shareTargetType=0}}},[0==e.shareTargetType?i("v-uni-image",{staticClass:"share-target-type-selected-icon",attrs:{src:"https://cimg-cdn.haier.net/obs-oldtest/2025/03/19/VkIdHwMH/share-select.png"}}):e._e(),i("v-uni-view",{staticClass:"share-target-type-title"},[e._v("分享B端车商")]),i("v-uni-view",{staticClass:"share-target-type-content"},[e._v("按内网价+零售价分享")])],1):e._e()],1),i("v-uni-view",{staticClass:"share-price-change-section"},[i("v-uni-view",{staticClass:"share-price-change-front"},[e._v("*")]),i("v-uni-view",{staticClass:"share-price-change-title"},[e._v("分享零售价调整幅度")]),i("v-uni-view",{staticClass:"container"},[i("v-uni-image",{staticClass:"hint-icon",attrs:{src:"https://cimg-cdn.haier.net/obs-oldtest/2025/03/19/0lEupY1e/hint.png",mode:""},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.toggleTooltip.apply(void 0,arguments)}}}),e.isTooltipVisible?i("v-uni-view",{staticClass:"tooltip",style:e.initPlacement},[i("v-uni-view",{staticClass:"uni-stat-tooltip"},[i("v-uni-view",{staticClass:"uni-stat-tooltip-content"},[e._v("1.所选车辆按照零售价统一增幅金额进行分享")]),i("v-uni-view",{staticClass:"uni-stat-tooltip-content"},[e._v("2.分享零售价仅对本次分享链接生效")])],1)],1):e._e()],1),i("v-uni-view",{staticClass:"share-price-change-template"}),i("uni-number-box",{attrs:{width:60,min:0,max:9e16,step:1e3},model:{value:e.changePriceValue,callback:function(t){e.changePriceValue=t},expression:"changePriceValue"}}),i("v-uni-view",{staticClass:"share-price-change-unit"},[e._v("元")])],1)],1),i("v-uni-view",{class:"more"==e.carType||"single"==e.carType?"share-tab-close":"share-tab-close-list",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.handleClose.apply(void 0,arguments)}}},["tab"==e.shareType?i("v-uni-image",{staticClass:"share-close-icon",attrs:{src:a("6694")}}):e._e()],1)],1):"card"==e.shareType?i("v-uni-view",{style:{flex:1}},[i("v-uni-view",{staticClass:"store-title"},[i("v-uni-view",{staticClass:"share-store-card"},[i("v-uni-text",{staticClass:"store-card-edit-title"},[e._v("点击可编辑分享标题")]),i("v-uni-view",{staticClass:"store-card-container"},[i("v-uni-image",{staticClass:"card-item-image",attrs:{src:e.shareImage}}),i("v-uni-scroll-view",{staticClass:"text_field_outer",staticStyle:{"white-space":"nowrap",flex:"1"},attrs:{"scroll-y":!0,"show-scrollbar":!0}},[i("v-uni-textarea",{staticClass:"card-item-text",attrs:{maxlength:"-1"},on:{blur:function(t){arguments[0]=t=e.$handleEvent(t),e.handleBlur.apply(void 0,arguments)},focus:function(t){arguments[0]=t=e.$handleEvent(t),e.handleFocus.apply(void 0,arguments)}},model:{value:e.container,callback:function(t){e.container=t},expression:"container"}})],1),i("v-uni-view",{staticClass:"edit-icon-box"},[i("v-uni-image",{directives:[{name:"show",rawName:"v-show",value:!e.editFlag,expression:"!editFlag"}],staticClass:"edit-icon",attrs:{src:a("5754")}})],1)],1)],1)],1)],1):e._e(),i("v-uni-view",{staticClass:"share-btns"},[e._l(e.btns,(function(t,a){return i("v-uni-view",{key:a,staticClass:"share-icon-item",on:{click:function(a){arguments[0]=a=e.$handleEvent(a),e.shareClick(t.label)}}},[i("v-uni-image",{staticClass:"image-item",attrs:{src:t.icon}}),i("v-uni-text",{staticClass:"text"},[e._v(e._s(t.text))])],1)})),e.btns.length<4?i("v-uni-view",e._l(new Array(4-e.btns.length),(function(t,a){return i("v-uni-view",{key:a,staticClass:"share-icon-item"},[i("v-uni-image",{staticClass:"image-item"}),i("v-uni-text",{staticClass:"text"},[e._v(e._s())])],1)})),1):e._e()],2),"card"==e.shareType?i("v-uni-view",{staticClass:"cancel-box"},[i("v-uni-button",{staticClass:"cancel-btn",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.handleClose.apply(void 0,arguments)}}},[e._v("取消")])],1):e._e()],1)],1)}),[],!1,null,"d9b71806",null,!1,r,void 0)),T=I.exports,_=(a("5fc5"),a("71ea")),S=a.n(_),j={name:"sharePopup",components:{shareTab:T},data:function(){return{logoImage:Object(y["b"])("https://mmc-vehicle-info-prod.cartech.cn/obs-oldtest/1024x1024.png",y["a"].RESIZE,{width:360}),sharedefaultImg:Object(y["b"])("https://mmc-vehicle-info-prod.cartech.cn/obs-oldtest/a2eaf3d1a6d6edbc_1320-1.png",y["a"].RESIZE,{width:360}),currentKey:"",storeData:{},shareType:"",shareImage:"",h5Url:"".concat(S.a.WECHAT,"/index.html#/"),carType:"",container:"",shareUrl:"",chainId:"",shareFriendImg:"",shareUuid:"",wx_image_url:"https://cimg-cdn.haier.net/obs-oldtest/2025/01/14/up18q5CY/_id%3D10.png",DealType:y["a"]}},onLoad:function(e){this.currentKey=e.key,this.shareType=e.shareType,this.carType=e.carType,e.page&&(this.h5Url=this.h5Url+e.page,this.shareUrl=e.page)},created:function(){this.getShareParams(),this.getShareImage(0,0)},mounted:function(){this.$refs.sharePopupRef.showPopup()},methods:{cartechOssImg:y["b"],close:function(){uni.navigateBack({delta:1})},getShareParams:function(){var e=this;return Object(n["a"])(Object(i["a"])().mark((function t(){var a,n,r,s;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:a=uni.getStorageSync("userInfo"),n=uni.getStorageSync("cloudFactoryShareData"),r={source:"share"},n.merchantId="storeData"==e.currentKey?[n.storeCode]:Array.isArray(null===n||void 0===n?void 0:n.merchantId)?n.merchantId:n.merchantId?[n.merchantId]:[n.merchantList[0].value],r.userInfo={userName:a.userChName,userCode:a.accountCode,userPhone:a.userPhone},r.carType="storeData"==e.currentKey?"store":e.carType,r.merchantCode="storeData"==e.currentKey?n.storeCode:Array.isArray(null===n||void 0===n?void 0:n.merchantId)?null===n||void 0===n?void 0:n.merchantId[0]:n.merchantId||null,r.platformProductCode="single"==e.carType?n.carId:null,r.onlineShopCode="single"==e.carType?n.singleCarInfo.xwCode:null,r.merchantId=Array.isArray(null===n||void 0===n?void 0:n.merchantId)?null===n||void 0===n?void 0:n.merchantId:[n.merchantId],r.selectList=n.selectList;try{s=e.chainId,"storeData"==e.currentKey?(e.h5Url="".concat(e.h5Url,"?chainId=").concat(s,"&").concat((new Date).getTime()),e.shareImage=e.logoImage,e.container=n.storeFullName||"买卖车",e.shareUrl="pages/homePage/index?chainId=".concat(s,"&").concat((new Date).getTime())):"carInfo"==e.currentKey&&("single"==e.carType?(e.h5Url="".concat(e.h5Url,"?chainId=").concat(s,"&").concat((new Date).getTime()),e.shareImage=n&&n.singleCarInfo?Object(y["b"])("webp"==n.singleCarInfo.carMainPicUrl.slice(0,-4)?n.singleCarInfo.carMainPicUrl:n.singleCarInfo.carMainPicUrl+"_600",y["a"].RESIZE,{width:360}):e.logoImage,e.logoImage=n&&n.singleCarInfo?n.singleCarInfo.carMainPicUrl:e.logoImage,e.container=n.brandText,e.shareUrl="".concat(e.shareUrl,"?chainId=").concat(s,"&carLength=").concat(n.carLength,"&").concat((new Date).getTime())):("more"==e.carType||"list"==e.carType)&&(e.h5Url="".concat(e.h5Url,"?chainId=").concat(s,"&carLength=").concat(n.carLength,"&").concat((new Date).getTime()),e.shareImage=e.logoImage,e.container="".concat(a.userChName,"向您推荐").concat(n.carLength,"辆好车，真实现车，透明车况——卡泰驰买卖车")))}catch(i){uni.showToast({title:"服务器响应失败",icon:"none"})}case 12:case"end":return t.stop()}}),t)})))()},shareHandleClick:function(e){var t=this;return Object(n["a"])(Object(i["a"])().mark((function a(){var n,r,s,o,c,l,d,h;return Object(i["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n=uni.getStorageSync("cloudFactoryShareData"),r=n.shareType,s={share_type:r,share_channel:"weChat"},o=e.type,c=e.container,l=e.current,d=e.shareTargetType,h=e.changePrice,a.next=6,t.getShareImage(d,h);case 6:if(t.shareUuid){a.next=10;break}setTimeout((function(){t.shareHandleClick(e)}),1e3),a.next=25;break;case 10:a.t0=o,a.next="weChat"===a.t0?13:"friend"===a.t0?16:"savePhoto"===a.t0?20:"link"===a.t0?22:24;break;case 13:return t.shareWechart(c,l),t.$Rangers.rangersTrack("cloudstore_share",s),a.abrupt("break",25);case 16:return s.share_channel="friend",t.$Rangers.rangersTrack("cloudstore_share",s),t.handleShareFriend(),a.abrupt("break",25);case 20:return t.saveImage(),a.abrupt("break",25);case 22:return t.copyLink(),a.abrupt("break",25);case 24:return a.abrupt("break",25);case 25:case"end":return a.stop()}}),a)})))()},queryAuthorize:function(){var e=this;return Object(n["a"])(Object(i["a"])().mark((function t(){return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:e;case 1:case"end":return t.stop()}}),t)})))()},copyLink:function(){var e=this;uni.setClipboardData({data:this.h5Url,success:function(){uni.showToast({title:"复制成功",icon:"none"})},fail:function(){uni.showToast({title:"复制失败",icon:"none"})}}),setTimeout((function(){e.close()}),500)},saveImage:function(e){this.$refs.sharePopupRef.copyRefHandle(),"open"==e?this.$refs.sharePopupRef.saveImgsVx():this.$refs.sharePopupRef.saveImgs()},formatShareData:function(){var e=uni.getStorageSync("userInfo"),t=uni.getStorageSync("cloudFactoryShareData"),a={};if("storeData"==this.currentKey)a.title=t.storeFullName||"买卖车",a.desc="优质好店，专注二手好车",a.imgUrl=this.logoImage;else switch(this.carType){case"more":a.title="".concat(e.userChName,"向您推荐").concat(t.carLength," 辆好车，真实现车，透明车况"),a.desc="想你所想，欢迎你来",a.imgUrl=this.logoImage;break;case"list":a.title="".concat(e.userChName,"向您推荐").concat(t.carLength," 辆好车，真实现车，透明车况"),a.desc="想你所想，欢迎你来",a.imgUrl=this.logoImage;break;case"single":a.title=t.brandText,a.desc="发现一台优质好车",a.imgUrl=t&&t.singleCarInfo?t.singleCarInfo.carMainPicUrl:this.logoImage;break;default:break}return a},shareWechart:function(e,t){var a=this;return Object(n["a"])(Object(i["a"])().mark((function n(){var r,s,o;return Object(i["a"])().wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(uni.getStorageSync("cloudFactoryShareData"),r=a,0!=t){i.next=21;break}if("list"!=r.carType&&"more"!=r.carType){i.next=10;break}return"more"==r.carType&&r.$refs.sharePopupRef.copyRefHandle(),s="pages/cloudFactory/index?uuid=".concat(a.shareUuid),i.next=8,plus.share.getServices((function(t){t=t.filter((function(e){return e.nativeClient}));var a=t.map((function(e){return e.id}));a.includes("weixin")?uni.share({provider:"weixin",scene:"WXSceneSession",type:5,href:r.h5Url,title:e||"买卖车",imageUrl:r.logoImage,miniProgram:{id:"gh_fb7103816d0f",path:s,type:"master"==S.a.env||"pre"==S.a.env?0:2,webUrl:r.h5Url},success:function(e){uni.hideLoading()},fail:function(e){uni.showToast({icon:"none",title:"分享失败"})}}):uni.showModal({title:"获取服务供应商失败："+JSON.stringify(err),showCancel:!1,confirmText:"知道了"})}),(function(e){uni.showModal({title:"获取服务供应商失败："+JSON.stringify(e),showCancel:!1,confirmText:"知道了"})}));case 8:i.next=19;break;case 10:if("single"!=r.carType){i.next=17;break}return r.$refs.sharePopupRef.copyRefHandle(),o="pages/cloudDetail/index?uuid=".concat(a.shareUuid),i.next=15,plus.share.getServices((function(t){t=t.filter((function(e){return e.nativeClient}));var a=t.map((function(e){return e.id}));a.includes("weixin")?uni.downloadFile({url:r.shareImage,success:function(t){if(200===t.statusCode){var a=t.tempFilePath;uni.share({provider:"weixin",scene:"WXSceneSession",type:5,title:e||"买卖车",imageUrl:a,miniProgram:{id:"gh_fb7103816d0f",path:o,type:"master"==S.a.env||"pre"==S.a.env?0:2,webUrl:r.h5Url},success:function(e){uni.hideLoading()},fail:function(e){uni.showToast({icon:"none",title:"分享失败"})}})}else uni.share({provider:"weixin",scene:"WXSceneSession",type:5,title:e||"买卖车",imageUrl:r.logoImage,miniProgram:{id:"gh_fb7103816d0f",path:o,type:"master"==S.a.env||"pre"==S.a.env?0:2,webUrl:r.h5Url},success:function(e){uni.hideLoading()},fail:function(e){uni.showToast({icon:"none",title:"分享失败"})}})},fail:function(){uni.showToast({icon:"none",title:"分享失败"})}}):uni.showModal({title:"获取服务供应商失败："+JSON.stringify(err),showCancel:!1,confirmText:"知道了"})}),(function(e){uni.showModal({title:"获取服务供应商失败："+JSON.stringify(e),showCancel:!1,confirmText:"知道了"})}));case 15:i.next=19;break;case 17:return i.next=19,plus.share.getServices((function(t){var i="pages/cloudFactory/index?uuid=".concat(a.shareUuid);t=t.filter((function(e){return e.nativeClient}));var n=t.map((function(e){return e.id}));n.includes("weixin")?uni.share({provider:"weixin",scene:"WXSceneSession",type:5,title:e||"买卖车",imageUrl:r.sharedefaultImg,miniProgram:{id:"gh_fb7103816d0f",path:i,type:"master"==S.a.env||"pre"==S.a.env?0:2,webUrl:r.h5Url},success:function(e){uni.hideLoading()},fail:function(e){uni.showToast({icon:"none",title:"分享失败"})}}):uni.showModal({title:"获取服务供应商失败："+JSON.stringify(err),showCancel:!1,confirmText:"知道了"})}),(function(e){uni.showModal({title:"获取服务供应商失败："+JSON.stringify(e),showCancel:!1,confirmText:"知道了"})}));case 19:i.next=29;break;case 21:if(1!=t){i.next=29;break}i.prev=22,a.saveImage("open"),i.next=29;break;case 26:return i.prev=26,i.t0=i["catch"](22),i.abrupt("return");case 29:case"end":return i.stop()}}),n,null,[[22,26]])})))()},shareFriend:function(e,t){var a=this;return Object(n["a"])(Object(i["a"])().mark((function n(){var r;return Object(i["a"])().wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(r=a,0!=t){i.next=7;break}return"more"!=r.carType&&"single"!=r.carType||r.$refs.sharePopupRef.copyRefHandle(),i.next=5,plus.share.getServices((function(t){t=t.filter((function(e){return e.nativeClient}));var a=t.map((function(e){return e.id}));a.includes("weixin")?uni.share({provider:"weixin",scene:"WXSceneTimeline",type:0,href:r.h5Url,title:e||"买卖车",imageUrl:"single"==r.carType?r.shareImage:r.logoImage,success:function(e){uni.hideLoading()},fail:function(e){uni.showToast({icon:"none",title:"分享失败"})}}):uni.showModal({title:"获取服务供应商失败："+JSON.stringify(err),showCancel:!1,confirmText:"知道了"})}),(function(e){uni.showModal({title:"获取服务供应商失败："+JSON.stringify(e),showCancel:!1,confirmText:"知道了"})}));case 5:i.next=15;break;case 7:if(1!=t){i.next=15;break}i.prev=8,a.saveImage("open"),i.next=15;break;case 12:return i.prev=12,i.t0=i["catch"](8),i.abrupt("return");case 15:case"end":return i.stop()}}),n,null,[[8,12]])})))()},getShareImage:function(e,t){var a=this;return Object(n["a"])(Object(i["a"])().mark((function n(){var r,s,o,c,l,d;return Object(i["a"])().wrap((function(i){while(1)switch(i.prev=i.next){case 0:return r=uni.getStorageSync("cloudFactoryShareData"),s=r.shareType,o="single"===s||"detail"===s,c={page:o?"pages/cloudDetail/index":"pages/cloudFactory/index",scene:"",check_path:!1,env_version:"master"==S.a.env||"pre"==S.a.env?"release":"trial"},"single"==s||"detail"==s?c.scene="carId=".concat(r.carId,"&vcode=").concat(r.vcode,"&source=share&shareTargetType=").concat(e,"&changePrice=").concat(t):"batch"==s?c.scene="shareTargetType=".concat(e,"&changePrice=").concat(t,"&carIdList=").concat(JSON.stringify(r.carIdList)):"page"==s&&(c.scene="shareTargetType=".concat(e,"&changePrice=").concat(t,"&filters=").concat(JSON.stringify(r.filters))),i.next=7,a.$http.post(a.$requestUrl.cloudFactory.getShareFriendImgApi,c);case 7:l=i.sent,d=l.data,a.shareFriendImg=d.data.url,a.shareUuid=d.data.uuid;case 11:case"end":return i.stop()}}),n)})))()},getWXAccessToken:function(){var e=this;this.$nextTick((function(){e.$refs.shareFriendImg.getCanvasImg()}))},handleShareFriend:function(){var e=this;return Object(n["a"])(Object(i["a"])().mark((function t(){return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,plus.share.getServices((function(t){t=t.filter((function(e){return e.nativeClient}));var a=t.map((function(e){return e.id}));a.includes("weixin")?uni.share({provider:"weixin",scene:"WXSceneTimeline",type:2,title:"买卖车",imageUrl:e.shareFriendImg,success:function(e){uni.hideLoading()},fail:function(e){uni.showToast({icon:"none",title:"分享失败"})}}):uni.showModal({title:"获取服务供应商失败："+JSON.stringify(err),showCancel:!1,confirmText:"知道了"})}),(function(e){uni.showModal({title:"获取服务供应商失败："+JSON.stringify(e),showCancel:!1,confirmText:"知道了"})}));case 2:case"end":return t.stop()}}),t)})))()}}},P=j,U=(a("b9ac"),Object(h["a"])(P,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-uni-view",{staticClass:"mask",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.close.apply(void 0,arguments)}}},[a("share-tab",{ref:"sharePopupRef",attrs:{shareType:e.shareType,shareImage:e.shareImage,tabs:[{id:1,name:"链接"},{id:2,name:"多图"}],closeBtn:!1,currentKey:e.currentKey,h5Url:e.h5Url,defaultText:e.container,carType:e.carType},on:{shareClick:function(t){arguments[0]=t=e.$handleEvent(t),e.shareHandleClick.apply(void 0,arguments)},close:function(t){arguments[0]=t=e.$handleEvent(t),e.close.apply(void 0,arguments)}}})],1)}),[],!1,null,"32852e41",null,!1,void 0,void 0));t["default"]=U.exports},a2fd:function(e,t,a){var i=a("24fb");t=i(!1),t.push([e.i,'@charset "UTF-8";\n\n\n/* 行为相关颜色 */uni-page-body[data-v-32852e41]{background:transparent}body.?%PAGE?%[data-v-32852e41]{background:transparent}.mask[data-v-32852e41]{position:fixed;left:0;top:0;right:0;bottom:0;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center;background-color:rgba(0,0,0,.4)}',""]),e.exports=t},b528:function(e,t,a){"use strict";var i=a("cc7b"),n=a.n(i);n.a},b9ac:function(e,t,a){"use strict";var i=a("0967"),n=a.n(i);n.a},bd47:function(e,t,a){"use strict";a.r(t);a("a9e3"),a("b680");var i={name:"UniNumberBox",emits:["change","input","update:modelValue","blur","focus"],props:{value:{type:[Number,String],default:1},modelValue:{type:[Number,String],default:1},min:{type:Number,default:0},max:{type:Number,default:100},step:{type:Number,default:1},background:{type:String,default:"#f5f5f5"},color:{type:String,default:"#333"},disabled:{type:Boolean,default:!1},width:{type:Number,default:40}},data:function(){return{inputValue:0}},watch:{value:function(e){this.inputValue=+e},modelValue:function(e){this.inputValue=+e}},computed:{widthWithPx:function(){return this.width+"px"}},created:function(){1===this.value&&(this.inputValue=+this.modelValue),1===this.modelValue&&(this.inputValue=+this.value)},methods:{_calcValue:function(e){if(!this.disabled){var t=this._getDecimalScale(),a=this.inputValue*t,i=this.step*t;if("minus"===e){if(a-=i,a<this.min*t)return;a>this.max*t&&(a=this.max*t)}if("plus"===e){if(a+=i,a>this.max*t)return;a<this.min*t&&(a=this.min*t)}this.inputValue=(a/t).toFixed(String(t).length-1),this.$emit("input",+this.inputValue),this.$emit("update:modelValue",+this.inputValue),this.$emit("change",+this.inputValue)}},_getDecimalScale:function(){var e=1;return~~this.step!==this.step&&(e=Math.pow(10,String(this.step).split(".")[1].length)),e},_onBlur:function(e){this.$emit("blur",e);var t=e.target.value||e.detail.value;if(isNaN(t))this.inputValue=this.value;else{t=+t,t>this.max?t=this.max:t<this.min&&(t=this.min);var a=this._getDecimalScale();this.inputValue=t.toFixed(String(a).length-1),this.$emit("input",+this.inputValue),this.$emit("update:modelValue",+this.inputValue),this.$emit("change",+this.inputValue)}},_onFocus:function(e){this.$emit("focus",e)}}},n=i,r=(a("b528"),a("f0c5")),s=Object(r["a"])(n,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-uni-view",{staticClass:"uni-numbox"},[a("v-uni-view",{staticClass:"uni-numbox__minus uni-numbox-btns",style:{background:e.background},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e._calcValue("minus")}}},[a("v-uni-text",{staticClass:"uni-numbox--text",class:{"uni-numbox--disabled":e.inputValue<=e.min||e.disabled},style:{color:e.color}},[e._v("-")])],1),"checkbox"===(e.step<1?"digit":"number")?a("v-uni-input",{staticClass:"uni-numbox__value",style:{background:e.background,color:e.color,width:e.widthWithPx},attrs:{disabled:e.disabled,type:"checkbox"},on:{focus:function(t){arguments[0]=t=e.$handleEvent(t),e._onFocus.apply(void 0,arguments)},blur:function(t){arguments[0]=t=e.$handleEvent(t),e._onBlur.apply(void 0,arguments)}},model:{value:e.inputValue,callback:function(t){e.inputValue=t},expression:"inputValue"}}):"radio"===(e.step<1?"digit":"number")?a("input",{directives:[{name:"model",rawName:"v-model",value:e.inputValue,expression:"inputValue"}],staticClass:"uni-numbox__value",style:{background:e.background,color:e.color,width:e.widthWithPx},attrs:{disabled:e.disabled,type:"radio"},domProps:{checked:e._q(e.inputValue,null)},on:{focus:e._onFocus,blur:e._onBlur,change:function(t){e.inputValue=null}}}):a("input",{directives:[{name:"model",rawName:"v-model",value:e.inputValue,expression:"inputValue"}],staticClass:"uni-numbox__value",style:{background:e.background,color:e.color,width:e.widthWithPx},attrs:{disabled:e.disabled,type:e.step<1?"digit":"number"},domProps:{value:e.inputValue},on:{focus:e._onFocus,blur:e._onBlur,input:function(t){t.target.composing||(e.inputValue=t.target.value)}}}),a("v-uni-view",{staticClass:"uni-numbox__plus uni-numbox-btns",style:{background:e.background},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e._calcValue("plus")}}},[a("v-uni-text",{staticClass:"uni-numbox--text",class:{"uni-numbox--disabled":e.inputValue>=e.max||e.disabled},style:{color:e.color}},[e._v("+")])],1)],1)}),[],!1,null,"753ba1f2",null,!1,void 0,void 0);t["default"]=s.exports},cc7b:function(e,t,a){var i=a("11f3");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var n=a("4f06").default;n("252326ca",i,!0,{sourceMap:!1,shadowMode:!1})},e069:function(e,t,a){var i=a("0d0d");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var n=a("4f06").default;n("bb7702dc",i,!0,{sourceMap:!1,shadowMode:!1})}}]);