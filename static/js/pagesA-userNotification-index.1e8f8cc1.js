(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pagesA-userNotification-index"],{"0a48":function(t,i,e){var n=e("337f");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=e("4f06").default;a("153eabc5",n,!0,{sourceMap:!1,shadowMode:!1})},"337f":function(t,i,e){var n=e("24fb");i=n(!1),i.push([t.i,'@charset "UTF-8";\n\n\n/* 行为相关颜色 */.notificationStatistics[data-v-31e333ea]{background:#f6f7f9}.notificationStatistics .addIcon[data-v-31e333ea]{margin-left:%?20?%;width:%?40?%;height:%?40?%;font-size:18px}.notificationStatistics-header[data-v-31e333ea]{width:100%;background-color:#fff}.notificationStatistics .StatisticalCard-rightAction-view[data-v-31e333ea]{overflow-y:auto;position:fixed;top:%?124?%;\n  /* 设置为按钮的高度 */bottom:0;left:0;right:0;background-color:rgba(0,0,0,.5);\n  /* 设置半透明的背景色 */z-index:1000;\n  /* 将位置层级提升到其他元素之上 */opacity:0;\n  /* 初始不可见 */-webkit-transition:opacity .3s;transition:opacity .3s;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:end;-webkit-justify-content:flex-end;justify-content:flex-end;padding-top:%?12?%;padding-right:%?12?%}.notificationStatistics .StatisticalCard-rightAction-view .custom-popup[data-v-31e333ea]{width:%?260?%;background-color:#fff;color:rgba(0,0,0,.8509803921568627);font-family:PingFang SC;font-size:%?30?%;font-style:normal;font-weight:400;line-height:%?40?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;padding-left:%?32?%;border-radius:%?12?%;\n  /* 高度自动适应内容 */box-sizing:border-box}.notificationStatistics .StatisticalCard-rightAction-view .custom-popup .action-btn[data-v-31e333ea]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-box-pack:start;-webkit-justify-content:start;justify-content:start;-webkit-box-align:center;-webkit-align-items:center;align-items:center;height:%?88?%}.notificationStatistics .StatisticalCard-rightAction-view .custom-popup .action-btn uni-image[data-v-31e333ea]{height:%?40?%;width:%?40?%;margin-right:%?15?%}.notificationStatistics .StatisticalCard-rightAction-view.show[data-v-31e333ea]{opacity:1\n  /* 设置可见 */}.notificationStatistics[data-v-31e333ea]{padding:12px;height:calc(100vh);overflow-y:auto}.notification-list[data-v-31e333ea]{padding:0}.notification-card[data-v-31e333ea]{display:-webkit-box;display:-webkit-flex;display:flex;padding:%?24?% %?32?%;-webkit-box-align:center;-webkit-align-items:center;align-items:center;background-color:#fff;margin-top:%?24?%;margin-left:%?0?%;margin-right:%?0?%;border-radius:%?12?%}.notification-icon[data-v-31e333ea]{width:%?88?%;height:%?88?%;margin-right:%?24?%}.notification-content[data-v-31e333ea]{-webkit-box-flex:1;-webkit-flex:1;flex:1}.notification-header[data-v-31e333ea]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;margin-bottom:%?8?%}.notification-title[data-v-31e333ea]{color:rgba(0,0,0,.8509803921568627);text-align:center;font-family:PingFang SC;font-size:%?30?%;font-style:normal;font-weight:500;line-height:%?44?%}.notification-time[data-v-31e333ea]{color:rgba(0,0,0,.25098039215686274);text-align:right;font-family:PingFang SC;font-size:%?20?%;font-style:normal;font-weight:400;line-height:%?30?%}.notification-body[data-v-31e333ea]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.notification-message[data-v-31e333ea]{-webkit-box-flex:1;-webkit-flex:1;flex:1;\n  /* 允许消息部分占用剩余空间 */color:rgba(0,0,0,.34901960784313724);font-family:PingFang SC;font-size:%?24?%;font-style:normal;font-weight:400;width:%?200?%;line-height:%?36?%;\n  /* 添加以下属性以实现单行显示和省略号 */white-space:nowrap;\n  /* 禁止换行 */overflow:hidden;\n  /* 隐藏超出部分 */text-overflow:ellipsis\n  /* 超出部分以省略号表示 */}.notification-count[data-v-31e333ea]{margin-left:%?16?%;padding-left:%?12?%;padding-right:%?12?%;height:%?32?%;border-radius:100px;background:#ff4d4f;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center;color:#fff;font-family:PingFang SC;font-size:%?20?%;font-style:normal;font-weight:600;line-height:%?24?%}',""]),t.exports=i},"7405d":function(t,i,e){"use strict";e.r(i);var n={o2NavBar:e("61fd").default},a=e("f07e"),o=e("c964"),s=(e("14d9"),e("fa7d")),c=e("80b5"),r=(e("71ea"),{name:"mmc-store-search-page",components:{RollLoad:c["a"]},computed:{scrollViewStyle:function(){var t=uni.getSystemInfoSync(),i=t.statusBarHeight;return{height:"calc(100vh - ".concat(i,"px - 104rpx)")}},movableAreaStyle:function(){var t=uni.getSystemInfoSync(),i=t.statusBarHeight;return Object(s["c"])({marginTop:"".concat(i,"px"),height:"44px",borderBottom:"1px solid #e7e7e7",display:"flex",alignItems:"center",justifyContent:"center",background:"#fff"})},height:function(){var t=uni.getSystemInfoSync(),i=t.statusBarHeight;return"calc(100vh- ".concat(i,"px)")},marginTop:function(){var t=uni.getSystemInfoSync(),i=t.statusBarHeight;return"calc(".concat(i,"px + 88rpx)")}},data:function(){return{popupVisible:!1,storeList:[],storeActive:[],statusBarHeight:0,bottomSafeArea:0,notificationList:[]}},methods:{getData:function(t){var i=this;return Object(o["a"])(Object(a["a"])().mark((function t(){var e;return Object(a["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:e=i.$requestUrl.message.queryMesList,i.$http.post(e,null,{}).then((function(t){t&&t.data&&(i.notificationList=t.data.data||[])}));case 2:case"end":return t.stop()}}),t)})))()},scrollToFirstPage:function(){var t=this;return Object(o["a"])(Object(a["a"])().mark((function i(){var e;return Object(a["a"])().wrap((function(i){while(1)switch(i.prev=i.next){case 0:e=t.$requestUrl.message.queryMesList,t.$http.post(e,null,{}).then((function(i){i&&i.data&&(t.notificationList=i.data.data||[],uni.showToast({title:"刷新成功",icon:"none",duration:1e3}))}));case 2:case"end":return i.stop()}}),i)})))()},scrollToLower:function(){return Object(o["a"])(Object(a["a"])().mark((function t(){return Object(a["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})))()},cleanAllMessage:function(){var t=this,i=this.$requestUrl.message.updateAllReadFlag;this.$http.post(i,null,{}).then((function(i){if(i){var e=t.$store.state.notification.notificationNewNum;e+=1,t.$store.commit("notification/save",["notificationNewNum",e]),uni.showToast({title:"操作成功",icon:"none",duration:1e3}),t.getData()}}))},gotoNotificationMessageSetting:function(){this.$Router.push({name:"userNotificationSetting"})},gotoNotificationDetailList:function(t,i){var e=this,n=this.$requestUrl.message.updateFirstReadFlag;this.$http.post(n,{msgFirstTypeId:t},{}).then((function(t){if(t){var i=e.$store.state.notification.notificationNewNum;i+=1,e.$store.commit("notification/save",["notificationNewNum",i]),e.getData()}})),this.$Router.push({name:"userNotificationDetailList",params:{id:t,title:i}})}},onLoad:function(t){var i=this;return Object(o["a"])(Object(a["a"])().mark((function t(){return Object(a["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,i.getData();case 2:case"end":return t.stop()}}),t)})))()}}),l=r,f=(e("820b"),e("f0c5")),d=Object(f["a"])(l,(function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("v-uni-view",{staticClass:"notificationStatistics"},[e("o2-nav-bar",{attrs:{fixed:!0,title:"消息","status-bar":!0}},[e("v-uni-image",{staticClass:"addIcon",attrs:{slot:"right",src:"https://cimg-cdn.haier.net/obs-car03/2024/09/04/X0szN0CQ/ic_index_notification_clear.png"},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.cleanAllMessage.apply(void 0,arguments)}},slot:"right"}),e("v-uni-image",{staticClass:"addIcon",attrs:{slot:"right",src:"https://cimg-cdn.haier.net/obs-car03/2024/09/04/GSt1Y0ZQ/ic_index_notification_setting.png"},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.gotoNotificationMessageSetting.apply(void 0,arguments)}},slot:"right"})],1),e("RollLoad",{style:t.scrollViewStyle,attrs:{onRefresh:t.scrollToFirstPage,onLoadMore:t.scrollToLower,threshold:150}},t._l(t.notificationList,(function(i,n){return e("v-uni-view",{key:n,staticClass:"notification-card",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.gotoNotificationDetailList(i.msgFirstTypeId,i.msgFirstTypeName)}}},[e("v-uni-image",{staticClass:"notification-icon",attrs:{src:i.iconSrc}}),e("v-uni-view",{staticClass:"notification-content"},[e("v-uni-view",{staticClass:"notification-header"},[e("v-uni-text",{staticClass:"notification-title"},[t._v(t._s(i.msgFirstTypeName))]),e("v-uni-text",{staticClass:"notification-time"},[t._v(t._s(i.msgShowTime))])],1),e("v-uni-view",{staticClass:"notification-body"},[e("v-uni-text",{staticClass:"notification-message"},[t._v(t._s(i.content))]),i.count>0?e("v-uni-text",{staticClass:"notification-count"},[t._v(t._s(i.count>99?"99+":i.count))]):t._e()],1)],1)],1)})),1)],1)}),[],!1,null,"31e333ea",null,!1,n,void 0);i["default"]=d.exports},"820b":function(t,i,e){"use strict";var n=e("0a48"),a=e.n(n);a.a}}]);