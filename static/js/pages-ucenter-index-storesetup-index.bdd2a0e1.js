(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-ucenter-index-storesetup-index"],{"0607":function(t,e,i){var n=i("24fb");e=n(!1),e.push([t.i,'@charset "UTF-8";\n\n\n/* 行为相关颜色 */.userDetail[data-v-1d662eb6]{background-color:#fff}.userDetail .mine-nav-section[data-v-1d662eb6]{position:fixed;top:0;left:0;right:0;z-index:100;width:100%;height:%?104?%;background-color:#fff;color:rgba(0,0,0,.8509803921568627);font-family:PingFang SC;font-size:%?24?%;font-style:normal;font-weight:500;line-height:%?42?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center}.userDetail .mine-nav-section .mine-nav-button[data-v-1d662eb6]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;height:%?104?%}.userDetail .mine-nav-section .mine-nav-button .mine-nav-button-text[data-v-1d662eb6]{font-size:%?26?%;overflow:hidden;\n  /* 溢出内容隐藏 */white-space:nowrap;\n  /* 防止文字换行 */text-overflow:ellipsis;\n  /* 超过容器宽度时显示省略号 */color:#262626;font-family:PingFang SC;font-size:%?32?%;font-style:normal;font-weight:500;line-height:%?48?%}.userDetail .example-body[data-v-1d662eb6]{background-color:#fff;width:%?540?%}.userDetail .lineinput[data-v-1d662eb6]{color:#7d7d7d;font-family:PingFang SC;font-style:normal;font-weight:400}.userDetail .content[data-v-1d662eb6]{-webkit-box-flex:1;-webkit-flex:1;flex:1;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:end;-webkit-justify-content:flex-end;justify-content:flex-end;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.userDetail .file-upload-picker[data-v-1d662eb6]{margin-left:20%;-webkit-animation:none;animation:none}.userDetail .merchimg[data-v-1d662eb6]{margin-left:20%}.userDetail .icon-del rotate[data-v-1d662eb6]{display:none}.userDetail .alertOss[data-v-1d662eb6]{position:fixed;\n  /* 固定定位，覆盖整个视口 */top:0;left:0;width:100vw;height:100vh;background-color:rgba(0,0,0,.3);\n  /* 半透明黑色背景 */z-index:1000\n  /* 确保在弹框上方 */}.userDetail .alertprompt[data-v-1d662eb6]{position:fixed;top:50%;left:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)\n  /* 垂直水平居中 */}.userDetail .alertContent[data-v-1d662eb6]{width:80vw;padding:%?30?%;font-size:%?30?%;background-color:#fff;border-radius:%?14?%;box-sizing:border-box}.userDetail .uni-title[data-v-1d662eb6]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between}.userDetail .uni-input[data-v-1d662eb6]{width:%?500?%;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.userDetail .userStore[data-v-1d662eb6]{position:relative;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between}.userDetail .RightOutlined[data-v-1d662eb6]{-webkit-transform:rotate(90deg);transform:rotate(90deg);-webkit-transform-origin:center;transform-origin:center;-webkit-transition:-webkit-transform .5s ease;transition:-webkit-transform .5s ease;transition:transform .5s ease;transition:transform .5s ease,-webkit-transform .5s ease}.userDetail .RightOutlinedTran[data-v-1d662eb6]{-webkit-transform:rotate(270deg);transform:rotate(270deg);-webkit-transform-origin:center;transform-origin:center;-webkit-transition:-webkit-transform .5s ease;transition:-webkit-transform .5s ease;transition:transform .5s ease;transition:transform .5s ease,-webkit-transform .5s ease}.userDetail .simulated-type[data-v-1d662eb6]{position:fixed;top:%?266?%;left:0;bottom:0;z-index:999;width:100vw;border-radius:0 0 10px 10px;background-color:rgba(0,0,0,.65)}.userDetail .simulated[data-v-1d662eb6]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-flex-wrap:wrap;flex-wrap:wrap;background-color:#fff;font-size:%?30?%}.userDetail .simulated .simulated-item[data-v-1d662eb6]{width:96%;line-height:%?100?%;border-top:%?2?% solid #f4f4f4}.userDetail .simulated .simulated-item .selectImg[data-v-1d662eb6]{width:%?40?%;height:%?40?%}.userDetail .simulated .simulated-item uni-view[data-v-1d662eb6]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.userDetail .simulated .storeListBox-footer[data-v-1d662eb6]{width:100%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;background:#fff;padding:12px 16px;border-top:1px solid #f0f0f0;position:relative}.userDetail .simulated .storeListBox-footer .mmcBtn[data-v-1d662eb6]{width:calc(50% - 8px);height:36px;font-size:16px;border-color:#f8b500}.userDetail .simulated .mmcBtn[data-v-1d662eb6]{height:28px;padding:4px 16px;font-size:12px;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;border-radius:4px}.userDetail .simulated .mmcBtn + .mmcBtn[data-v-1d662eb6]{margin-left:8px}.userDetail .simulated .mmcBtn[data-v-1d662eb6]:nth-child(1){margin-left:0;margin-right:8px}.userDetail .simulated .mmcBtn[data-v-1d662eb6]:nth-child(2){margin-left:8px;margin-right:0}.userDetail .simulated .primary[data-v-1d662eb6]{background-color:#f8b500;color:#fff}.userDetail .simulated .primary[data-v-1d662eb6]::after{border-color:#f8b500!important}.userDetail .simulated .outline[data-v-1d662eb6]{background-color:#fff!important;color:#f8b500!important}.userDetail .simulated .outline[data-v-1d662eb6]::after{border-color:#f8b500!important}.userDetail .simulated .selectItem[data-v-1d662eb6]{color:#f8b500}',""]),t.exports=e},"2c7f":function(t,e,i){"use strict";var n=i("4d9a"),a=i.n(n);a.a},"4d9a":function(t,e,i){var n=i("0607");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i("4f06").default;a("2e196990",n,!0,{sourceMap:!1,shadowMode:!1})},"5bc4":function(t,e,i){var n=i("607e");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i("4f06").default;a("698a0cc0",n,!0,{sourceMap:!1,shadowMode:!1})},"607e":function(t,e,i){var n=i("24fb");e=n(!1),e.push([t.i,'@charset "UTF-8";\n\n\n/* 行为相关颜色 */.pupop .popup-box[data-v-7bec0f8d]{position:fixed;left:0;bottom:-315px;z-index:99999;background:#fff;padding-bottom:50px}.pupop .popup-box .pupop-btn[data-v-7bec0f8d]{height:40px;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;padding:0 %?30?%;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;font-size:%?32?%}.pupop .pupop-model[data-v-7bec0f8d]{position:fixed;left:0;top:0;width:100%;height:100%;z-index:9999;background:rgba(0,0,0,.5)}.pupop .pupop-models[data-v-7bec0f8d]{display:none}.pupop .picker-view[data-v-7bec0f8d]{width:100vw;height:225px;margin-top:%?20?%}.pupop .item[data-v-7bec0f8d]{height:50px;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;text-align:center;line-height:50px}',""]),t.exports=e},"7d6b":function(t,e,i){"use strict";var n=i("5bc4"),a=i.n(n);a.a},a3ba:function(t,e,i){t.exports=i.p+"static/img/selectActive.a9c1e8c8.svg"},df2b:function(t,e,i){"use strict";i.r(e);var n={o2NavBar:i("61fd").default,o2Icon:i("51db").default},a=i("f3f3"),o=(i("c740"),i("d81d"),i("231d")),r=(i("2c1b"),i("58cc")),s=i("26cb"),l=i("f07e"),c=i("c964"),d=(i("4de4"),i("c975"),i("a9e3"),i("d3b7"),{data:function(){return{value:[0],indicatorStyle:"height: 50px;",provinceIndex:0,animationData:{},rangeStores:[],xwNameList:[],recordsList:[]}},props:{column:{type:Number,default:3},defaultValue:{default:function(){return""}},visible:{type:Boolean,default:function(){return!1}},maskCloseAble:{type:Boolean,default:function(){return!0}}},watch:{visible:function(t){this.changeActive()}},created:function(){console.log(this.defaultValue,"defaultValue"),this.getMerchantList()},mounted:function(){},methods:{getMerchantList:function(){var t=this;return Object(c["a"])(Object(l["a"])().mark((function e(){var i,n,a,r;return Object(l["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$http.post("/cartech-store-user/v1/userinfo/storerole",{size:999});case 3:if(n=e.sent,0===n.data.code){e.next=6;break}return e.abrupt("return");case 6:a=(null===(i=n.data)||void 0===i?void 0:i.data.records)||[],r=a.map((function(t){return{label:t.xwName}})),t.rangeStores=a,t.xwNameList=r,Object(o["d"])(t,(function(e){var i=a.filter((function(t){return t.xwName===e.merchantInfo.merchantFullName})),n=a.indexOf(i[0]);t.provinceIndex=n,t.value=[n]})),e.next=16;break;case 13:e.prev=13,e.t0=e["catch"](0),console.error(e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})))()},bindChange:function(t){this.provinceIndex=t.detail.value[0]},changeActive:function(){var t="-315px";this.visible&&(t=0);var e=uni.createAnimation({duration:400,timingFunction:"linear"});e.bottom(t).step(),this.animationData=e.export()},close:function(){this.cancel()},confirm:function(){this.$emit("confirm",this.rangeStores[this.provinceIndex]),this.cancel()},cancel:function(){this.$emit("cancel")}}}),u=d,f=(i("7d6b"),i("f0c5")),p=Object(f["a"])(u,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"pupop"},[i("v-uni-view",{staticClass:"popup-box",attrs:{animation:t.animationData}},[i("v-uni-view",{staticClass:"pupop-btn"},[i("v-uni-view",{on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.cancel.apply(void 0,arguments)}}},[t._v("取消")]),i("v-uni-view",{staticStyle:{color:"#fac740"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.confirm.apply(void 0,arguments)}}},[t._v("确定")])],1),i("v-uni-picker-view",{staticClass:"picker-view",attrs:{value:t.value,"indicator-style":t.indicatorStyle},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.bindChange.apply(void 0,arguments)}}},[i("v-uni-picker-view-column",t._l(t.xwNameList,(function(e,n){return i("v-uni-view",{key:n,staticClass:"item"},[t._v(t._s(e.label))])})),1)],1)],1),i("v-uni-view",{class:t.visible?"pupop-model":"pupop-models",on:{touchmove:function(e){e.stopPropagation(),e.preventDefault(),arguments[0]=e=t.$handleEvent(e)},click:function(e){arguments[0]=e=t.$handleEvent(e),t.close.apply(void 0,arguments)}}})],1)}),[],!1,null,"7bec0f8d",null,!1,void 0,void 0),b=(p.exports,{name:"editdoor",components:{LineInfo:r["a"]},mounted:function(){this.getMerchantList(),this.loadUserInfo()},data:function(){return{status:null,merchantCode:null,detail:{merchantCode:"",merchantId:"",status:""},rangeStores:[],merchantLogoList:[],indexRage:0,maskCloseAble:!0,str:"",defaultValue:"",regionalData:"",cityColumn:3,queryparams:{},nowXwCode:"",FranchiseId:0,error:{},merchantFullName:"",merchantType:0,alertOpen:!1,visible:!1,wordCity:"",simulatedBussinc:!1,wordCityBei:""}},created:function(){},methods:{loadUserInfo:function(){var t=this;uni.showLoading({title:"加载中"}),Object(o["d"])(this,(function(e){t.wordCity=e.merchantInfo.merchantFullName,t.merchantType=e.merchantInfo.type,t.merchantCode=e.merchantInfo.merchantCode,t.status=e.merchantInfo.status,setTimeout((function(){uni.hideLoading()}),1e3)}),(function(t){setTimeout((function(){uni.hideLoading()}),1e3)}))},enterpriseCertification:function(){1!==this.status&&(this.alertOpen=!0)},setdoorUrl:function(){this.merchantCode?uni.navigateTo({url:"/pages/ucenter/index/storesetup/setdoortxt/index?id="+this.merchantCode}):uni.showToast({title:"当前没有门店信息",icon:"none",duration:2e3})},getMerchantList:function(){var t=this;return this.$http.post("/cartech-store-user/v1/userinfo/storerole",{size:999}).then((function(e){var i;if(0===e.data.code){var n=(null===(i=e.data)||void 0===i?void 0:i.data.records)||[];n.map((function(t){return t.xwName}));t.rangeStores=n,t.detail.merchantId=t.merchantCode,t.editDoor(t.merchantCode),t.$hideLoading()}})).catch((function(t){console.error(t)}))},bindOutletsChange:function(t){this.detail.merchantId=this.rangeStores[t.detail.value].xwCode,this.indexRage=t.detail.value,this.nowXwCode=this.rangeStores[t.detail.value].xwCode,this.editDoor(this.rangeStores[t.detail.value].xwCode)},editDoor:function(t){var e=this,i=this.$requestUrl.ktcStore.authenticationSerch+"/"+t;this.$http.get(i).then((function(t){var i;0===t.data.code?(e.detail=null===(i=t.data)||void 0===i?void 0:i.data,e.status=0==e.detail.status?"认证中":1==e.detail.status?"已认证":2==e.detail.status?"认证失败":"未认证",e.$nextTick((function(){e.$EventBus.$emit("refresh-customer-list")}))):uni.showToast({title:"获取失败",icon:"none",duration:2e3})})).catch((function(t){uni.hideLoading()})),uni.hideLoading()},closeAlert:function(){this.alertOpen=!1},openPicker:function(){this.wordCity?(this.wordCityBei=this.wordCity,this.simulatedBussinc=!0):uni.showToast({title:"当前没有门店信息",icon:"none",duration:2e3})},cancel:function(){this.visible=!1},confirm:function(t){this.wordCity=t.xwName,this.merchantCode=t.xwCode,this.visible=!1},closeModal:function(){this.simulatedBussinc=!1},simulatedClick:function(t){this.wordCityBei=this.rangeStores[t].xwName},onReset:function(){this.wordCityBei=this.wordCity},onConfirm:function(){var t=this;this.wordCity=this.wordCityBei;var e=this.rangeStores.findIndex((function(e){return e.xwName===t.wordCityBei}));this.merchantCode=this.rangeStores[e].xwCode,this.simulatedBussinc=!1}},computed:Object(a["a"])(Object(a["a"])({searchTop:function(){var t=uni.getSystemInfoSync(),e=t.statusBarHeight;return e?"calc(".concat(e,"px)"):"0px"},searchHeight:function(){var t=uni.getSystemInfoSync(),e=t.statusBarHeight;return e?"calc(".concat(e,"px + 104rpx)"):"104rpx"}},Object(s["mapState"])({token:function(t){return t.login.token},globalConfig:function(t){return t.globalConfig}})),{},{alertDataList:function(){var t=this;return this.rangeStores.map((function(e){return Object(a["a"])(Object(a["a"])({},e),{},{selectClass:e.xwName===t.wordCityBei?"selectItem":""})}))},rightOutlinedClass:function(){return this.simulatedBussinc?"RightOutlinedTran":"RightOutlined"}}),watch:{nowXwCode:function(t,e){var i=this,n=this.$requestUrl.ktcStore.queryMerchantDetail;this.$http.get(n,{merchantCode:t}).then((function(t){0===t.data.code&&(i.FranchiseId=t.data.data.type)}))},token:{immediate:!0,handler:function(t){this.loadUserInfo()}}}}),h=b,m=(i("2c7f"),Object(f["a"])(h,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"userDetail"},[n("o2-nav-bar",{attrs:{fixed:!0,"status-bar":!0,title:"门店设置"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.seturl.apply(void 0,arguments)}}}),n("v-uni-view",[n("line-info",{staticClass:"userStore",attrs:{label:"您的门店","show-select":!1,content:t.wordCity},on:{select:function(e){arguments[0]=e=t.$handleEvent(e),t.openPicker.apply(void 0,arguments)}}},[n("v-uni-view",{staticClass:"uni-input",staticStyle:{"margin-top":"6px"}},[t._v(t._s(t.wordCity))]),n("o2-icon",{class:t.rightOutlinedClass,attrs:{icon:"icon-RightOutlined"}})],1),t.simulatedBussinc?n("v-uni-view",{staticClass:"simulated-type",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.closeModal.apply(void 0,arguments)}}},[n("v-uni-view",{staticClass:"simulated",on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e)}}},[n("v-uni-scroll-view",{staticStyle:{width:"96%","max-height":"700rpx"},attrs:{"scroll-y":"true"}},t._l(t.alertDataList,(function(e,a){return n("v-uni-view",{key:a,staticClass:"simulated-item"},[n("v-uni-view",{class:e.selectClass,on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.simulatedClick(a)}}},[n("v-uni-text",{staticClass:"storeName"},[t._v(t._s(e.xwName))]),e.selectClass?n("v-uni-image",{staticClass:"selectImg",attrs:{src:i("a3ba"),alt:""}}):t._e()],1)],1)})),1),n("v-uni-view",{staticClass:"storeListBox-footer"},[n("v-uni-button",{staticClass:"mmcBtn primary outline",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.onReset.apply(void 0,arguments)}}},[t._v("重 置")]),n("v-uni-button",{staticClass:"mmcBtn primary",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.onConfirm.apply(void 0,arguments)}}},[t._v("确 定")])],1)],1)],1):t._e(),n("hr",{staticStyle:{margin:"0 auto",border:"none","border-top":"1px solid #e8e8e8"}}),n("line-info",{attrs:{label:"门店管理",content:" ","show-select":!0},on:{select:function(e){arguments[0]=e=t.$handleEvent(e),t.setdoorUrl.apply(void 0,arguments)}}}),n("hr",{staticStyle:{margin:"0 auto",border:"none","border-top":"1px solid #e8e8e8"}}),3===this.merchantType?n("line-info",{attrs:{label:"企业认证",content:" ","show-select":!0},on:{select:function(e){arguments[0]=e=t.$handleEvent(e),t.enterpriseCertification.apply(void 0,arguments)}}},[n("span",{staticStyle:{color:"rgba(174, 168, 160, 0.777)"}},[t._v(t._s(1===t.status?"已认证":"未认证"))])]):t._e(),t.alertOpen?n("v-uni-view",{staticClass:"alertOss"},[n("v-uni-view",{staticClass:"alertprompt"},[n("v-uni-view",{staticClass:"alertContent"},[n("v-uni-view",{staticStyle:{"margin-bottom":"30rpx","padding-bottom":"10rpx","border-bottom":"1px solid #ccc","font-weight":"bold",color:"rgb(145, 144, 149)"}},[t._v("提示")]),n("v-uni-view",{staticStyle:{color:"rgb(145, 144, 149)"}},[t._v(t._s(t.globalConfig.certification||"加盟卡泰驰门店，请联系管理员申请，服务热线4009365999"))]),n("v-uni-button",{staticStyle:{width:"50%","line-height":"80rpx",background:"rgb(248, 181, 0)","margin-top":"60rpx","border-radius":"40rpx"},attrs:{type:"primary"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.closeAlert.apply(void 0,arguments)}}},[t._v("确定")])],1)],1)],1):t._e()],1)],1)}),[],!1,null,"1d662eb6",null,!1,n,void 0));e["default"]=m.exports}}]);