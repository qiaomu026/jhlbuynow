(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pagesA-crm-components-carIntentionsSelect-brand"],{"0a2e":function(e,t,i){var n=i("731a");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var a=i("4f06").default;a("2af3df04",n,!0,{sourceMap:!1,shadowMode:!1})},"1b18":function(e,t,i){var n=i("b0ef");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var a=i("4f06").default;a("9f944dca",n,!0,{sourceMap:!1,shadowMode:!1})},"2ae7":function(e,t,i){var n=i("e122");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var a=i("4f06").default;a("179e703a",n,!0,{sourceMap:!1,shadowMode:!1})},"5cbc":function(e,t,i){"use strict";var n=i("2ae7"),a=i.n(n);a.a},"61fd":function(e,t,i){"use strict";i.r(t);var n={o2Icon:i("51db").default},a=(i("a9e3"),{name:"UniStatusBar"}),r=i("f0c5"),o=Object(r["a"])(a,(function(){var e=this.$createElement,t=this._self._c||e;return t("v-uni-view",{staticClass:"uni-status-bar",style:{height:this.statusBarHeight+"px"}},[this._t("default")],2)}),[],!1,null,"4d4bc7a2",null,!1,void 0,void 0),s=o.exports,l=i("fa7d"),d=function(e){return"number"===typeof e?e+"px":e},c={name:"UniNavBar",components:{statusBar:s},emits:["clickLeft","clickRight","clickTitle"],props:{dark:{type:Boolean,default:!1},title:{type:String,default:""},leftText:{type:String,default:""},rightText:{type:String,default:""},leftIcon:{type:String,default:"icon-LeftOutlined"},leftIconFlag:{type:Boolean,default:!0},rightIcon:{type:String,default:""},dbNavBar:{type:[Boolean,String],default:!1},fixed:{type:[Boolean,String],default:!1},color:{type:String,default:""},fontSize:{type:String,default:""},rightTextColor:{type:String,default:""},leftTextColor:{type:String,default:""},backgroundColor:{type:String,default:""},backgroundImage:{type:String,default:""},statusBar:{type:[Boolean,String],default:!1},shadow:{type:[Boolean,String],default:!1},border:{type:[Boolean,String],default:!1},height:{type:[Number,String]},rightWidth:{type:[Number,String],default:60},stat:{type:[Boolean,String],default:""},onlyLeft:{type:Boolean,default:!1},clickBackFlag:{type:Boolean,default:!1},inverted:{type:Boolean,default:!1},justifyContent:{type:String,default:"left"},invertedBackgroundColor:String,showContent:{type:Boolean,default:!0},isTransparent:{type:Boolean,default:!1}},data:function(){return{scrollTop:0,defaultBackgroundColor:this.backgroundColor,click:!1,showThemeBgColor:"",titleC:""}},computed:{themeBgColor:function(){return this.dark?this.defaultBackgroundColor?this.defaultBackgroundColor:this.dark?"#333":"#FFF":this.inverted||this.isTransparent?this.invertedBackgroundColor||"transparent":this.backgroundColor||"#FFF"},themeColor:function(){return this.dark?this.color?this.color:this.dark?"#fff":"#000000E5":this.color||"#000000E5"},navbarHeight:function(){return d(this.height||this.navBarHeight)},rightIconWidth:function(){return d(this.rightWidth)},titleStyle:function(){return Object(l["c"])({justifyContent:this.justifyContent})}},watch:{themeBgColor:{immediate:!0,handler:function(e,t){t&&t!==e&&(this.showThemeBgColor=e)}},title:{deep:!0,immediate:!0,handler:function(e,t){e!=t&&(this.titleC=e)}}},mounted:function(){uni.report&&this.stat&&""!==this.title&&(uni.report("title",this.title),this.titleC=this.title),this.showThemeBgColor=this.themeBgColor},destroyed:function(){},methods:{onClickLeft:function(){var e=this;e.click||(e.click=!0,e.clickBackFlag?(e.$emit("clickLeft"),e.click=!1):(uni.navigateBack({delta:1,fail:function(t){e.$switchTab("home")}}),e.$emit("clickLeft"),e.click=!1))},onClickRight:function(){this.$emit("clickRight")},onClickTitle:function(){this.$emit("clickTitle")}}},u=c,f=(i("e2cf"),Object(r["a"])(u,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-uni-view",{staticClass:"uni-navbar",class:{"uni-dark":e.dark,"uni-nvue-fixed":e.fixed}},[i("v-uni-view",{staticClass:"uni-navbar__content",class:{"uni-navbar--fixed":e.fixed,"uni-navbar--shadow":e.shadow,"uni-navbar--border":e.border,"uni-navbar__bgImage":e.backgroundImage},style:{background:e.themeBgColor}},[e._t("statusBar"),e.statusBar?i("status-bar"):e._e(),e.showContent?i("v-uni-view",{staticClass:"uni-navbar__header",style:{color:e.themeColor,height:e.navbarHeight}},[i("v-uni-view",{staticClass:"uni-navbar-btn-text",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.onClickLeft.apply(void 0,arguments)}}},[i("v-uni-text",{staticClass:"uni-nav-bar-right-text",style:{color:e.leftTextColor,fontSize:e.fontSize}},[e._v(e._s(e.leftText))])],1),"center"===e.justifyContent?i("v-uni-view",{staticClass:"uni-navbar__header-btns uni-navbar__header-btns-left",style:{width:e.leftText?"68rpx":"120rpx"}}):e._e(),e.leftIconFlag?i("v-uni-view",{on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.onClickLeft.apply(void 0,arguments)}}},[e._t("left",[i("v-uni-view",{staticClass:"uni-navbar__content_view"},[i("o2-icon",{attrs:{icon:e.leftIcon,color:"themeColor",size:"40rpx"}})],1)])],2):e._e(),i("v-uni-view",{staticClass:"uni-navbar__header-container",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.onClickTitle.apply(void 0,arguments)}}},[e._t("default",[""!==e.titleC&&e.titleC&&"true"!==e.titleC?i("v-uni-view",{staticClass:"uni-navbar__header-container-inner",style:e.titleStyle},[i("v-uni-text",{staticClass:"uni-ellipsis-1",style:{color:e.themeColor}},[e._v(e._s(e.titleC))])],1):e._e(),i("v-uni-view",{staticClass:"no-title"})])],2),i("v-uni-view",{staticClass:"uni-navbar__header-btns uni-navbar__header-btns-right",style:{width:e.rightIconWidth},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.onClickRight.apply(void 0,arguments)}}},[e._t("right",[e.rightIcon.length?i("v-uni-view",[i("o2-icon",{attrs:{color:"themeColor",icon:"icon-LeftOutlined",size:"48rpx"}})],1):e._e(),e.rightText.length&&!e.rightIcon.length?i("v-uni-view",{staticClass:"uni-navbar-btn-text"},[i("v-uni-text",{staticClass:"uni-nav-bar-right-text",style:{color:e.rightTextColor,fontSize:e.fontSize}},[e._v(e._s(e.rightText))])],1):e._e()])],2)],1):e._e(),e._t("content")],2),e.fixed&&!e.inverted?i("v-uni-view",{staticClass:"uni-navbar__placeholder"},[e.statusBar?i("status-bar"):e._e(),e.showContent?i("v-uni-view",{staticClass:"uni-navbar__placeholder-view",style:{height:e.navbarHeight}}):e._e()],1):e._e()],1)}),[],!1,null,"7873cfdb",null,!1,n,void 0));t["default"]=f.exports},"731a":function(e,t,i){var n=i("24fb");t=n(!1),t.push([e.i,'@charset "UTF-8";\n\n\n/* 行为相关颜色 */.car-intention-select-brand-wrap[data-v-658563a6]{width:100vw;height:100vh;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column}.car-intention-select-brand-wrap .search-nav-wrap[data-v-658563a6]{font-size:%?24?%;color:#d3d3d3;padding:%?30?% %?24?%}.car-intention-select-brand-wrap .search-nav-wrap .search-nav[data-v-658563a6]{height:%?56?%;border-radius:%?28?%;background-color:#f6f7f9}.car-intention-select-brand-wrap .page-content[data-v-658563a6]{-webkit-box-flex:1;-webkit-flex:1;flex:1;position:relative}.car-intention-select-brand-wrap .page-content .list-item-right .list-item-right-icon[data-v-658563a6]{width:%?24?%;height:%?24?%;margin-right:%?8?%}.car-intention-select-brand-wrap .page-content .all-series-tag[data-v-658563a6]{--item-height:%?69?%;width:-webkit-fit-content;width:fit-content;height:var(--item-height);line-height:var(--item-height);display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center;font-size:%?28?%;color:rgba(0,0,0,.6509803921568628);background:#f7f8fa;padding:0 %?12?%;border-radius:calc(var(--item-height) / 2)}.car-intention-select-brand-wrap .page-content .all-series-tag.active[data-v-658563a6]{color:#e0a400;background:rgba(224,164,0,.2823529411764706)}.car-intention-select-brand-wrap uni-text.uni-indexed-list__item-content[data-v-658563a6]{font-size:16px}.car-intention-select-brand-wrap .uni-group .uni-group__content[data-v-658563a6]{padding:0}.car-intention-select-brand-wrap .uni-group .uni-group__content .tag-select[data-v-658563a6]{line-height:%?40?%;padding:%?25?% %?15?% %?25?% %?30?%;color:#333;border-bottom:%?1?% solid #f0f0f0}',""]),e.exports=t},"7cd0":function(e,t,i){"use strict";i.r(t);var n={o2NavBar:i("61fd").default,o2Icon:i("51db").default,uniDrawer:i("6e16").default,uniGroup:i("067e").default,tagSelect:i("c2dc").default},a=i("d0ff"),r=i("f3f3"),o=i("f07e"),s=i("c964"),l=(i("99af"),i("7db0"),i("c740"),i("5db7"),i("4160"),i("caad"),i("d81d"),i("14d9"),i("4e82"),i("a434"),i("73d9"),i("d3b7"),i("159b"),i("c975"),i("ac1f"),i("5319"),{uniIcons:i("1a49").default}),d=(i("a9e3"),{name:"CrmIndexedListItem",emits:["itemClick","rightClick"],props:{idx:{type:Number,default:0},list:{type:Object,default:function(){return{}}},haveImage:{type:Boolean,default:!1},showSelect:{type:Boolean,default:!1},showSlots:{type:Boolean,default:!0}},mounted:function(){},methods:{onClick:function(e,t){this.$emit("itemClick",{idx:e,index:t})},rightClick:function(e,t,i,n){e.stopPropagation(),this.$emit("rightClick",t,i,n)}}}),c=d,u=(i("5cbc"),i("f0c5")),f=Object(u["a"])(c,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-uni-view",{ref:"refSelf",staticClass:"uni-indexed-list-item"},[i("v-uni-view",{staticClass:"uni-indexed-list__title-wrapper"},[e.list.items&&e.list.items.length>0?i("v-uni-text",{staticClass:"uni-indexed-list__title"},[e._v(e._s(e.list.key))]):e._e()],1),e.list.items&&e.list.items.length>0?i("v-uni-view",{staticClass:"uni-indexed-list__list"},e._l(e.list.items,(function(t,n){return i("v-uni-view",{key:n,staticClass:"uni-indexed-list__item",attrs:{"hover-class":"uni-indexed-list__item--hover"}},[i("v-uni-view",{staticClass:"uni-indexed-list__item-container"},[i("v-uni-view",{staticClass:"uni-indexed-list__item-border",class:{"uni-indexed-list__item-border--last":n===e.list.items.length-1}},[e.showSlots?[e.showSelect?i("v-uni-view",{staticStyle:{"margin-right":"20rpx"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.onClick(e.idx,n)}}},[e._t("left",[t.checked?["checked",!0].includes(t.checked)?i("uni-icons",{attrs:{type:"checkbox-filled",size:"24",color:"#FAAD14"}}):"half"===t.checked?i("uni-icons",{attrs:{type:"minus",size:"24",color:"#FAAD14"}}):e._e():i("uni-icons",{attrs:{type:"circle",size:"24",color:"#EBEBEB"}})],{item:t,index:n})],2):e._e(),e.haveImage?i("v-uni-image",{staticClass:"logo-image",attrs:{src:t.pic,mode:"widthFix"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.onClick(e.idx,n)}}}):e._e(),i("v-uni-text",{staticClass:"uni-indexed-list__item-content",class:t.checked?"item-check":"",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.onClick(e.idx,n)}}},[e._v(e._s(t.name))]),e.$scopedSlots.right?i("v-uni-view",{staticClass:"uni-indexed-list__item-right",on:{click:function(i){arguments[0]=i=e.$handleEvent(i),e.rightClick(i,t,e.idx,n)}}},[e._t("right")],2):e._e()]:e._e()],2)],1)],1)})),1):e._e()],1)}),[],!1,null,"73689f30",null,!1,l,void 0),h=f.exports,b=i("0f32"),p=i.n(b),v={name:"UniIndexedList",components:{CrmIndexedListItem:h},emits:["click"],props:{options:{type:Array,default:function(){return[]}},haveImage:{type:Boolean,default:!0},showSelect:{type:Boolean,default:!1}},data:function(){return{lists:[],winHeight:0,itemHeight:0,winOffsetY:0,touchmove:!1,touchmoveIndex:-1,scrollViewId:"",touchmovable:!0,isPC:!1,scrollObserver:null}},watch:{options:{handler:function(){this.setList()},deep:!0}},mounted:function(){var e=this;this.isPC=this.IsPC(),this.setList(),this.$nextTick((function(){e.handleScroll()}))},computed:{safeAreaBottom:function(){var e=uni.getSystemInfoSync();return e.safeArea?e.safeArea.bottom:0}},methods:{setChecked:function(e,t,i){this.lists[e]&&(this.lists[e].items[t].checked=i)},clearChecked:function(){this.lists.forEach((function(e){e.items.forEach((function(e){e.checked=!1}))}))},getCheckedType:function(e,t){return this.lists[e].items[t].checked},setList:function(){var e=this;this.lists=[],this.options.forEach((function(t,i){if(0!==t.data.length){var n=i,a=t.data.map((function(e){var n={};return n["key"]=t.letter,n["name"]=e.name,n["id"]=e.id,n["pic"]=e.pic,n["itemIndex"]=i,i++,n.checked=!!e.checked&&e.checked,n}));e.lists.push({title:t.letter,key:t.letter,items:a,itemIndex:n,showSlots:[0,1].includes(n)})}})),uni.createSelectorQuery().in(this).select("#list").boundingClientRect().exec((function(t){e.winOffsetY=t[0].top,e.winHeight=t[0].height,e.itemHeight=e.winHeight/e.lists.length}))},touchStart:function(e){this.touchmove=!0;var t=this.isPC?e.pageY:e.touches[0].pageY,i=Math.floor((t-this.winOffsetY)/this.itemHeight),n=this.lists[i];n&&(this.scrollViewId="uni-indexed-list-"+i,this.touchmoveIndex=i)},touchMove:function(e){var t=this.isPC?e.pageY:e.touches[0].pageY,i=Math.floor((t-this.winOffsetY)/this.itemHeight);if(this.touchmoveIndex===i)return!1;var n=this.lists[i];n&&(this.scrollViewId="uni-indexed-list-"+i,this.touchmoveIndex=i)},touchEnd:function(){this.touchmove=!1},mousedown:function(e){this.isPC&&this.touchStart(e)},mousemove:function(e){this.isPC&&this.touchMove(e)},mouseleave:function(e){this.isPC&&this.touchEnd(e)},IsPC:function(){for(var e=navigator.userAgent,t=["Android","iPhone","SymbianOS","Windows Phone","iPad","iPod"],i=!0,n=0;n<t.length-1;n++)if(e.indexOf(t[n])>0){i=!1;break}return i},onClick:function(e){var t=this,i=e.idx,n=e.index,a={};for(var r in this.lists[i].items[n])a[r]=this.lists[i].items[n][r];var o=[];this.lists[i].items[n].checked=!this.lists[i].items[n].checked,this.showSelect||this.lists[i].items.forEach((function(e,t){t!==n&&(e.checked=!1)})),this.lists.forEach((function(e,i){e.items.forEach((function(e,n){if(e.checked){var a={groupIndex:i,index:n};for(var r in t.lists[i].items[n])a[r]=t.lists[i].items[n][r];o.push(a)}}))})),this.$emit("click",{item:a,select:o,groupIndex:i,index:n})},onRightClick:function(e,t,i){this.$emit("rightClick",{item:e,groupIndex:t,index:i})},handleScroll:p()((function(){var e=this,t=uni.createSelectorQuery().in(this);t.selectAll(".uni-indexed-list-item").boundingClientRect((function(t){t.forEach((function(t){if(!(t.top-400>=e.winHeight+e.winOffsetY)){var i=t.id.replace("list_item_","");e.lists[i].showSlots||(e.lists[i].showSlots=!0,i===e.lists.length-1&&(e.allSlotsLoaded=!0))}}))})).exec()}),500)}},x=v,m=(i("a952"),Object(u["a"])(x,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-uni-view",{ref:"list",staticClass:"uni-indexed-list",attrs:{id:"list"}},[i("v-uni-scroll-view",{staticClass:"uni-indexed-list__scroll",attrs:{"scroll-into-view":e.scrollViewId,"scroll-y":!0},on:{scroll:function(t){arguments[0]=t=e.$handleEvent(t),e.handleScroll.apply(void 0,arguments)}}},e._l(e.lists,(function(t,n){return i("v-uni-view",{key:n,attrs:{id:"uni-indexed-list-"+n}},[i("crm-indexed-list-item",{attrs:{id:"list_item_"+n,haveImage:e.haveImage,list:t,idx:n,showSelect:e.showSelect,"show-slots":t.showSlots},on:{itemClick:function(t){arguments[0]=t=e.$handleEvent(t),e.onClick.apply(void 0,arguments)},rightClick:function(t){arguments[0]=t=e.$handleEvent(t),e.onRightClick.apply(void 0,arguments)}},scopedSlots:e._u([{key:"left",fn:function(t){return[e._t("left",null,{item:t.item,childrenIndex:t.index,groupIndex:n})]}},{key:"right",fn:function(){return[e._t("right")]},proxy:!0}],null,!0)})],1)})),1),i("v-uni-view",{staticClass:"uni-indexed-list__menu",on:{touchstart:function(t){arguments[0]=t=e.$handleEvent(t),e.touchStart.apply(void 0,arguments)},touchmove:function(t){t.stopPropagation(),t.preventDefault(),arguments[0]=t=e.$handleEvent(t),e.touchMove.apply(void 0,arguments)},touchend:function(t){arguments[0]=t=e.$handleEvent(t),e.touchEnd.apply(void 0,arguments)},mousedown:function(t){t.stopPropagation(),arguments[0]=t=e.$handleEvent(t),e.mousedown.apply(void 0,arguments)},mousemove:function(t){t.stopPropagation(),t.preventDefault(),arguments[0]=t=e.$handleEvent(t),e.mousemove.apply(void 0,arguments)},mouseleave:function(t){t.stopPropagation(),arguments[0]=t=e.$handleEvent(t),e.mouseleave.apply(void 0,arguments)}}},e._l(e.lists,(function(t,n){return i("v-uni-view",{key:n,staticClass:"uni-indexed-list__menu-item",class:e.touchmoveIndex==n?"uni-indexed-list__menu--active":""},[i("v-uni-text",{staticClass:"uni-indexed-list__menu-text",class:e.touchmoveIndex==n?"uni-indexed-list__menu-text--active":""},[e._v(e._s(t.key))])],1)})),1),e.touchmove?i("v-uni-view",{staticClass:"uni-indexed-list__alert-wrapper"},[i("v-uni-text",{staticClass:"uni-indexed-list__alert"},[e._v(e._s(e.lists[e.touchmoveIndex].key))])],1):e._e()],1)}),[],!1,null,"e6d140e4",null,!1,void 0,void 0)),w=m.exports,g=i("067e"),k=i("6e16"),y=i("56ae"),_=i("4d75"),C=i("01c4"),I=i("3d8c"),S={name:"CarIntentionsSelectBrands",components:{CrmIndexedList:w,uniGroup:g["default"],uniDrawer:k["default"],IBottomBar:I["a"]},data:function(){return{getCodeFromQuery:!1,queryCode:null,xwCodes:[],airportList:[],flattenBrandList:[],carModels:{modelList:[],brandId:null},selectedBrandSeries:[],activeBrandItem:null,SERIES_ICON_SRC:_["e"]}},onLoad:function(e){var t;(this.xwCodes=this.$store.getters["intentionSelect/currentXwCodes"],e.code)?(this.getCodeFromQuery=!0,this.queryCode=e.code,e.merchantId&&(this.xwCodes=(null===(t=e.merchantId)||void 0===t?void 0:t.split(","))||[])):(this.getCodeFromQuery=!1,this.queryCode=null)},beforeMount:function(){var e=this;return Object(s["a"])(Object(o["a"])().mark((function t(){return Object(o["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.airportList.forEach((function(e){e.data=[]})),e.getCodeFromQuery&&(e.$store.commit("intentionSelect/setCurrentActiveCode",e.queryCode),e.$store.commit("intentionSelect/setXwCodes",{code:e.queryCode,value:e.xwCodes})),t.next=4,e.getFirstType();case 4:e.$nextTick((function(){e.getDataFromVuex()})),e.$EventBus.$on(_["b"],(function(){e.getDataFromVuex()}));case 6:case"end":return t.stop()}}),t)})))()},beforeDestroy:function(){this.$EventBus.$off(_["b"])},computed:{barHeight:function(){var e=Object(y["c"])();return e+"px"},navPaddingTop:function(){var e=Object(y["c"])(),t=e+"px";return"calc(".concat(t," + 20rpx)")},safeAreaBottom:function(){return Object(y["g"])()-44+"px"},outputValue:function(){if(!this.selectedBrandSeries.length)return[];var e=this.selectedBrandSeries.flatMap((function(e){return e.intentions}));return e}},methods:{getDataFromVuex:function(){var e=this;return Object(s["a"])(Object(o["a"])().mark((function t(){return Object(o["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("intentionSelect/getSelectedBrandSeries");case 2:if(e.selectedBrandSeries=t.sent,e.selectedBrandSeries.length){t.next=5;break}return t.abrupt("return");case 5:e.selectedBrandSeries.forEach((function(t){var i=t.brandId,n=t.allSeriesSelected,a=t.series,r=e.flattenBrandList.find((function(e){return e.brandId===i})),o=r.groupIndex,s=r.indexInGroup,l=Object(C["b"])(n,a);e.updateCheckedStatusInBrandListByGroupIndex(o,s,l)}));case 6:case"end":return t.stop()}}),t)})))()},getFirstType:function(){var e=this;return Object(s["a"])(Object(o["a"])().mark((function t(){var i,n,a;return Object(o["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return uni.showLoading({title:"加载中",mask:!0}),t.prev=1,t.next=4,e.$http.post("".concat(e.$requestUrl.crm.searchCarSeries,"/0"),{level:1,size:999999,xwCodes:e.xwCodes});case 4:if(i=t.sent,n=i.data,uni.hideLoading(),0===n.code){t.next=9;break}return t.abrupt("return");case 9:a=n.data.records||[],a.forEach((function(e){e.pic=e.logo,e.checked=!1,e.level=1,e.brandId=e.id,e.brandName=e.name})),e.airportList=e.dataLetterSort(a,"headLetter"),e.flattenBrandList=e.airportList.flatMap((function(e,t){return e.data.map((function(e,i){return Object(r["a"])(Object(r["a"])({},e),{},{groupIndex:t,indexInGroup:i})}))})),t.next=18;break;case 15:t.prev=15,t.t0=t["catch"](1),uni.hideLoading();case 18:return t.prev=18,uni.hideLoading(),t.finish(18);case 21:case"end":return t.stop()}}),t,null,[[1,15,18,21]])})))()},handleGoToSearch:function(){var e=this.$store.state.intentionSelect.currentActiveCode;this.selectedBrandSeries.length?this.$store.commit("intentionSelect/setValue",{code:e,value:this.outputValue}):this.$store.commit("intentionSelect/clearValue",e),this.$Router.push("/pagesA/crm/components/carIntentionsSelect/search")},handleListItemClick:function(e){var t=e.item,i=e.select,n=e.groupIndex,a=e.index,r=this.selectedBrandSeries.findIndex((function(e){return e.brandId===t.id}));-1!==r?this.selectedBrandSeries.splice(r,1):this.selectedBrandSeries.push({brandId:t.id,brandName:t.name,series:[],allSeriesTagSelected:!0,intentions:[{brandId:t.id,brandName:t.name}]}),this.updateCheckedStatusInBrandListByGroupIndex(n,a,!!i.find((function(e){return e.id===t.id}))&&"checked")},handleListItemRightClick:function(e){var t=this;return Object(s["a"])(Object(o["a"])().mark((function i(){var n,r,s,l,d,c,u;return Object(o["a"])().wrap((function(i){while(1)switch(i.prev=i.next){case 0:return n=e.item,r=e.groupIndex,s=e.index,l=t.airportList[r].data[s],d=t.selectedBrandSeries.findIndex((function(e){return e.brandId===n.id})),c=-1!==d?t.selectedBrandSeries[d].series:[],t.activeBrandItem={brandId:l.brandId,brandName:l.brandName,series:c,groupIndex:r,brandIndexInGroup:s,allSeriesTagSelected:["checked",!0].includes(t.$refs.refIndexedList.getCheckedType(r,s))},i.next=7,t.getModels(n);case 7:u=t.carModels.modelList.flatMap((function(e){return e.children})).map((function(e){var t=e.seriesId,i=e.seriesName;return{seriesId:t,seriesName:i}})),t.activeBrandItem.allSeriesInBrand=Object(a["a"])(u),t.activeBrandItem.allSeriesTagSelected&&!t.activeBrandItem.series.length&&(t.activeBrandItem.series=u);case 10:case"end":return i.stop()}}),i)})))()},getModels:function(e){var t=this;return Object(s["a"])(Object(o["a"])().mark((function i(){var n,a,r;return Object(o["a"])().wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.next=2,t.$http.post("".concat(t.$requestUrl.crm.searchCarSeries,"/").concat(e.id),{level:3,size:99999,status:3,xwCodes:t.xwCodes});case 2:if(n=i.sent,a=n.data,0===a.code){i.next=6;break}return i.abrupt("return");case 6:r=[],(a.data.records||[]).forEach((function(t,i){var n={id:t.id,name:t.name,brandId:e.id,brandName:e.name,seriesId:t.id,seriesName:t.name,indexInAllSeriesOfBrand:i,value:t.id,label:t.name},a=r.findIndex((function(e){return e.name===t.siftName}));-1!==a?r[a].children.push(n):r.push({name:t.siftName,children:[n]})})),t.carModels={modelList:r,brandId:e.id},t.$refs.showRight.open();case 10:case"end":return i.stop()}}),i)})))()},closeDrawer:function(){this.$refs.showRight.close()},handleClickSeriesItem:function(e,t){var i=this,n=e.seriesId,a=this.activeBrandItem,r=a.series,o=a.groupIndex,s=a.brandIndexInGroup,l=a.allSeriesInBrand,d=r.findIndex((function(e){return e.seriesId===n})),c=e,u={seriesId:n,seriesName:c.seriesName};"add"===t?r.push(u):r.splice(d,1),this.activeBrandItem.series=r;var f=this.activeBrandItem.allSeriesInBrand,h=f.length===r.length;this.activeBrandItem.allSeriesTagSelected=h;var b=this.selectedBrandSeries.findIndex((function(e){return e.brandId===i.carModels.brandId}));if("add"===t)-1===b?this.selectedBrandSeries.push({brandId:c.brandId,brandName:c.brandName,series:r,allSeriesSelected:h,intentions:h?[{brandId:c.brandId,brandName:c.brandName}]:r.map((function(e){return{brandId:c.brandId,brandName:c.brandName,seriesId:e.seriesId,seriesName:e.seriesName}}))}):(this.selectedBrandSeries[b].series=r,this.selectedBrandSeries[b].allSeriesSelected=h,h?this.selectedBrandSeries[b].intentions=[{brandId:c.brandId,brandName:c.brandName}]:this.selectedBrandSeries[b].intentions.push({brandId:c.brandId,brandName:c.brandName,seriesId:c.seriesId,seriesName:c.seriesName}));else if(r.length){this.selectedBrandSeries[b].series=r,this.selectedBrandSeries[b].allSeriesSelected=!1;var p=this.selectedBrandSeries[b].intentions.findIndex((function(e){return e.seriesId===c.seriesId})),v=this.selectedBrandSeries[b].intentions;1!==v.length||v[0].seriesId?v.splice(p,1):v=l.flatMap((function(e){return e.seriesId===n?[]:{brandId:c.brandId,brandName:c.brandName,seriesId:n,seriesName:c.seriesName}})),this.selectedBrandSeries[b].intentions=v}else this.selectedBrandSeries.splice(b,1);this.updateCheckedStatusInBrandListByGroupIndex(o,s)},handleDrawerOpenShut:function(e){e||(this.activeBrandItem=null)},updateCheckedStatusInBrandListByGroupIndex:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!["checked","half",!0,!1].includes(i)){var n=this.airportList[e],a=n.data[t].barndId,r=this.selectedBrandSeries.find((function(e){return e.brandId===a}));i=this.activeBrandItem?Object(C["b"])(this.activeBrandItem.allSeriesTagSelected,this.activeBrandItem.series):Object(C["b"])(r.allSeriesSelected,r.series)}this.$refs.refIndexedList.setChecked(e,t,i)},handleClickAllSeries:function(){Object(C["d"])()(this),this.updateCheckedStatusInBrandListByGroupIndex(this.activeBrandItem.groupIndex,this.activeBrandItem.brandIndexInGroup,!!this.activeBrandItem.allSeriesTagSelected)},dataLetterSort:function(e,t,i){e.sort((function(e,n){var a,r,o=i?(null===e||void 0===e?void 0:e.orderidx)||99999999:(null===(a=e[t])||void 0===a?void 0:a.toLowerCase())||"",s=i?(null===n||void 0===n?void 0:n.orderidx)||99999999:(null===(r=n[t])||void 0===r?void 0:r.toLowerCase())||"";return o==s?0:i||"headLetter"==t?o<s?-1:1:o>s?-1:1}));for(var n=[],a={},r=0,o=0;o<e.length;o++){var s=e[o],l=3==s.localLevel?s[t]?s[t]+"款":"#":s[t]||"#";l&&"款"!=l||(s[t]="#"),void 0===a[l]?(a[l]=r,n.push({letter:l,data:[s]}),r++):n[a[l]].data.push(s)}return n},handleClear:function(){this.selectedBrandSeries=[],this.$refs.refIndexedList.clearChecked()},handleConfirm:function(){var e=this;if(this.outputValue.length>5)uni.showToast({title:"最多添加5个品牌车系",icon:"none"});else{var t=this.$store.state.intentionSelect.currentActiveCode;this.selectedBrandSeries.length?this.$store.commit("intentionSelect/setValue",{code:t,value:this.outputValue}):this.$store.commit("intentionSelect/clearValue",t),this.$Router.back(1),this.$nextTick((function(){e.$EventBus.$emit("crm-filter-bar-get-intention-value"),e.$EventBus.$emit(_["a"]),e.$EventBus.$emit(_["c"])}))}},handleClickBack:function(){this.$EventBus.$emit(_["c"])}}},B=S,$=(i("fc6b"),Object(u["a"])(B,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-uni-view",{staticClass:"car-intention-select-brand-wrap",style:{paddingBottom:"calc(10rpx + "+e.safeArea+" + 40rpx)"}},[i("o2-nav-bar",{attrs:{fixed:!0,title:"品牌车系"},on:{clickLeft:function(t){arguments[0]=t=e.$handleEvent(t),e.handleClickBack.apply(void 0,arguments)}},scopedSlots:e._u([{key:"statusBar",fn:function(){return[i("v-uni-view",{style:{height:e.barHeight}})]},proxy:!0}])}),i("v-uni-view",{staticClass:"search-nav-wrap",style:{paddingTop:e.navPaddingTop}},[i("v-uni-view",{staticClass:"search-nav df aic jcc",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.handleGoToSearch.apply(void 0,arguments)}}},[i("o2-icon",{attrs:{icon:"icon-SearchOutlined",size:"40rpx",color:"#D3D3D3"}}),i("v-uni-text",[e._v("品牌车系查询")])],1)],1),i("v-uni-view",{staticClass:"page-content"},[i("crm-indexed-list",{ref:"refIndexedList",attrs:{options:e.airportList,"show-select":!0},on:{rightClick:function(t){arguments[0]=t=e.$handleEvent(t),e.handleListItemRightClick.apply(void 0,arguments)},click:function(t){arguments[0]=t=e.$handleEvent(t),e.handleListItemClick.apply(void 0,arguments)}},scopedSlots:e._u([{key:"right",fn:function(){return[i("v-uni-view",{staticClass:"list-item-right"},[i("v-uni-image",{staticClass:"list-item-right-icon",attrs:{src:e.SERIES_ICON_SRC}}),e._v("车系")],1)]},proxy:!0}])}),i("uni-drawer",{ref:"showRight",attrs:{width:300,mode:"right","mask-click":!0},on:{chang:function(t){arguments[0]=t=e.$handleEvent(t),e.handleDrawerOpenShut.apply(void 0,arguments)}}},[i("v-uni-scroll-view",{style:{height:"100%",paddingTop:e.barHeight},attrs:{"scroll-y":"true"}},[i("uni-group",{attrs:{"margin-top":"20"}},[i("v-uni-view",{staticClass:"all-series-tag tc",class:{active:e.activeBrandItem&&e.activeBrandItem.allSeriesTagSelected},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.handleClickAllSeries.apply(void 0,arguments)}}},[e._v("不限车系")])],1),e._l(e.carModels.modelList,(function(t,n){return i("uni-group",{key:n,attrs:{title:t.name||"默认","margin-top":"20"}},[t.children?[i("tag-select",{attrs:{value:e.activeBrandItem.series.map((function(e){return e.seriesId})),options:t.children,multiple:!0,flex:!0,"item-height":"69rpx"},on:{check:function(t){arguments[0]=t=e.$handleEvent(t),function(t,i,n){return e.handleClickSeriesItem(n,i)}.apply(void 0,arguments)}}})]:e._e()],2)}))],2)],1)],1),i("i-bottom-bar",{attrs:{count:e.outputValue.length},on:{clear:function(t){arguments[0]=t=e.$handleEvent(t),e.handleClear.apply(void 0,arguments)},confirm:function(t){arguments[0]=t=e.$handleEvent(t),e.handleConfirm.apply(void 0,arguments)}}})],1)}),[],!1,null,"658563a6",null,!1,n,void 0));t["default"]=$.exports},9153:function(e,t,i){var n=i("24fb");t=n(!1),t.push([e.i,'@charset "UTF-8";\n\n\n/* 行为相关颜色 */.uni-indexed-list[data-v-e6d140e4]{position:absolute;left:0;top:0;right:0;bottom:0;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row}.uni-indexed-list__scroll[data-v-e6d140e4]{-webkit-box-flex:1;-webkit-flex:1;flex:1}.uni-indexed-list__menu[data-v-e6d140e4]{width:24px;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column}.uni-indexed-list__menu-item[data-v-e6d140e4]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-flex:1;-webkit-flex:1;flex:1;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;cursor:pointer}.uni-indexed-list__menu-text[data-v-e6d140e4]{font-size:12px;text-align:center;color:#aaa}.uni-indexed-list__menu-text--active[data-v-e6d140e4]{border-radius:16px;width:16px;height:16px;line-height:16px;background-color:#007aff;color:#fff}.uni-indexed-list__alert-wrapper[data-v-e6d140e4]{position:absolute;left:0;top:0;right:0;bottom:0;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center}.uni-indexed-list__alert[data-v-e6d140e4]{width:80px;height:80px;border-radius:80px;text-align:center;line-height:80px;font-size:35px;color:#fff;background-color:rgba(0,0,0,.5)}',""]),e.exports=t},a952:function(e,t,i){"use strict";var n=i("d5da"),a=i.n(n);a.a},b0ef:function(e,t,i){var n=i("24fb");t=n(!1),t.push([e.i,'@charset "UTF-8";\n\n\n/* 行为相关颜色 */.uni-navbar[data-v-7873cfdb]{z-index:999}.uni-nav-bar-text[data-v-7873cfdb]{font-size:14px}.uni-nav-bar-right-text[data-v-7873cfdb]{font-size:12px}.uni-navbar__content[data-v-7873cfdb]{position:relative;background-color:initial}.uni-navbar__bgImage[data-v-7873cfdb]{position:relative;background-size:cover;background-repeat:no-repeat;width:100%}.uni-navbar__bgImage[data-v-7873cfdb]:after{content:"";position:absolute;inset:0;background-color:rgba(0,0,0,.4);z-index:-1}.uni-navbar__content_view[data-v-7873cfdb]{padding-right:%?16?%}.uni-navbar-btn-text[data-v-7873cfdb]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;-webkit-box-pack:start;-webkit-justify-content:flex-start;justify-content:flex-start;-webkit-box-align:center;-webkit-align-items:center;align-items:center;line-height:12px}.uni-navbar__header[data-v-7873cfdb]{display:-webkit-box;display:-webkit-flex;display:flex;padding:0 16px;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;height:44px;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.uni-navbar__header-btns[data-v-7873cfdb]{overflow:hidden;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-flex-wrap:nowrap;flex-wrap:nowrap;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center;cursor:pointer}.uni-navbar__header-btns-left[data-v-7873cfdb]{display:-webkit-box;display:-webkit-flex;display:flex;width:%?120?%;-webkit-box-pack:start;-webkit-justify-content:flex-start;justify-content:flex-start;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.uni-navbar__header-btns-right[data-v-7873cfdb]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-box-pack:end;-webkit-justify-content:flex-end;justify-content:flex-end;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.uni-navbar__header-container[data-v-7873cfdb]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-flex:1;-webkit-flex:1;flex:1;overflow:hidden}.uni-navbar__header-container-inner[data-v-7873cfdb]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-flex:1;-webkit-flex:1;flex:1;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-box-align:center;-webkit-align-items:center;align-items:center;overflow:hidden;font-family:PingFang SC;font-size:%?32?%;font-weight:400}.uni-navbar__placeholder-view[data-v-7873cfdb]{height:44px}.uni-navbar--fixed[data-v-7873cfdb]{position:fixed;z-index:500;left:var(--window-left);right:var(--window-right)}.uni-navbar--shadow[data-v-7873cfdb]{box-shadow:0 1px 6px #ccc}.uni-navbar--border[data-v-7873cfdb]{border-bottom-width:%?1?%;border-bottom-style:solid;border-bottom-color:#eee}.uni-ellipsis-1[data-v-7873cfdb]{overflow:hidden;white-space:nowrap;text-overflow:ellipsis}',""]),e.exports=t},d5da:function(e,t,i){var n=i("9153");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var a=i("4f06").default;a("4d918394",n,!0,{sourceMap:!1,shadowMode:!1})},e122:function(e,t,i){var n=i("24fb");t=n(!1),t.push([e.i,'@charset "UTF-8";\n\n\n/* 行为相关颜色 */.uni-indexed-list__list[data-v-73689f30]{background-color:#fff;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;border-top-style:solid;border-top-width:1px;border-top-color:#dedede}.uni-indexed-list__item[data-v-73689f30]{font-size:14px;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-flex:1;-webkit-flex:1;flex:1;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.uni-indexed-list__item .logo-image[data-v-73689f30]{width:30px;height:30px;margin-right:10px}.uni-indexed-list__item-container[data-v-73689f30]{padding-left:15px;-webkit-box-flex:1;-webkit-flex:1;flex:1;position:relative;display:-webkit-box;display:-webkit-flex;display:flex;box-sizing:border-box;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-webkit-box-align:center;-webkit-align-items:center;align-items:center;cursor:pointer}.uni-indexed-list__item-border[data-v-73689f30]{-webkit-box-flex:1;-webkit-flex:1;flex:1;position:relative;display:-webkit-box;display:-webkit-flex;display:flex;box-sizing:border-box;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-webkit-box-align:center;-webkit-align-items:center;align-items:center;height:50px;padding:25px;padding-left:0;border-bottom-style:solid;border-bottom-width:1px;border-bottom-color:#dedede}.uni-indexed-list__item-border .check-icon[data-v-73689f30]{width:%?35?%;height:%?35?%}.uni-indexed-list__item-border .uni-indexed-list__item-right[data-v-73689f30]{border-left:%?2?% solid #dedede;padding-left:%?16?%}.uni-indexed-list__item-border--last[data-v-73689f30]{border-bottom-width:0}.uni-indexed-list__item-content[data-v-73689f30]{-webkit-box-flex:1;-webkit-flex:1;flex:1;font-size:14px;color:#191919}.uni-indexed-list[data-v-73689f30]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row}.uni-indexed-list__title-wrapper[data-v-73689f30]{display:-webkit-box;display:-webkit-flex;display:flex;width:100%;background-color:#f7f7f7}.uni-indexed-list__title[data-v-73689f30]{padding:6px 12px;line-height:24px;font-size:16px;font-weight:500}',""]),e.exports=t},e2cf:function(e,t,i){"use strict";var n=i("1b18"),a=i.n(n);a.a},fc6b:function(e,t,i){"use strict";var n=i("0a2e"),a=i.n(n);a.a}}]);