(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pagesA-evaluate-brand"],{"1f05":function(e,t,a){var i=a("24fb");t=i(!1),t.push([e.i,'@charset "UTF-8";\n\n\n/* 行为相关颜色 */.evaluate-car-brand[data-v-0cb80375]{width:100vw;height:100vh;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column}.evaluate-car-brand .car-content[data-v-0cb80375]{-webkit-box-flex:1;-webkit-flex:1;flex:1;position:relative}.evaluate-car-brand .item-check[data-v-0cb80375]{color:#3db1fa!important}.evaluate-car-brand uni-text.uni-indexed-list__item-content[data-v-0cb80375]{font-size:16px}.evaluate-car-brand .uni-group .uni-group__content[data-v-0cb80375]{padding:0}.evaluate-car-brand .uni-group .uni-group__content uni-view[data-v-0cb80375]{font-size:16px;line-height:%?40?%;padding:%?25?% %?15?% %?25?% %?30?%;color:#333;border-bottom:%?1?% solid #f0f0f0}.evaluate-car-brand .uni-group .uni-group__content uni-view.check-car[data-v-0cb80375]{color:#3db1fa}',""]),e.exports=t},5782:function(e,t,a){"use strict";a.r(t);var i={o2NavBar:a("61fd").default,uniIndexedList:a("8ba9").default,uniDrawer:a("6e16").default,uniGroup:a("067e").default},n=a("d0ff"),r=a("f3f3"),c=(a("99af"),a("4160"),a("d81d"),a("14d9"),a("4e82"),a("b64b"),a("d3b7"),a("ac1f"),a("466d"),a("159b"),a("8ba9")),o=a("067e"),s=a("6e16"),d=a("71ea"),l=a.n(d),u=a("56ae"),h=(a("fa7d"),{name:"car-type",components:{uniIndexedList:c["default"],uniGroup:o["default"],uniDrawer:s["default"]},data:function(){return{source:null,micromessenger:!1,airportList:[],showBol:!1,carModels:null,carModelsYears:null,checkCarType:null,checkModels:null,checkModelsYears:null,carContent:[{},{},{}],checkModelsIndex:null,checkModelsChildIndex:null,carType:null,hiddenHeadr:!0}},mounted:function(){this.getFirstType()},computed:{barHeight:function(){var e=Object(u["c"])();return e}},onShow:function(e){if(uni.setNavigationBarTitle({title:"品牌车型"}),window&&window.navigator){var t=window.navigator.userAgent.toLowerCase();"micromessenger"==t.match(/MicroMessenger/i)&&(this.micromessenger=!0)}this.airportList.forEach((function(e){e.data=[]})),e&&e.source&&(this.source=e.source)},onLoad:function(e){var t,a;this.hiddenHeadr=1===(null===(t=JSON.parse(null!==(a=null===e||void 0===e?void 0:e.query)&&void 0!==a?a:"{}"))||void 0===t?void 0:t.hiddenHeadr),e&&e.type&&(this.carType=e.type),e&&e.source&&(this.source=e.source)},methods:{getFirstType:function(){var e=this;this.getCars(0).then((function(t){var a=(t.data.data||[]).map((function(e){return Object(r["a"])(Object(r["a"])({},e),{},{id:e.brandId,name:e.brandName,headLetter:e.brandInitial,pic:e.brandLogo,level:1})}));e.airportList=e.dataLetterSort(a,"headLetter"),e.showBol=!0}))},bindClick:function(e){this.checkCarType=e.item,this.carContent[0]=e.item,this.getModels(e.item)},closeDrawer:function(){this.$refs.showRight.close(),this.$refs.showYearRight.close()},getModels:function(e){var t=this;this.$http.post("".concat(l.a.EVA_BRAND_URL,"/vehicle/v2/series/byBrandId/maker?brandId=").concat(e.id),{id:e.id}).then((function(e){var a=(e.data.data||[]).map((function(e){var t=e.children.map((function(e){return Object(r["a"])(Object(r["a"])({},e),{},{id:e.seriesId,name:e.seriesName,siftName:e.makerName,level:3})}));return Object(r["a"])(Object(r["a"])({},e),{},{children:t})}));t.carModels=a,t.$refs.showRight.open()}))},getCarsYears:function(e,t){var a=this;this.checkModelsIndex=e,this.checkModelsChildIndex=t,this.checkModels=this.carModels[e]["children"][t],this.carContent[1]=this.carModels[e]["children"][t],this.$http.post("".concat(l.a.EVA_BRAND_URL,"/vehicle/v2/model/bySeriesId?seriesId=").concat(this.checkModels.id),{id:this.checkModels.id}).then((function(e){var t=(e.data.data||[]).map((function(e){return Object(r["a"])(Object(r["a"])({},e),{},{id:e.modelId,name:e.modelName,siftName:e.year+"",level:5,localLevel:3})})),i=a.dataLetterSort(t,"siftName");a.carModelsYears=i,a.$refs.showYearRight.open()}))},getCars:function(e){return this.$http.post("".concat(l.a.EVA_BRAND_URL,"/vehicle/v2/brand"),{id:e})},getCarsDetail:function(e,t){if(!e&&0!==e||!t&&0!==t){var a,i,n={data:"",carContent:[this.carContent[0],this.carModels[this.checkModelsIndex]?this.carModels[this.checkModelsIndex]["children"][e]:null,null],nameText:[this.checkCarType.name,null===(a=this.checkModels)||void 0===a?void 0:a.name,null===(i=this.checkModelsYears)||void 0===i?void 0:i.name],source:this.source};this.carType?(this.commitData(n),uni.navigateBack({delta:1}),uni.$off("carTypeSellData")):(this.commitData(n),uni.navigateBack({delta:1}),uni.$off("carTypeData"))}else{this.checkModelsYears=this.carModelsYears[e]["children"][t],this.carContent[2]=this.carModelsYears[e]["children"][t];var r={data:this.checkModelsYears,carContent:this.carContent,nameText:[this.checkCarType.name,this.checkModels.name,this.checkModelsYears.name],source:this.source};this.carType?(this.commitData(r),uni.navigateBack({delta:1}),uni.$off("carTypeSellData")):(this.commitData(r),uni.navigateBack({delta:1}),uni.$off("carTypeData"))}},commitData:function(e){var t=e.nameText,a=Object(n["a"])(e.carContent),i=a[0]||{},c=a[1]||{},o=a[2]||{};this.$store.dispatch("evaluateCar/updateData",Object(r["a"])(Object(r["a"])({},this.$Route.query),{},{seriesName:t[1],modelName:t[2]?t[2]:null,brandId:i.id||null,brandName:i.name||null,seriesId:c.seriesId||null,speciesId:o.modelId||null,speciesName:o.modelName||null}))},dataLetterSort:function(e,t,a){e.sort((function(e,i){var n,r,c=a?(null===e||void 0===e?void 0:e.orderidx)||99999999:(null===(n=e[t])||void 0===n?void 0:n.toLowerCase())||"",o=a?(null===i||void 0===i?void 0:i.orderidx)||99999999:(null===(r=i[t])||void 0===r?void 0:r.toLowerCase())||"";return c==o?0:a||"headLetter"==t?c<o?-1:1:c>o?-1:1}));for(var i=[],n=0;n<e.length;n++){var r=e[n],c=3==r.localLevel?r[t]?r[t]+"款":"#":r[t]||"#";c&&"款"!=c||(r[t]="#"),c in i||(i[c]=[]),i[c].push(e[n])}var o=[];for(var s in i)"headLetter"==t?o.push({letter:s,data:i[s]}):o.push({name:s,children:i[s]});return o}}}),v=h,f=(a("90be"),a("f0c5")),p=Object(f["a"])(v,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-uni-view",{staticClass:"evaluate-car-brand",style:{paddingBottom:"calc(10rpx + "+e.safeArea+"px + 40rpx)"}},[a("o2-nav-bar",{attrs:{fixed:!0,title:"选择品牌","status-bar":!0}}),a("v-uni-view",{staticClass:"car-content"},[a("uni-indexed-list",{attrs:{options:e.airportList,haveImage:!e.micromessenger,"show-select":!1},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.bindClick.apply(void 0,arguments)}}}),a("uni-drawer",{ref:"showRight",attrs:{width:300,mode:"right","mask-click":!0}},[a("uni-group",{style:{marginTop:e.barHeight?e.barHeight+"px":"20px"}},[e.hiddenHeadr?e._e():a("v-uni-view",{on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.getCarsDetail(null,null)}}},[e._v("不限车系")])],1),a("v-uni-scroll-view",{staticStyle:{height:"100%"},attrs:{"scroll-y":"true"}},e._l(e.carModels,(function(t,i){return a("uni-group",{key:i,attrs:{title:t.name||"默认","margin-top":"20"}},[t.children?e._l(t.children,(function(t,n){return a("v-uni-view",{key:t.id,class:e.checkModels&&e.checkModels.id&&e.checkModels.id==t.id?"check-car":"",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.getCarsYears(i,n)}}},[e._v(e._s(t.name))])})):e._e()],2)})),1)],1),a("uni-drawer",{ref:"showYearRight",attrs:{width:220,mode:"right","mask-click":!0}},[a("uni-group",{style:{marginTop:e.barHeight?e.barHeight+"px":"20px"}},[e.hiddenHeadr?e._e():a("v-uni-view",{on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.getCarsDetail(e.checkModelsChildIndex,null)}}},[e._v("不限年款")])],1),a("v-uni-scroll-view",{staticStyle:{height:"100%"},attrs:{"scroll-y":"true"}},e._l(e.carModelsYears,(function(t,i){return a("uni-group",{key:i,attrs:{title:t.name||"默认","margin-top":"20"}},[t.children?e._l(t.children,(function(t,n){return a("v-uni-view",{key:t.id,class:e.checkModelsYears&&e.checkModelsYears.id==t.id?"check-car":"",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.getCarsDetail(i,n)}}},[e._v(e._s(t.name))])})):e._e()],2)})),1)],1)],1)],1)}),[],!1,null,"0cb80375",null,!1,i,void 0);t["default"]=p.exports},"90be":function(e,t,a){"use strict";var i=a("e3ef"),n=a.n(i);n.a},e3ef:function(e,t,a){var i=a("1f05");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var n=a("4f06").default;n("b8a5e2ec",i,!0,{sourceMap:!1,shadowMode:!1})}}]);