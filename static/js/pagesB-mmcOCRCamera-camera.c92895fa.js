(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pagesB-mmcOCRCamera-camera"],{1985:function(t,e,a){t.exports=a.p+"static/index/ic_business_3.png"},"394e":function(t,e){t.exports="data:image/png;base64,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"},"4b91":function(t,e,a){"use strict";var i=a("b27d"),n=a.n(i);n.a},"5cb9":function(t,e){t.exports="data:image/png;base64,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"},"5db9":function(t,e,a){t.exports=a.p+"static/easy-loadimage/loading.gif"},"63b6":function(t,e,a){"use strict";a.r(e);var i=a("f3f3"),n=(a("d401"),a("99af"),a("caad"),a("f4b3"),a("e9c4"),a("4ec9"),a("b64b"),a("d3b7"),a("ac1f"),a("25f0"),a("2532"),a("3ca3"),a("4d90"),a("5319"),a("2ca0"),a("ddb0"),a("e445")),o=a.n(n),s=a("f033"),c=a.n(s),r=a("5cb9"),l=a.n(r),h=a("394e"),g=a.n(h),u=(a("1985"),a("5db9")),d=a.n(u),m=a("7430"),p=a.n(m),A=a("71ea"),f=a.n(A),w=(weex.requireModule("modal"),null),v={data:function(){return{AddIcon:o.a,ErrorIcon:l.a,RemoveIcon:c.a,LoadingIcon:g.a,LoadingGifIcon:d.a,photoAlbumIcon:p.a,isCanSelectPhotoWithAlbum:!0,isSingleCamera:!1,camareOptions:{},poenCarmeInterval:null,aspect:"3:4",windowWidth:"",windowHeight:"",cameraWidth:"",cameraHeight:"",camerastate:!1,livePusher:null,snapshotsrc:null,photoInfoList:[],photoInfoSelectIndex:0,context:{},canvasObj:{},isNeedUpload:!1,uploadURL:"",uploadParams:{},uploadTasks:new Map,maskImageURL:"",pageTitle:"OCR识别",currentCameraImagePath:null,isFrontCamera:!1,scanArea:{top:0,left:0,width:0,height:0},cameraPosition:"back",mobileLocation:"",checkTime:"",markerUrl:""}},computed:{navTop:function(){var t=uni.getSystemInfoSync(),e=t.statusBarHeight;return e||0},navHeight:function(){var t=uni.getSystemInfoSync(),e=t.statusBarHeight;return e+44},marginTop:function(){var t=uni.getSystemInfoSync(),e=t.statusBarHeight;return"calc(".concat(e,"px + 104rpx)")},height:function(){var t=uni.getSystemInfoSync(),e=t.statusBarHeight;return"calc(100vh - ".concat(this.safeArea,"px - ").concat(e,"px - 104rpx)")},maskImageTop:function(){var t=uni.getSystemInfoSync(),e=t.statusBarHeight;return"calc(".concat(e," + 44px + 172)")},maskImageBottom:function(){var t=uni.getSystemInfoSync(),e=t.statusBarHeight;return"calc(".concat(e,"px + 44px + 278rpx)")},maskImageLeftOrRight:function(){return"57rpx"},maskImageSize:function(){return"36rpx"},toPhotoPreviewId:function(){return"photo-preview-".concat(this.photoInfoSelectIndex)}},onLoad:function(t){w=this,this.initCamera();var e=JSON.parse(t.camareOptions);this.camareOptions=e,null!=e.pageTitle&&(this.pageTitle=e.pageTitle),null!=e.maskImageURL&&(this.maskImageURL=e.maskImageURL),null!=e.isCanSelectPhotoWithAlbum&&(this.isCanSelectPhotoWithAlbum=e.isCanSelectPhotoWithAlbum),e.upload&&(e.upload.enable&&(this.isNeedUpload=e.upload.enable),e.upload.url&&(this.uploadURL=decodeURIComponent(e.upload.url)),e.upload.uploadParams&&(this.uploadParams=e.upload.uploadParams)),console.log("传递的参数:",t.camareOptions)},onShow:function(t){console.log("相机展示"),this.currentCameraImagePath=null,this.startPreview(),this.getDate()},onReady:function(){var t=this;this.livePusher=uni.createLivePusherContext("livePusher",this),this.calculateScanArea(),this.getLocation(),setTimeout((function(){t.startPreview(),t.poenCarme()}),1e3)},methods:{calculateScanArea:function(){var t,e=this,a=uni.getSystemInfoSync(),i=a.statusBarHeight,n=i+44,o=a.platform.toLowerCase(),s=Math.floor(.85*this.windowWidth),c=Math.floor((this.windowWidth-s)/2),r=Math.floor(.25*s);"ios"===o?(t=uni.upx2px(220),a.safeArea&&a.safeArea.top>20&&(t=uni.upx2px(200))):t=uni.upx2px(260);var l=n+t;this.scanArea={top:l,left:c,width:s,height:r},this.$nextTick((function(){e.$forceUpdate()}))},poenCarme:function(){},initCamera:function(){var t=this,e=this.$refs.livePusher;e&&e.switchCamera({success:function(){t.cameraPosition="back",console.log("摄像头初始化成功，已切换至后置摄像头")},fail:function(t){console.error("摄像头初始化失败：",t)}}),uni.getSystemInfo({success:function(t){w.windowWidth=t.windowWidth,w.windowHeight=t.windowHeight,w.cameraWidth=t.windowWidth,w.cameraHeight=t.windowHeight;var e=w.aliquot(w.windowWidth,w.windowHeight);w.aspect=w.cameraWidth/e+":"+w.cameraHeight/e,console.log("画面比例："+w.aspect)}})},openPhotoAlbum:function(){var t=this;uni.chooseImage({count:1,sizeType:["original","compressed"],sourceType:["album"],success:function(e){console.log(JSON.stringify(e.tempFilePaths)),t.uploadImageToOCRService(e.tempFilePaths[0])}})},aliquot:function(t,e){return t%e==0?e:this.aliquot(e,t%e)},startPreview:function(){this.livePusher.startPreview({success:function(t){console.log(t)}})},stopPreview:function(){this.livePusher.stopPreview({success:function(t){w.camerastate=!1}})},statechange:function(t){1007==t.detail.code?w.camerastate=!0:-1301==t.detail.code&&(w.camerastate=!1)},getImageURL:function(t){return t.startsWith("http")||t.startsWith("file:/")?t:"file://"+t},back:function(){if(this.uploadTasks.has("OCRUploadTask")){var t=this.uploadTasks.get("OCRUploadTask");t.abort(),this.uploadTasks.delete("OCRUploadTask")}uni.hideLoading(),w.stopPreview(),uni.navigateBack()},finishCamera:function(){},cropImageWithPlus:function(t){var e=this;uni.getImageInfo({src:t,success:function(a){e.realImageSize={width:a.width,height:a.height};var i=a.width/e.cameraWidth,n=a.height/e.cameraHeight,o={top:Math.round(e.scanArea.top*n),left:Math.round(e.scanArea.left*i),width:Math.round(e.scanArea.width*i),height:Math.round(e.scanArea.height*n)};plus.zip.compressImage({src:t,dst:"_doc/temp_".concat(Date.now(),".jpg"),width:"100%",height:"100%",quality:100,clip:{top:o.top,left:o.left,width:o.width,height:o.height},rotate:0,compress:!1},(function(t){e.uploadImageToOCRService(t.target)}),(function(t){console.error("裁剪失败:",t),uni.showToast({title:"图片裁剪失败",icon:"none"})}))}})},snapshot:function(){var t=this;this.livePusher.snapshot({success:function(e){t.currentCameraImagePath=e.message.tempImagePath,t.stopPreview(),t.selectImageUpload(e.message.tempImagePath),t.cropImageWithPlus(e.message.tempImagePath)}})},selectImageUpload:function(t){var e=uni.getStorageSync("xsAppToken"),a=this,n="".concat(this.mobileLocation," ").concat(this.checkTime),o=null==this.uploadParams?{}:this.uploadParams,s=f.a.NEW_API_HOST,c="".concat(s,"/cartech-file/fileoperate/addWaterMarkUpload?isPub=yes&needLabel=true&targetPlatform=OBS-OSS&waterMarkTxt=").concat(n);uni.uploadFile({url:c,filePath:t,name:"file",header:{"Access-Token":e},formData:Object(i["a"])({},o),success:function(t){var e=JSON.parse(t.data);a.markerUrl=e.data&&e.data.url||"",console.log("shuiyin uploadFileRes ====== >")},fail:function(t){uni.showToast({title:"上传失败，请重试",icon:"none",duration:2e3})}})},getLocation:function(){var t=this;uni.showLoading({title:"获取定位中..."}),setTimeout((function(){uni.getLocation({type:"gcj02",success:function(e){uni.hideLoading(),t.reverseGeocode(e.latitude,e.longitude)},fail:function(e){uni.hideLoading(),e.errMsg.includes("location")?(uni.showToast({title:"定位服务未开启，请前往设置手动开启",icon:"none"}),t.isLocationServiceEnabled()):t.showGuide(),console.error("定位失败:",e)}})}),50)},reverseGeocode:function(t,e){var a=this,i="https://restapi.amap.com/v3/geocode/regeo?key=".concat("e473b23cc5eb42bbb1f9d74f4ad6c6be","&location=").concat(e,",").concat(t,"&radius=100&output=json&extensions=all");uni.request({url:i,method:"GET",success:function(t){if(uni.hideLoading(),200===t.statusCode&&"1"===t.data.status){var e,i,n=(null===(e=t.data.regeocode)||void 0===e?void 0:e.formatted_address)||(null===(i=t.data.regeocode)||void 0===i||null===(i=i.addressComponent)||void 0===i?void 0:i.district);a.mobileLocation=n}else console.error("逆地理编码失败:",t.data)},fail:function(t){uni.hideLoading(),console.error("请求失败:",t)}})},showGuide:function(){var t=this;uni.showModal({title:"权限提示",content:"需要定位权限，请前往设置开启",confirmText:"去设置",success:function(e){e.confirm&&t.opensetting()}})},opensetting:function(){},isLocationServiceEnabled:function(){},getDate:function(){var t=new Date,e=t.getFullYear(),a=t.getMonth()+1,i=t.getDate(),n=t.getHours(),o=t.getMinutes(),s=t.getSeconds(),c="".concat(e,"-").concat(String(a).padStart(2,"0"),"-").concat(String(i).padStart(2,"0")," ")+"".concat(String(n).padStart(2,"0"),":").concat(String(o).padStart(2,"0"),":").concat(String(s).padStart(2,"0"));this.checkTime=c},flip:function(){this.livePusher.switchCamera()},uploadImageToOCRService:function(t){var e=this,a=uni.getStorageSync("xsAppToken"),n=this,o=null==this.uploadParams?{}:this.uploadParams;console.log("当前上传参数",o),uni.showLoading({title:"VIN识别中",mask:!0});var s=f.a.NEW_API_HOST,c="".concat(s,"/cartech-file/fileoperate/uploadFile?isPub=yes&needLabel=true&targetPlatform=OBS-OSS");uni.uploadFile({url:c,filePath:t,name:"file",header:{"Access-Token":a},formData:Object(i["a"])(Object(i["a"])({},o),{},{isVINArea:!0}),success:function(t){uni.hideLoading();var i=JSON.parse(t.data);console.log("uploadFileRes ====== >",i);var o="".concat(s,"/cartech-franchise-service/common/getVcodeByPicUrl");uni.request({url:o,method:"POST",data:{picUrl:i.data.url||"",recognizeType:"VIN",area:"VIN_AREA"},header:{"Access-Token":a,"Content-Type":"application/json"},success:function(t){if(console.log("OCR识别成功:",t),uni.hideLoading(),n.uploadTasks.delete("OCRUploadTask"),0!=t.data.code)return uni.showToast({title:"VIN码识别失败",icon:"none",duration:2e3}),n.currentCameraImagePath=null,void n.startPreview();var a={uploadFileRes:t,imagePath:i.data.url||"",camarInfo:e.camareOptions.camarInfo,checkReportId:e.camareOptions.checkReportId,xwCode:e.camareOptions.xwCode,markerUrl:e.markerUrl},o=JSON.stringify(a);uni.navigateTo({url:"/pagesB/mmcOCRCamera/ocrResult?cameraData=".concat(o,"&checkType=").concat(e.camareOptions.checkType)})},fail:function(t){uni.hideLoading(),n.uploadTasks.delete("OCRUploadTask"),console.error("请求失败:",t),n.currentCameraImagePath=null,n.startPreview(),uni.showToast({title:"识别失败，请重试",icon:"none",duration:2e3})}})},fail:function(t){uni.hideLoading(),console.log("上传失败"),console.log(t),n.uploadTasks.delete("OCRUploadTask"),n.currentCameraImagePath=null,n.startPreview(),uni.showToast({title:"上传失败，请重试",icon:"none",duration:2e3})}})},savePhoto:function(t){uni.saveImageToPhotosAlbum({filePath:t,success:function(){uni.showToast({title:"已保存至相册",duration:2e3})}})},generateUUID:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)}))}}},b=v,x=(a("4b91"),a("f0c5")),I=Object(x["a"])(b,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",{staticClass:"live-camera",style:{width:t.windowWidth,height:t.windowHeight}},[a("div",{staticClass:"camera-nav-bar",style:{paddingTop:t.navTop,width:t.windowWidth,height:t.navHeight}},[a("v-uni-text",{staticClass:"camera-nav-bar-button",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.back.apply(void 0,arguments)}}},[t._v("返回")]),a("v-uni-text",{staticClass:"camera-nav-bar-title"},[t._v(t._s(t.pageTitle))]),a("v-uni-text",{staticClass:"camera-nav-bar-button",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.finishCamera.apply(void 0,arguments)}}})],1),a("v-uni-live-pusher",{ref:"livePusher",staticClass:"livePusher",style:{width:t.cameraWidth,height:t.cameraHeight},attrs:{id:"livePusher",mode:"FHD",beauty:"0",whiteness:"0",aspect:t.aspect,"min-bitrate":"1000","audio-quality":"16KHz","device-position":t.cameraPosition,"auto-focus":!0,muted:!0,"enable-camera":!0,"enable-mic":!1,zoom:!1},on:{statechange:function(e){arguments[0]=e=t.$handleEvent(e),t.statechange.apply(void 0,arguments)}}}),null!=t.maskImageURL?a("v-uni-image",{staticClass:"mask-image",style:{top:t.navHeight,width:t.cameraWidth,height:t.cameraHeight},attrs:{src:t.maskImageURL,mode:"aspectFill"}}):t._e(),null!=t.currentCameraImagePath?a("v-uni-image",{staticClass:"preview-fullscreen-image",style:{top:t.navHeight,width:t.cameraWidth,height:t.cameraHeight},attrs:{src:t.currentCameraImagePath,mode:"aspectFill"}}):t._e(),a("v-uni-image",{staticClass:"ocr-mask-image",style:{top:t.navHeight+200,left:20,width:t.maskImageSize,height:t.maskImageSize},attrs:{src:"https://cimg-cdn.haier.net/obs-oldtest/2025/03/23/CRuJlXrS/left_top.png",mode:"aspectFill"}}),a("v-uni-image",{staticClass:"ocr-mask-image",style:{top:t.navHeight+260,left:20,width:t.maskImageSize,height:t.maskImageSize},attrs:{src:"https://cimg-cdn.haier.net/obs-oldtest/2025/03/23/PBpoTZBO/left_bottom.png",mode:"aspectFill"}}),a("v-uni-image",{staticClass:"ocr-mask-image",style:{top:t.navHeight+260,right:20,width:t.maskImageSize,height:t.maskImageSize},attrs:{src:"https://cimg-cdn.haier.net/obs-oldtest/2025/03/23/hYnBWQnL/right_bottom.png",mode:"aspectFill"}}),a("v-uni-image",{staticClass:"ocr-mask-image",style:{top:t.navHeight+200,right:20,width:t.maskImageSize,height:t.maskImageSize},attrs:{src:"https://cimg-cdn.haier.net/obs-oldtest/2025/03/23/P4OpqVF8/right_top.png",mode:"aspectFill"}}),a("div",{staticClass:"scan-mask",style:{top:t.navHeight,left:0,width:t.cameraWidth,height:"200px"}}),a("div",{staticClass:"scan-mask",style:{top:t.navHeight+260+18+"px",left:0,width:t.cameraWidth,bottom:0}}),a("div",{staticClass:"scan-mask",style:{top:t.navHeight+200+"px",left:0,width:"20px",height:"96px"}}),a("div",{staticClass:"scan-mask",style:{top:t.navHeight+200+"px",right:0,width:"20px",height:"96px"}}),a("v-uni-view",{staticClass:"menu"},[a("v-uni-view",{staticClass:"menu-snapshot",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.snapshot.apply(void 0,arguments)}}}),t.isCanSelectPhotoWithAlbum?a("v-uni-image",{staticClass:"menu-reload",style:{width:"48px",height:"48px"},attrs:{src:t.photoAlbumIcon,mode:"aspectFill"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.openPhotoAlbum.apply(void 0,arguments)}}}):t._e()],1),a("gcanvas",{ref:"gcanvess",staticClass:"canvas",style:{top:1e3,left:300,width:t.cameraWidth,height:t.cameraHeight},attrs:{id:"gcanvess","canvas-id":"gcanvess",fillStyle:"#EEEEEE"}})],1)}),[],!1,null,"4873c531",null,!1,void 0,void 0);e["default"]=I.exports},7430:function(t,e,a){t.exports=a.p+"static/camera/ic_photo_album.png"},b27d:function(t,e,a){var i=a("e4be");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=a("4f06").default;n("05001992",i,!0,{sourceMap:!1,shadowMode:!1})},e445:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGwAAABsCAYAAACPZlfNAAAACXBIWXMAACE4AAAhOAFFljFgAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAHOSURBVHgB7dzNTQJhFEbhO+61DmmAOoQCtDbjXm1DGsA6sAC8k7gw6Mx8JGQy53KeZEKiLAiHny8s3ghJkiRJ0py6KOZ4PD7lzTqvu7xeu657i0JKBctY73mzOvnzPqM9RBE3UUTG2sTfWL3Vz7uuhDLB0nbkf+soolKwMbdRxLUEK8NgMAaDMRiMwWAMBmMwGIPBGAzGYDAGgzEYjMFgDAZjMBiDwRgMxmAwBoMxGIzBYAwGYzAYg8EYDMZgMAaDMRiMwWAMBmMwGIPBGAzGYDAGgzEYjMFgmodVThZmlug+hh/bIa/PWK7mxZ6mYAMLM7qspsWeyY/EkYUZXVbTYk/Ld9g2NJfJxZ6WYIfQXCYXe1qC7UJzmTx4eOhYjqZDxznH+v7wsYnl6l9QY8f6fSzTV167jPXccucyA5f5gnqJ4S/tj3xCHqMAf+mAMRiMwWAMBmMwGIPBGAzGYDAGgzEYjMFgDAZjMBiDwRgMxmAwBoMxGIzBYAwGYzAYg8EYDMZgMAaDMRiMwWAMBmMwGIPBGAzGYDAGgzEYjMFgDAZjMJhKwa5isadSsLHFnqZpO4IyOx29gcWepoUZilLBer8We85amJEkSZIk6T/fQQZHqIcdT3oAAAAASUVORK5CYII="},e4be:function(t,e,a){var i=a("24fb");e=i(!1),e.push([t.i,".live-camera[data-v-4873c531]{-webkit-box-pack:start;-webkit-justify-content:flex-start;justify-content:flex-start;-webkit-box-align:center;-webkit-align-items:center;align-items:center;background:#000;position:relative}.camera-nav-bar[data-v-4873c531]{background:#000;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;padding-left:16px;padding-right:16px}.camera-nav-bar-title[data-v-4873c531]{color:#fff;text-align:right;font-family:PingFang SC;font-size:16px;font-style:normal;font-weight:500;line-height:48px}.camera-nav-bar-button[data-v-4873c531]{color:#fff;text-align:right;font-family:PingFang SC;font-size:14px;font-style:normal;font-weight:400;line-height:42px}.livePusher[data-v-4873c531]{margin-top:0}.mask-image[data-v-4873c531]{position:absolute;z-index:98;left:0}.ocr-mask-image[data-v-4873c531]{position:absolute;z-index:98}.scroll-view[data-v-4873c531]{margin-top:%?48?%;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row}.preview-fullscreen-image[data-v-4873c531]{position:absolute;z-index:101;left:0}.photo-preview[data-v-4873c531]{position:relative;margin-left:%?32?%;width:%?192?%;height:%?144?%;border-radius:%?12?%;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.remove-image[data-v-4873c531]{position:absolute;z-index:98;right:0;top:0;width:%?28?%;height:%?28?%}.add-image[data-v-4873c531]{width:%?28?%;height:%?28?%;margin-bottom:%?8?%}.photo-preview-add-title[data-v-4873c531]{color:#fff;font-family:PingFang SC;font-size:%?20?%;font-style:normal;font-weight:400;line-height:%?30?%}.photo-preview-default[data-v-4873c531]{border:1px solid #d5d5d5}.photo-preview-select[data-v-4873c531]{border:2.23px solid #f8b500}.photo-preview-title[data-v-4873c531]{position:absolute;left:%?16?%;top:%?16?%;color:#fff;font-family:PingFang SC;font-size:%?20?%;font-style:normal;font-weight:400;line-height:%?30?%;z-index:5}.photo-preview-delete[data-v-4873c531]{position:absolute;right:%?16?%;top:%?16?%;width:%?28?%;height:%?28?%}.preview-image[data-v-4873c531]{width:%?176?%;height:%?128?%;border-radius:%?12?%}.preview-image-state-select[data-v-4873c531]{position:absolute;top:%?4?%;left:%?4?%;width:%?176?%;height:%?128?%;border-radius:%?12?%;background-color:rgba(0,0,0,.5);-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center;z-index:3}.preview-image-state-default[data-v-4873c531]{position:absolute;z-index:3;top:%?6?%;left:%?6?%;width:%?176?%;height:%?128?%;border-radius:%?12?%;background-color:rgba(0,0,0,.5);-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.preview-state-loading-image[data-v-4873c531]{width:%?48?%;height:%?48?%}.preview-state-error-image[data-v-4873c531]{width:%?32?%;height:%?32?%}.menu[data-v-4873c531]{position:absolute;left:0;bottom:%?100?%;width:%?750?%;height:%?180?%;z-index:98;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;padding-left:%?60?%;padding-right:%?60?%}.menu-mask[data-v-4873c531]{position:absolute;left:0;bottom:0;width:%?750?%;height:%?180?%;z-index:98}.menu-add-logo[data-v-4873c531]{position:absolute;left:%?30?%;bottom:%?50?%;width:%?150?%;height:%?80?%;z-index:99;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;color:#fff;font-family:PingFang SC;font-size:%?28?%;font-style:normal;font-weight:400;line-height:%?42?%}.menu-snapshot[data-v-4873c531]{width:%?130?%;height:%?130?%;z-index:99;background:#f8b500;border-radius:50%;border:%?4?% solid #fff}.menu-reload[data-v-4873c531]{position:absolute;right:%?30?%;bottom:%?50?%;width:%?80?%;height:%?80?%;z-index:99;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;color:#fff;font-family:PingFang SC;font-size:%?28?%;font-style:normal;font-weight:400;line-height:%?42?%}\r\n\r\n/* logo */.container[data-v-4873c531]{overflow:hidden;position:absolute\r\n\t/* background: #FF0000; */}.image-wrapper[data-v-4873c531]{position:relative;\r\n\t/* 图片初始宽度 */width:%?500?%;\r\n\t/* 图片初始高度 */height:%?600?%\r\n\t/* background: #FFFF00; */}.draggable-image[data-v-4873c531]{\r\n\t/* 防止图片超出容器 */position:absolute;\r\n\t/* 或者 contain, fill */width:100%;height:100%;z-index:99}\r\n\r\n/* logo */.pre-logo-container[data-v-4873c531]{overflow:hidden;position:absolute;\r\n\t/* background: #FF0000; */z-index:299}.pre-logo-image-wrapper[data-v-4873c531]{position:relative;\r\n\t/* 图片初始宽度 */width:%?500?%;\r\n\t/* 图片初始高度 */height:%?600?%\r\n\t/* background: #FFFF00; */}.pre-logo-image[data-v-4873c531]{\r\n\t/* 防止图片超出容器 */position:absolute;\r\n\t/* 或者 contain, fill */width:100%;height:100%;z-index:299}.canvas[data-v-4873c531]{position:absolute;left:0;z-index:500;background:#000}.scan-mask[data-v-4873c531]{position:absolute;z-index:98;background:rgba(0,0,0,.5)}",""]),t.exports=e},f033:function(t,e){t.exports="data:image/png;base64,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"}}]);