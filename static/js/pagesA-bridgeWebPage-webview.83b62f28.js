(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pagesA-bridgeWebPage-webview"],{"1b18":function(e,t,i){var n=i("b0ef");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var a=i("4f06").default;a("9f944dca",n,!0,{sourceMap:!1,shadowMode:!1})},"4e8e":function(e,t,i){"use strict";i.r(t);var n={o2NavBar:i("61fd").default},a=i("f3f3"),o=(i("99af"),i("c975"),i("14d9"),i("f4b3"),i("e9c4"),i("b64b"),i("231d")),r=(i("276c"),i("e954"),i("fc11"),i("de5d")),l=i.n(r),s=i("fa7d"),c=i("71ea"),d=i.n(c),u=i("0f07"),f={data:function(){return{webErrorIcon:l.a,title:"",src:"",openCameraCallBack:null,webView:null,webviewRefName:null,webviewRef:null,ticket:null,isHaveNavBar:!0,isShowReloadView:!1,customWebView:null,loadWebContentTime:0,loadWebContentMaxTime:20,loadWebContentTimer:null,errorHintText:"页面加载失败",wv:null,isFirstLoadWebViewContent:!0}},computed:{},created:function(){this.webviewRefName="webview_"+(new Date).getTime()+"_"+Math.ceil(10*Math.random())},onReady:function(){var e=this;if(this.needAuth){(new Date).getTime();Object(o["c"])(this,(function(t){(new Date).getTime();if(e.ticket=t,t){var i=e.src,n=Date.now();i=-1!==i.indexOf("?")?"".concat(i,"&iamTicket=").concat(t,"&pageType=uniapp&t=").concat(n):"".concat(i,"?iamTicket=").concat(t,"&pageType=uniapp&t=").concat(n),e.src=i}e.loadWebViewContent()}))}else this.loadWebViewContent()},onLoad:function(e){var t;t=JSON.parse(e.query);var i=t,n=i.title,a=i.path,o=i.needAuth,r=void 0===o||o,l=i.isHaveNavBar,s=void 0===l||l;this.needAuth=r,this.title=n,this.isHaveNavBar=s,this.src=a,this.registerBridgeHandler()},methods:{H5RangerInit:function(){u["a"].initState({config:{city_name:this.$store.state.ktcStore.cityInfo.name,user_unique_id:this.$store.state.user.userInfo.accountCode}}),u["a"].init(this.wv,{app_id:d.a.MAIDIAN_APP_ID,channel_domain:d.a.MAIDIAN_URL})},getCameraData:function(e){null!=this.openCameraCallBack&&this.openCameraCallBack({data:e})},defaultHandler:function(){this.$refs.webViewBridge.send({fff:"1000.0"},(function(e){uni.showToast({title:"send"+JSON.stringify(e),icon:"none"})}))},registerBridgeHandler:function(){var e=this,t=this;setTimeout((function(){t.registerHandler("openCamera",(function(e,i){var n=JSON.stringify(e);uni.navigateTo({url:"/pagesB/mmcCamera/camera?camareOptions=".concat(n)}),t.openCameraCallBack=i})),t.setDefaultHandler((function(e,t){uni.showToast({title:"send"+JSON.stringify(e),icon:"none"}),t({send:"默认Bridge处理逻辑"})})),t.registerHandler("writeText",(function(e,t){uni.setClipboardData({data:e,success:function(){uni.showToast({title:"复制成功",icon:"none"}),t({data:"复制成功"})}})})),t.registerHandler("makePhoneCall",(function(e,t){Object(s["n"])(e.phoneNumber)})),t.registerHandler("readText",(function(e,t){uni.getClipboardData({success:function(e){t({data:e.data})}})})),t.registerHandler("carAction",(function(e,t){var i=e||{},n=i.actionType,a=(i.title,i.shareData),o=a.sharePage||"";if(uni.setStorageSync("carInfo",a),"整页分享"==n)uni.navigateTo({url:"/pagesA/popup/popup?key=carInfo&shareType=tab&carType=list&page=otherPages/carList/index&sharePage=".concat(o)});else if("多车辆分享"==n)uni.navigateTo({url:"/pagesA/popup/popup?key=carInfo&shareType=tab&carType=more&page=otherPages/carList/index&sharePage=".concat(o)});else if("单车辆分享"==n)uni.navigateTo({url:"/pagesA/popup/popup?key=carInfo&shareType=tab&page=otherPages/carNewDetail/index&carType=single&sharePage=".concat(o)});else if("发车"==n)uni.navigateTo({url:"/pagesA/vehicleDepart/index"});else if("downloadPic"==n){var r=a.imgUrl,l=!(!a||!a.isRemoveToast)&&a.isRemoveToast;try{uni.downloadFile({url:r,success:function(e){var i=e.tempFilePath;uni.saveImageToPhotosAlbum({filePath:i,success:function(){l||uni.showToast({title:"保存成功",icon:"success"}),t({data:"success"})},fail:function(e){l||uni.showToast({title:"保存失败",icon:"none"}),t({data:"fail"})}})},fail:function(e){l||uni.showToast({title:"下载失败",icon:"none"}),t({data:"fail"})}})}catch(s){t({data:"fail"})}}})),t.registerHandler("closeWebView",(function(e,i){t.getWbView().close(),setTimeout((function(){uni.navigateBack()}),50),i({code:0,message:"关闭成功"})})),t.registerHandler("previewImage",(function(e,t){var i=e.current,n=e.urls;uni.previewImage({current:i,urls:n,success:function(){t({code:0,message:"预览成功"})},fail:function(){t({code:101,message:"预览失败"})}})})),t.registerHandler("previewVideo",(function(t,i){var n=t.title,a=t.src;e.$Router.push({name:"previewVideo",params:{title:n,src:a}}),i({code:0,message:"预览成功"})})),t.registerHandler("getAccessToken",(function(e,t){var i=uni.getStorageSync("xsAppToken");i&&t({data:{accessToken:i}})})),t.registerHandler("getTicket",(function(t,i){t.force,(new Date).getTime();Object(o["c"])(e,(function(e){(new Date).getTime();e&&i({data:{ticket:e}})}))})),t.registerHandler("openDocument",(function(e,t){if(!e||!e.filePath)return t({data:{code:101,errMsg:"文件地址不能为空！"}});uni.showLoading({title:"打开中"}),uni.downloadFile({url:e.filePath,success:function(e){var i=e.tempFilePath;uni.openDocument({filePath:i,success:function(e){t({code:0,errMsg:"文件打开成功"})},complete:function(e){uni.hideLoading()}})}})})),t.registerHandler("saveimg",(function(e,t){}))}),1500)},onPageStart:function(){this.$emit("onPageStart",Object(a["a"])({},arguments))},onPageFinish:function(){this.$emit("onPageFinish",Object(a["a"])({},arguments))},loadWebViewContent:function(){this.isHaveNavBar,uni.getSystemInfoSync().statusBarHeight},startLoadWebView:function(){var e=this;this.loadWebContentTime=0,this.loadWebContentTimer=setInterval((function(){e.loadWebContentTime++}),1e3)},onLeftClick:function(){this.endLoadWebView()},endLoadWebView:function(){clearInterval(this.loadWebContentTimer),this.loadWebContentTime=0},handleError:function(e,t){1!=this.isShowReloadView&&(this.$Rangers.rangersTrack("webview_loading_error",e),this.wv.close(),this.isShowReloadView=!0,null!=t&&(this.errorHintText=t))},reloadWebView:function(){this.isShowReloadView=!1,this.loadWebViewContent()},onReceivedTitle:function(){this.$emit("onReceivedTitle",Object(a["a"])({},arguments))},message:function(){this.$emit("message",Object(a["a"])({},arguments))},onPostMessage:function(e){var t=this,i=e.detail;if(i){var n=i.data[0],a=n.data,o=n.callbackId,r=n.handlerName,l=n.callbacksHandles;if("response"===r){var s=this.webView.responseCallbacks[o];s&&(s(a),delete this.webView.responseCallbacks[o])}else{var c=this.webView.messageHandlers[r];c&&c(a,(function(e){var i={responseId:o,responseData:e},n=JSON.stringify(i);t.sendResult("".concat(l,"(").concat(n,")"))}))}}this.$emit("onPostMessage",e)},callHandler:function(){},registerHandler:function(){},setDefaultHandler:function(){},send:function(){},getWebview:function(){return this.webviewRef},evalJs:function(){},sendResult:function(e){},getWbView:function(){var e=this.$scope.$getAppWebview(),t=e.children()[0];return t}}},b=f,h=(i("7b90"),i("f0c5")),v=Object(h["a"])(b,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-uni-view",{staticClass:"micro-store",attrs:{id:"bridgeWebPage"}},[e.isHaveNavBar||e.isShowReloadView?i("v-uni-view",{staticClass:"store-header"},[i("o2-nav-bar",{attrs:{fixed:!0,title:e.title,"status-bar":!0},on:{clickLeft:function(t){arguments[0]=t=e.$handleEvent(t),e.onLeftClick.apply(void 0,arguments)}}})],1):e._e(),i("v-uni-web-view",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],ref:e.webviewRefName,staticClass:"bridge-web-content",on:{message:function(t){arguments[0]=t=e.$handleEvent(t),e.onPostMessage.apply(void 0,arguments)},receivedtitle:function(t){arguments[0]=t=e.$handleEvent(t),e.onReceivedTitle.apply(void 0,arguments)}}}),e.isShowReloadView?i("v-uni-view",{staticClass:"reload-view"},[i("v-uni-image",{attrs:{src:e.webErrorIcon,mode:""}}),i("v-uni-view",{staticClass:"hint-view"},[e._v(e._s(e.errorHintText))]),i("v-uni-view",{staticClass:"reload-button",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.reloadWebView.apply(void 0,arguments)}}},[e._v("重新加载")])],1):e._e()],1)}),[],!1,null,"12b95642",null,!1,n,void 0);t["default"]=v.exports},"574c":function(e,t,i){var n=i("24fb");t=n(!1),t.push([e.i,'@charset "UTF-8";\n\n\n/* 行为相关颜色 */.micro-store[data-v-12b95642]{box-sizing:border-box;width:100%;height:100%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;overflow-y:hidden}.store-header[data-v-12b95642]{position:"relative";height:"max-content";border-bottom:"1px solid #e7e7e7"}.store-header .title[data-v-12b95642]{font-size:16px;color:rgba(0,0,0,.9);font-weight:500;line-height:24px}.store-header .share-icon[data-v-12b95642]{width:20px;height:20px;font-size:18px}.bridge-web-content[data-v-12b95642]{width:100%;-webkit-box-flex:1;-webkit-flex:1;flex:1}.reload-view[data-v-12b95642]{width:100%;-webkit-box-flex:1;-webkit-flex:1;flex:1;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.reload-view uni-image[data-v-12b95642]{width:%?280?%;height:%?280?%;margin-bottom:%?24?%}.reload-view .hint-view[data-v-12b95642]{color:rgba(0,0,0,.45098039215686275);font-family:PingFang SC;font-size:%?24?%;font-style:normal;font-weight:400;line-height:%?36?%;margin-bottom:%?40?%}.reload-view .reload-button[data-v-12b95642]{width:%?210?%;height:%?64?%;border-radius:%?8?%;background:#f8b500;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center;color:#fff;font-family:PingFang SC;font-size:%?28?%;font-style:normal;font-weight:400;line-height:%?42?%}.back[data-v-12b95642]{position:absolute;top:10px;left:10px;font-size:14px}',""]),e.exports=t},"61fd":function(e,t,i){"use strict";i.r(t);var n={o2Icon:i("51db").default},a=(i("a9e3"),{name:"UniStatusBar"}),o=i("f0c5"),r=Object(o["a"])(a,(function(){var e=this.$createElement,t=this._self._c||e;return t("v-uni-view",{staticClass:"uni-status-bar",style:{height:this.statusBarHeight+"px"}},[this._t("default")],2)}),[],!1,null,"4d4bc7a2",null,!1,void 0,void 0),l=r.exports,s=i("fa7d"),c=function(e){return"number"===typeof e?e+"px":e},d={name:"UniNavBar",components:{statusBar:l},emits:["clickLeft","clickRight","clickTitle"],props:{dark:{type:Boolean,default:!1},title:{type:String,default:""},leftText:{type:String,default:""},rightText:{type:String,default:""},leftIcon:{type:String,default:"icon-LeftOutlined"},leftIconFlag:{type:Boolean,default:!0},rightIcon:{type:String,default:""},dbNavBar:{type:[Boolean,String],default:!1},fixed:{type:[Boolean,String],default:!1},color:{type:String,default:""},fontSize:{type:String,default:""},rightTextColor:{type:String,default:""},leftTextColor:{type:String,default:""},backgroundColor:{type:String,default:""},backgroundImage:{type:String,default:""},statusBar:{type:[Boolean,String],default:!1},shadow:{type:[Boolean,String],default:!1},border:{type:[Boolean,String],default:!1},height:{type:[Number,String]},rightWidth:{type:[Number,String],default:60},stat:{type:[Boolean,String],default:""},onlyLeft:{type:Boolean,default:!1},clickBackFlag:{type:Boolean,default:!1},inverted:{type:Boolean,default:!1},justifyContent:{type:String,default:"left"},invertedBackgroundColor:String,showContent:{type:Boolean,default:!0},isTransparent:{type:Boolean,default:!1}},data:function(){return{scrollTop:0,defaultBackgroundColor:this.backgroundColor,click:!1,showThemeBgColor:"",titleC:""}},computed:{themeBgColor:function(){return this.dark?this.defaultBackgroundColor?this.defaultBackgroundColor:this.dark?"#333":"#FFF":this.inverted||this.isTransparent?this.invertedBackgroundColor||"transparent":this.backgroundColor||"#FFF"},themeColor:function(){return this.dark?this.color?this.color:this.dark?"#fff":"#000000E5":this.color||"#000000E5"},navbarHeight:function(){return c(this.height||this.navBarHeight)},rightIconWidth:function(){return c(this.rightWidth)},titleStyle:function(){return Object(s["c"])({justifyContent:this.justifyContent})}},watch:{themeBgColor:{immediate:!0,handler:function(e,t){t&&t!==e&&(this.showThemeBgColor=e)}},title:{deep:!0,immediate:!0,handler:function(e,t){e!=t&&(this.titleC=e)}}},mounted:function(){uni.report&&this.stat&&""!==this.title&&(uni.report("title",this.title),this.titleC=this.title),this.showThemeBgColor=this.themeBgColor},destroyed:function(){},methods:{onClickLeft:function(){var e=this;e.click||(e.click=!0,e.clickBackFlag?(e.$emit("clickLeft"),e.click=!1):(uni.navigateBack({delta:1,fail:function(t){e.$switchTab("home")}}),e.$emit("clickLeft"),e.click=!1))},onClickRight:function(){this.$emit("clickRight")},onClickTitle:function(){this.$emit("clickTitle")}}},u=d,f=(i("e2cf"),Object(o["a"])(u,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-uni-view",{staticClass:"uni-navbar",class:{"uni-dark":e.dark,"uni-nvue-fixed":e.fixed}},[i("v-uni-view",{staticClass:"uni-navbar__content",class:{"uni-navbar--fixed":e.fixed,"uni-navbar--shadow":e.shadow,"uni-navbar--border":e.border,"uni-navbar__bgImage":e.backgroundImage},style:{background:e.themeBgColor}},[e._t("statusBar"),e.statusBar?i("status-bar"):e._e(),e.showContent?i("v-uni-view",{staticClass:"uni-navbar__header",style:{color:e.themeColor,height:e.navbarHeight}},[i("v-uni-view",{staticClass:"uni-navbar-btn-text",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.onClickLeft.apply(void 0,arguments)}}},[i("v-uni-text",{staticClass:"uni-nav-bar-right-text",style:{color:e.leftTextColor,fontSize:e.fontSize}},[e._v(e._s(e.leftText))])],1),"center"===e.justifyContent?i("v-uni-view",{staticClass:"uni-navbar__header-btns uni-navbar__header-btns-left",style:{width:e.leftText?"68rpx":"120rpx"}}):e._e(),e.leftIconFlag?i("v-uni-view",{on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.onClickLeft.apply(void 0,arguments)}}},[e._t("left",[i("v-uni-view",{staticClass:"uni-navbar__content_view"},[i("o2-icon",{attrs:{icon:e.leftIcon,color:"themeColor",size:"40rpx"}})],1)])],2):e._e(),i("v-uni-view",{staticClass:"uni-navbar__header-container",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.onClickTitle.apply(void 0,arguments)}}},[e._t("default",[""!==e.titleC&&e.titleC&&"true"!==e.titleC?i("v-uni-view",{staticClass:"uni-navbar__header-container-inner",style:e.titleStyle},[i("v-uni-text",{staticClass:"uni-ellipsis-1",style:{color:e.themeColor}},[e._v(e._s(e.titleC))])],1):e._e(),i("v-uni-view",{staticClass:"no-title"})])],2),i("v-uni-view",{staticClass:"uni-navbar__header-btns uni-navbar__header-btns-right",style:{width:e.rightIconWidth},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.onClickRight.apply(void 0,arguments)}}},[e._t("right",[e.rightIcon.length?i("v-uni-view",[i("o2-icon",{attrs:{color:"themeColor",icon:"icon-LeftOutlined",size:"48rpx"}})],1):e._e(),e.rightText.length&&!e.rightIcon.length?i("v-uni-view",{staticClass:"uni-navbar-btn-text"},[i("v-uni-text",{staticClass:"uni-nav-bar-right-text",style:{color:e.rightTextColor,fontSize:e.fontSize}},[e._v(e._s(e.rightText))])],1):e._e()])],2)],1):e._e(),e._t("content")],2),e.fixed&&!e.inverted?i("v-uni-view",{staticClass:"uni-navbar__placeholder"},[e.statusBar?i("status-bar"):e._e(),e.showContent?i("v-uni-view",{staticClass:"uni-navbar__placeholder-view",style:{height:e.navbarHeight}}):e._e()],1):e._e()],1)}),[],!1,null,"7873cfdb",null,!1,n,void 0));t["default"]=f.exports},"7b90":function(e,t,i){"use strict";var n=i("a00e"),a=i.n(n);a.a},a00e:function(e,t,i){var n=i("574c");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var a=i("4f06").default;a("201d7ac0",n,!0,{sourceMap:!1,shadowMode:!1})},b0ef:function(e,t,i){var n=i("24fb");t=n(!1),t.push([e.i,'@charset "UTF-8";\n\n\n/* 行为相关颜色 */.uni-navbar[data-v-7873cfdb]{z-index:999}.uni-nav-bar-text[data-v-7873cfdb]{font-size:14px}.uni-nav-bar-right-text[data-v-7873cfdb]{font-size:12px}.uni-navbar__content[data-v-7873cfdb]{position:relative;background-color:initial}.uni-navbar__bgImage[data-v-7873cfdb]{position:relative;background-size:cover;background-repeat:no-repeat;width:100%}.uni-navbar__bgImage[data-v-7873cfdb]:after{content:"";position:absolute;inset:0;background-color:rgba(0,0,0,.4);z-index:-1}.uni-navbar__content_view[data-v-7873cfdb]{padding-right:%?16?%}.uni-navbar-btn-text[data-v-7873cfdb]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;-webkit-box-pack:start;-webkit-justify-content:flex-start;justify-content:flex-start;-webkit-box-align:center;-webkit-align-items:center;align-items:center;line-height:12px}.uni-navbar__header[data-v-7873cfdb]{display:-webkit-box;display:-webkit-flex;display:flex;padding:0 16px;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;height:44px;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.uni-navbar__header-btns[data-v-7873cfdb]{overflow:hidden;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-flex-wrap:nowrap;flex-wrap:nowrap;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center;cursor:pointer}.uni-navbar__header-btns-left[data-v-7873cfdb]{display:-webkit-box;display:-webkit-flex;display:flex;width:%?120?%;-webkit-box-pack:start;-webkit-justify-content:flex-start;justify-content:flex-start;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.uni-navbar__header-btns-right[data-v-7873cfdb]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-box-pack:end;-webkit-justify-content:flex-end;justify-content:flex-end;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.uni-navbar__header-container[data-v-7873cfdb]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-flex:1;-webkit-flex:1;flex:1;overflow:hidden}.uni-navbar__header-container-inner[data-v-7873cfdb]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-flex:1;-webkit-flex:1;flex:1;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-box-align:center;-webkit-align-items:center;align-items:center;overflow:hidden;font-family:PingFang SC;font-size:%?32?%;font-weight:400}.uni-navbar__placeholder-view[data-v-7873cfdb]{height:44px}.uni-navbar--fixed[data-v-7873cfdb]{position:fixed;z-index:500;left:var(--window-left);right:var(--window-right)}.uni-navbar--shadow[data-v-7873cfdb]{box-shadow:0 1px 6px #ccc}.uni-navbar--border[data-v-7873cfdb]{border-bottom-width:%?1?%;border-bottom-style:solid;border-bottom-color:#eee}.uni-ellipsis-1[data-v-7873cfdb]{overflow:hidden;white-space:nowrap;text-overflow:ellipsis}',""]),e.exports=t},de5d:function(e,t,i){e.exports=i.p+"static/common/ic_webview_error.png"},e2cf:function(e,t,i){"use strict";var n=i("1b18"),a=i.n(n);a.a}}]);