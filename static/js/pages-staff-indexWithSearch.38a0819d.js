(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-staff-indexWithSearch"],{"1b18":function(t,e,i){var a=i("b0ef");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("4f06").default;n("9f944dca",a,!0,{sourceMap:!1,shadowMode:!1})},"273a":function(t,e,i){"use strict";var a=i("edd1"),n=i.n(a);n.a},"32a9":function(t,e,i){t.exports=i.p+"static/ucenter/ic_mine_default.png"},"3c18":function(t,e,i){"use strict";i.r(e);var a={o2NavBar:i("61fd").default},n=i("f07e"),o=i("d0ff"),r=i("f3f3"),l=i("c964"),s=(i("99af"),i("d81d"),i("14d9"),i("ac1f"),i("00b4"),i("466d"),i("498a"),i("71ea")),c=i.n(s),d=(i("e143"),i("32a9")),u=i.n(d),b=i("81b0"),f=(c.a.OSS_URL,{components:{},data:function(){return{storeList:[],storeActive:[],roleList:[],currentOrg:"",currentOrgObj:{},currentRole:"",currentStatus:-1,enbled:"",userList:[],current:1,total:0,accountState:-1,mineDefault:u.a,searchValue:""}},watch:{},computed:{},onLoad:function(){var t=uni.getSystemInfoSync();this.platform=t.platform,this.storeList=[],this.roleList=[],this.tabItems=[]},onShow:function(){},methods:{minScrollHeight:function(){var t=uni.getSystemInfoSync(),e=t.statusBarHeight;return"calc(100vh - ".concat(e,"px - 104rpx - 20px - ").concat(this.safeArea,"px)")},onSearch:Object(b["debounce"])((function(t){this.getOrgUser(!0,t.target.value)}),400),handleCancel:function(){this.$Router.back(1)},userSelect:function(t){this.$Router.push({name:"suserInfo",params:{id:t.id,userId:t.userId,accountState:t.accountState,groupCode:t.groupCode}})},scrollToLower:function(){},formatPhoneNumber:function(t){if(null==t)return"";t.match(/(\d{3})[\w-]*(\d{4})$/);var e=t.match(/^\d{3}/),i=t.match(/\d{4}$/);if(e&&i){var a="".concat(e,"****").concat(i);return a}return t},getSearchParams:function(t){return t?/[\u4e00-\u9fa5]/.test(t)?{userName:t}:/^1\d{10}$/.test(t)?{mobile:t}:{userId:t}:{}},getOrgUser:function(t,e){var i=this;return Object(l["a"])(Object(n["a"])().mark((function a(){var l,s,c,d,u,b;return Object(n["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(i.searchValue=e,l=(e||"").trim(),!l){a.next=23;break}return s=i.$store.state.preRoute,"mine"==s&&(uni.showLoading({title:"获取员工"}),i.$store.commit("del","preRoute")),t&&(i.current=1),c=i,a.prev=7,d=Object(r["a"])({orgCode:i.currentOrg,size:200,current:i.current},i.getSearchParams(l)),-1!=i.accountState&&(d["accountState"]=i.accountState),a.next=12,i.$http.post(c.$newRequesturl.login.userList,d);case 12:u=a.sent,b=u.data,0==b.code&&(i.total=b.data.total,c.userList=1==t?Object(o["a"])(b.data.records).map((function(t){return Object(r["a"])(Object(r["a"])({},t),{},{realPhone:i.formatPhoneNumber(t.mobile)})})):[].concat(Object(o["a"])(c.userList),Object(o["a"])(b.data.records)).map((function(t){return Object(r["a"])(Object(r["a"])({},t),{},{realPhone:i.formatPhoneNumber(t.mobile)})}))),a.next=20;break;case 17:a.prev=17,a.t0=a["catch"](7),uni.hideLoading();case 20:uni.hideLoading(),a.next=24;break;case 23:i.userList=[];case 24:case"end":return a.stop()}}),a,null,[[7,17]])})))()}}}),p=f,h=(i("273a"),i("f0c5")),g=Object(h["a"])(p,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"ktc-template-page"},[i("o2-nav-bar",{staticClass:"nav-bar",attrs:{fixed:!0,"status-bar":!0,showContent:!1}}),i("v-uni-view",{staticClass:"search-section"},[i("v-uni-view",{staticClass:"search-button"},[i("v-uni-image",{attrs:{src:"https://cimg-cdn.haier.net/obs-car/2024/08/09/hEKUwoGa/ic_index_search.png",mode:""}}),i("v-uni-input",{staticClass:"search-button-title",attrs:{focus:!0,placeholder:"搜索姓名/手机号/工号"},on:{input:function(e){arguments[0]=e=t.$handleEvent(e),t.onSearch.apply(void 0,arguments)}},model:{value:t.searchValue,callback:function(e){t.searchValue=e},expression:"searchValue"}})],1),i("v-uni-view",{staticClass:"cancel-btn",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.handleCancel.apply(void 0,arguments)}}},[t._v("取消")])],1),i("v-uni-view",{staticClass:"template_content"},[t.searchValue&&t.searchValue.trim()?i("v-uni-view",{staticClass:"scroll-wrapper",style:{backgroundColor:"white",height:t.minScrollHeight(),paddingBottom:"54px"}},[i("v-uni-scroll-view",{staticClass:"user-list-scrollView",staticStyle:{height:"100%"},attrs:{"scroll-y":"true"},on:{scrolltolower:function(e){arguments[0]=e=t.$handleEvent(e),t.scrollToLower.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"totalMember"},[t._v("共 "+t._s(t.total)+" 位员工")]),t.userList.length?i("v-uni-view",t._l(t.userList,(function(e,a){return i("v-uni-view",{key:e.id+a,staticClass:"common-user",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.userSelect(e)}}},[i("v-uni-view",{staticClass:"user-info-img"},[i("v-uni-image",{staticClass:"avarter",attrs:{src:e.avatar?e.avatar:t.mineDefault,mode:"aspectFill"}})],1),i("v-uni-view",{staticClass:"user-info-right"},[i("v-uni-view",{staticClass:"user-info-top"},[i("v-uni-view",{staticClass:"user-name"},[t._v(t._s(e.userName))]),i("v-uni-view",{staticClass:"user-status"},[t._v(t._s("0"==e.accountState?"启用中":"停用中"))])],1),i("v-uni-view",{staticClass:"user-info"},[i("v-uni-view",{staticClass:"user-info-phone"},[t._v(t._s(e.realPhone))]),i("v-uni-view",{staticClass:"user-org"},[t._v(t._s(e.orgName))])],1)],1)],1)})),1):i("v-uni-view",{staticClass:"user-list-scrollView-empty"},[t._v("暂无员工")])],1)],1):t._e()],1)],1)}),[],!1,null,"24dfb8ea",null,!1,a,void 0);e["default"]=g.exports},"61fd":function(t,e,i){"use strict";i.r(e);var a={o2Icon:i("51db").default},n=(i("a9e3"),{name:"UniStatusBar"}),o=i("f0c5"),r=Object(o["a"])(n,(function(){var t=this.$createElement,e=this._self._c||t;return e("v-uni-view",{staticClass:"uni-status-bar",style:{height:this.statusBarHeight+"px"}},[this._t("default")],2)}),[],!1,null,"4d4bc7a2",null,!1,void 0,void 0),l=r.exports,s=i("fa7d"),c=function(t){return"number"===typeof t?t+"px":t},d={name:"UniNavBar",components:{statusBar:l},emits:["clickLeft","clickRight","clickTitle"],props:{dark:{type:Boolean,default:!1},title:{type:String,default:""},leftText:{type:String,default:""},rightText:{type:String,default:""},leftIcon:{type:String,default:"icon-LeftOutlined"},leftIconFlag:{type:Boolean,default:!0},rightIcon:{type:String,default:""},dbNavBar:{type:[Boolean,String],default:!1},fixed:{type:[Boolean,String],default:!1},color:{type:String,default:""},fontSize:{type:String,default:""},rightTextColor:{type:String,default:""},leftTextColor:{type:String,default:""},backgroundColor:{type:String,default:""},backgroundImage:{type:String,default:""},statusBar:{type:[Boolean,String],default:!1},shadow:{type:[Boolean,String],default:!1},border:{type:[Boolean,String],default:!1},height:{type:[Number,String]},rightWidth:{type:[Number,String],default:60},stat:{type:[Boolean,String],default:""},onlyLeft:{type:Boolean,default:!1},clickBackFlag:{type:Boolean,default:!1},inverted:{type:Boolean,default:!1},justifyContent:{type:String,default:"left"},invertedBackgroundColor:String,showContent:{type:Boolean,default:!0},isTransparent:{type:Boolean,default:!1}},data:function(){return{scrollTop:0,defaultBackgroundColor:this.backgroundColor,click:!1,showThemeBgColor:"",titleC:""}},computed:{themeBgColor:function(){return this.dark?this.defaultBackgroundColor?this.defaultBackgroundColor:this.dark?"#333":"#FFF":this.inverted||this.isTransparent?this.invertedBackgroundColor||"transparent":this.backgroundColor||"#FFF"},themeColor:function(){return this.dark?this.color?this.color:this.dark?"#fff":"#000000E5":this.color||"#000000E5"},navbarHeight:function(){return c(this.height||this.navBarHeight)},rightIconWidth:function(){return c(this.rightWidth)},titleStyle:function(){return Object(s["c"])({justifyContent:this.justifyContent})}},watch:{themeBgColor:{immediate:!0,handler:function(t,e){e&&e!==t&&(this.showThemeBgColor=t)}},title:{deep:!0,immediate:!0,handler:function(t,e){t!=e&&(this.titleC=t)}}},mounted:function(){uni.report&&this.stat&&""!==this.title&&(uni.report("title",this.title),this.titleC=this.title),this.showThemeBgColor=this.themeBgColor},destroyed:function(){},methods:{onClickLeft:function(){var t=this;t.click||(t.click=!0,t.clickBackFlag?(t.$emit("clickLeft"),t.click=!1):(uni.navigateBack({delta:1,fail:function(e){t.$switchTab("home")}}),t.$emit("clickLeft"),t.click=!1))},onClickRight:function(){this.$emit("clickRight")},onClickTitle:function(){this.$emit("clickTitle")}}},u=d,b=(i("e2cf"),Object(o["a"])(u,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"uni-navbar",class:{"uni-dark":t.dark,"uni-nvue-fixed":t.fixed}},[i("v-uni-view",{staticClass:"uni-navbar__content",class:{"uni-navbar--fixed":t.fixed,"uni-navbar--shadow":t.shadow,"uni-navbar--border":t.border,"uni-navbar__bgImage":t.backgroundImage},style:{background:t.themeBgColor}},[t._t("statusBar"),t.statusBar?i("status-bar"):t._e(),t.showContent?i("v-uni-view",{staticClass:"uni-navbar__header",style:{color:t.themeColor,height:t.navbarHeight}},[i("v-uni-view",{staticClass:"uni-navbar-btn-text",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.onClickLeft.apply(void 0,arguments)}}},[i("v-uni-text",{staticClass:"uni-nav-bar-right-text",style:{color:t.leftTextColor,fontSize:t.fontSize}},[t._v(t._s(t.leftText))])],1),"center"===t.justifyContent?i("v-uni-view",{staticClass:"uni-navbar__header-btns uni-navbar__header-btns-left",style:{width:t.leftText?"68rpx":"120rpx"}}):t._e(),t.leftIconFlag?i("v-uni-view",{on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.onClickLeft.apply(void 0,arguments)}}},[t._t("left",[i("v-uni-view",{staticClass:"uni-navbar__content_view"},[i("o2-icon",{attrs:{icon:t.leftIcon,color:"themeColor",size:"40rpx"}})],1)])],2):t._e(),i("v-uni-view",{staticClass:"uni-navbar__header-container",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.onClickTitle.apply(void 0,arguments)}}},[t._t("default",[""!==t.titleC&&t.titleC&&"true"!==t.titleC?i("v-uni-view",{staticClass:"uni-navbar__header-container-inner",style:t.titleStyle},[i("v-uni-text",{staticClass:"uni-ellipsis-1",style:{color:t.themeColor}},[t._v(t._s(t.titleC))])],1):t._e(),i("v-uni-view",{staticClass:"no-title"})])],2),i("v-uni-view",{staticClass:"uni-navbar__header-btns uni-navbar__header-btns-right",style:{width:t.rightIconWidth},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.onClickRight.apply(void 0,arguments)}}},[t._t("right",[t.rightIcon.length?i("v-uni-view",[i("o2-icon",{attrs:{color:"themeColor",icon:"icon-LeftOutlined",size:"48rpx"}})],1):t._e(),t.rightText.length&&!t.rightIcon.length?i("v-uni-view",{staticClass:"uni-navbar-btn-text"},[i("v-uni-text",{staticClass:"uni-nav-bar-right-text",style:{color:t.rightTextColor,fontSize:t.fontSize}},[t._v(t._s(t.rightText))])],1):t._e()])],2)],1):t._e(),t._t("content")],2),t.fixed&&!t.inverted?i("v-uni-view",{staticClass:"uni-navbar__placeholder"},[t.statusBar?i("status-bar"):t._e(),t.showContent?i("v-uni-view",{staticClass:"uni-navbar__placeholder-view",style:{height:t.navbarHeight}}):t._e()],1):t._e()],1)}),[],!1,null,"7873cfdb",null,!1,a,void 0));e["default"]=b.exports},b0ef:function(t,e,i){var a=i("24fb");e=a(!1),e.push([t.i,'@charset "UTF-8";\n\n\n/* 行为相关颜色 */.uni-navbar[data-v-7873cfdb]{z-index:999}.uni-nav-bar-text[data-v-7873cfdb]{font-size:14px}.uni-nav-bar-right-text[data-v-7873cfdb]{font-size:12px}.uni-navbar__content[data-v-7873cfdb]{position:relative;background-color:initial}.uni-navbar__bgImage[data-v-7873cfdb]{position:relative;background-size:cover;background-repeat:no-repeat;width:100%}.uni-navbar__bgImage[data-v-7873cfdb]:after{content:"";position:absolute;inset:0;background-color:rgba(0,0,0,.4);z-index:-1}.uni-navbar__content_view[data-v-7873cfdb]{padding-right:%?16?%}.uni-navbar-btn-text[data-v-7873cfdb]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;-webkit-box-pack:start;-webkit-justify-content:flex-start;justify-content:flex-start;-webkit-box-align:center;-webkit-align-items:center;align-items:center;line-height:12px}.uni-navbar__header[data-v-7873cfdb]{display:-webkit-box;display:-webkit-flex;display:flex;padding:0 16px;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;height:44px;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.uni-navbar__header-btns[data-v-7873cfdb]{overflow:hidden;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-flex-wrap:nowrap;flex-wrap:nowrap;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center;cursor:pointer}.uni-navbar__header-btns-left[data-v-7873cfdb]{display:-webkit-box;display:-webkit-flex;display:flex;width:%?120?%;-webkit-box-pack:start;-webkit-justify-content:flex-start;justify-content:flex-start;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.uni-navbar__header-btns-right[data-v-7873cfdb]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-box-pack:end;-webkit-justify-content:flex-end;justify-content:flex-end;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.uni-navbar__header-container[data-v-7873cfdb]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-flex:1;-webkit-flex:1;flex:1;overflow:hidden}.uni-navbar__header-container-inner[data-v-7873cfdb]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-flex:1;-webkit-flex:1;flex:1;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-box-align:center;-webkit-align-items:center;align-items:center;overflow:hidden;font-family:PingFang SC;font-size:%?32?%;font-weight:400}.uni-navbar__placeholder-view[data-v-7873cfdb]{height:44px}.uni-navbar--fixed[data-v-7873cfdb]{position:fixed;z-index:500;left:var(--window-left);right:var(--window-right)}.uni-navbar--shadow[data-v-7873cfdb]{box-shadow:0 1px 6px #ccc}.uni-navbar--border[data-v-7873cfdb]{border-bottom-width:%?1?%;border-bottom-style:solid;border-bottom-color:#eee}.uni-ellipsis-1[data-v-7873cfdb]{overflow:hidden;white-space:nowrap;text-overflow:ellipsis}',""]),t.exports=e},d849:function(t,e,i){var a=i("24fb");e=a(!1),e.push([t.i,'@charset "UTF-8";\n\n\n/* 行为相关颜色 */.ktc-template-page[data-v-24dfb8ea]{width:100%;position:relative;min-height:100vh;background-repeat:no-repeat;background-size:100% 100%;background:#f6f7f9;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column}.ktc-template-page .search-section[data-v-24dfb8ea]{height:%?104?%;background:#fff;padding:%?24?%;position:-webkit-sticky;position:sticky;top:0;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-column-gap:16px;column-gap:16px}.ktc-template-page .search-section .search-button[data-v-24dfb8ea]{height:%?64?%;border-radius:24px;background:#f6f7f9;padding:%?0?% %?24?%;-webkit-box-flex:1;-webkit-flex:1;flex:1;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-box-pack:start;-webkit-justify-content:flex-start;justify-content:flex-start;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.ktc-template-page .search-section .search-button uni-image[data-v-24dfb8ea]{height:%?28?%;width:%?28?%;margin-right:%?16?%}.ktc-template-page .search-section .search-button .search-button-title[data-v-24dfb8ea]{color:rgba(0,0,0,.45098039215686275);font-family:PingFang SC;font-size:%?24?%;font-style:normal;font-weight:400;line-height:%?42?%}.ktc-template-page .search-section .cancel-btn[data-v-24dfb8ea]{font-size:%?32?%}.ktc-template-page .template_content[data-v-24dfb8ea]{-webkit-box-flex:1;-webkit-flex:1;flex:1;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;-webkit-box-align:start;-webkit-align-items:flex-start;align-items:flex-start;padding:10px}.ktc-template-page .template_content .scroll-wrapper[data-v-24dfb8ea]{border-radius:14px;font-size:15px;width:100%;padding-top:15px}.ktc-template-page .template_content .scroll-wrapper .totalMember[data-v-24dfb8ea]{padding-left:15px;font-size:13px}.ktc-template-page .uni_input[data-v-24dfb8ea]{color:rgba(0,0,0,.8509803921568627);font-size:%?30?%;font-weight:400;line-height:%?46?%}.ktc-template-page .ktc-template-page-bottom[data-v-24dfb8ea]{background:red;background:#fff;position:fixed;left:0;right:0;bottom:0;display:-webkit-box;display:-webkit-flex;display:flex;gap:20px;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;padding:10px;min-height:64px;height:calc(64px + constant(safe-area-inset-bottom));padding-bottom:constant(safe-area-inset-bottom);padding-bottom:env(safe-area-inset-bottom)}.ktc-template-page .ktc-template-page-bottom uni-button[data-v-24dfb8ea]{background-color:#f8b500;color:#fff;border-radius:23px;padding:0 %?30?%;height:46px;-webkit-box-flex:1;-webkit-flex:auto;flex:auto}.ktc-template-page .common-user[data-v-24dfb8ea]{margin-top:%?20?%;min-height:%?140?%;padding:%?24?%;background:#fff;border-radius:12px;font-size:15px;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.ktc-template-page .common-user .user-info-img[data-v-24dfb8ea]{width:%?76?%;height:%?76?%;background:#f6f7f9;border-radius:%?38?%;margin-right:10px}.ktc-template-page .common-user .user-info-img uni-image[data-v-24dfb8ea]{width:100%;height:100%}.ktc-template-page .common-user .user-info-right[data-v-24dfb8ea]{-webkit-box-flex:1;-webkit-flex:1;flex:1}.ktc-template-page .common-user .user-info-right .user-info-top[data-v-24dfb8ea]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.ktc-template-page .common-user .user-info-right .user-info-top .user-status[data-v-24dfb8ea]{color:#f8b500;font-size:12px;padding-left:15px;font-weight:200}.ktc-template-page .common-user .user-info-right .user-info[data-v-24dfb8ea]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row}.ktc-template-page .common-user .user-info-right .user-info-phone[data-v-24dfb8ea]{padding-right:10px;margin-top:10px;font-size:12px;color:grey}.ktc-template-page .common-user .user-info-right .user-info .user-org[data-v-24dfb8ea]{margin-top:10px;font-size:12px;color:grey}.ktc-template-page .user-list-scrollView-empty[data-v-24dfb8ea]{height:100%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;font-size:16px}.ktc-template-page .avarter[data-v-24dfb8ea]{border-radius:22px}',""]),t.exports=e},e2cf:function(t,e,i){"use strict";var a=i("1b18"),n=i.n(a);n.a},edd1:function(t,e,i){var a=i("d849");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("4f06").default;n("fb0dd0c0",a,!0,{sourceMap:!1,shadowMode:!1})}}]);