(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pagesA-collection-collection~pagesA-evaluate-index"],{"00ac":function(t,e,i){"use strict";var n=i("f07e"),a=i("c964"),s=(i("99af"),i("4de4"),i("c740"),i("14d9"),i("f4b3"),i("e9c4"),i("a9e3"),i("b64b"),i("d3b7"),i("ac1f"),i("00b4"),{data:function(){return{value:[],addressList:[],provinceList:[],cityList:[],areaList:[],indicatorStyle:"height: 50px;",provinceIndex:0,cityIndex:0,areaIndex:0,animationData:{}}},props:{column:{type:Number,default:3},defaultValue:{default:function(){return""}},visible:{type:Boolean,default:function(){return!1}},maskCloseAble:{type:Boolean,default:function(){return!0}}},watch:{visible:function(t){this.changeActive()},defaultValue:function(){this.init()}},created:function(){this.getTheProvince()},mounted:function(){},methods:{getTheProvince:function(){var t=this;return Object(a["a"])(Object(n["a"])().mark((function e(){return Object(n["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$http.get(t.$requestUrl.crm.getTheLocationNew).then((function(e){0==e.data.code&&(t.addressList=e.data.data,t.init())}));case 2:case"end":return e.stop()}}),e)})))()},init:function(){var t=this,e=[];if(this.addressList.filter((function(t){e.push({value:t.value,label:t.label})})),this.provinceList=[].concat(e),this.defaultValue){if(Array.isArray(this.defaultValue)&&this.defaultValue.length>=2){var i=this.defaultValue[0],n=this.defaultValue[1];this.provinceIndex=0,this.cityIndex=0,this.areaIndex=0,this.provinceIndex=this.addressList.findIndex((function(t){return t.label==i})),this.provinceIndex=this.provinceIndex>=0?this.provinceIndex:0,this.cityList=this.addressList[this.provinceIndex].children,this.cityIndex=this.cityList.findIndex((function(t){return t.label==n})),this.cityIndex=this.cityIndex>=0?this.cityIndex:0,this.areaList=this.cityList[this.cityIndex].children,this.defaultValue.length>2&&(this.areaIndex=this.areaList.findIndex((function(e){return e.label==t.defaultValue[2]}))),this.areaIndex=this.areaIndex>=0?this.areaIndex:0,this.$nextTick((function(){3==t.column?t.value=JSON.parse(JSON.stringify([t.provinceIndex,t.cityIndex,t.areaIndex])):2==t.column&&(t.value=JSON.parse(JSON.stringify([t.provinceIndex,t.cityIndex])))}))}else if(/^\d{6}$/.test(this.defaultValue)){var a=this.defaultValue.substr(0,2),s=this.defaultValue.substr(0,4);this.provinceIndex=0,this.cityIndex=0,this.areaIndex=0,this.provinceIndex=this.addressList.findIndex((function(t){return t.value==a})),this.provinceIndex=this.provinceIndex>=0?this.provinceIndex:0,this.cityList=this.addressList[this.provinceIndex].children,this.cityIndex=this.cityList.findIndex((function(t){return t.value==s})),this.cityIndex=this.cityIndex>=0?this.cityIndex:0,this.areaList=this.cityList[this.cityIndex].children,this.areaIndex=this.areaList.findIndex((function(e){return e.value==t.defaultValue})),this.areaIndex=this.areaIndex>=0?this.areaIndex:0,this.$nextTick((function(){3==t.column?t.value=JSON.parse(JSON.stringify([t.provinceIndex,t.cityIndex,t.areaIndex])):2==t.column&&(t.value=JSON.parse(JSON.stringify([t.provinceIndex,t.cityIndex])))}))}else{var o,c;this.cityList=null===(o=this.addressList[0])||void 0===o?void 0:o.children,this.areaList=null===(c=this.addressList[0])||void 0===c||null===(c=c.children[0])||void 0===c?void 0:c.children}}else{var l,d;this.cityList=null===(l=this.addressList[0])||void 0===l?void 0:l.children,this.areaList=null===(d=this.addressList[0])||void 0===d||null===(d=d.children[0])||void 0===d?void 0:d.children}this.changeActive()},confirm:function(){var t=this.addressList[this.provinceIndex].children;3==this.column?this.$emit("confirm",{code:t?t[this.cityIndex].children[this.areaIndex].value:this.addressList[this.provinceIndex].value,name:t?this.addressList[this.provinceIndex].label+this.addressList[this.provinceIndex].children[this.cityIndex].label+this.addressList[this.provinceIndex].children[this.cityIndex].children[this.areaIndex].label:this.addressList[this.provinceIndex].label,provinceName:this.addressList[this.provinceIndex].label,provinceCode:this.addressList[this.provinceIndex].value,cityName:t?t[this.cityIndex].label:"",cityCode:t?t[this.cityIndex].value:"",areaName:t?t[this.cityIndex].children[this.areaIndex].label:"",areaCode:t?t[this.cityIndex].children[this.areaIndex].value:""}):2==this.column?this.$emit("confirm",{code:this.addressList[this.provinceIndex].children[this.cityIndex].children[this.areaIndex].value.substring(0,4)+"00",name:this.addressList[this.provinceIndex].label+this.addressList[this.provinceIndex].children[this.cityIndex].label,provinceName:this.addressList[this.provinceIndex].label,provinceCode:this.addressList[this.provinceIndex].value,cityName:this.addressList[this.provinceIndex].children[this.cityIndex].label}):uni.showToast({title:"目前column只能传2和3",icon:"none"})},cancel:function(){this.$emit("cancel")},changeActive:function(){var t="-315px";this.visible&&(t=0);var e=uni.createAnimation({duration:400,timingFunction:"linear"});e.bottom(t).step(),this.animationData=e.export()},bindChange:function(t){t.detail.value[0]=t.detail.value[0]||0,t.detail.value[1]=t.detail.value[1]||0,t.detail.value[2]=t.detail.value[2]||0,t.detail.value[0]!=this.provinceIndex?this.provinceChange(t.detail.value[0]):t.detail.value[1]!=this.cityIndex?this.cityChange(t.detail.value[1]):t.detail.value[2]!=this.areaIndex&&this.areaChange(t.detail.value[2])},provinceChange:function(t){this.provinceIndex=t,this.cityIndex=0,this.areaIndex=0,this.value=[t,0,0].concat(),this.cityList=this.addressList[t].children?this.addressList[t].children:[],this.areaList=this.addressList[t].children?this.addressList[t].children[0].children:[]},cityChange:function(t){this.cityIndex=t,this.areaIndex=0,this.value=[this.provinceIndex,t,0].concat(),this.cityList=this.addressList[this.provinceIndex].children?this.addressList[this.provinceIndex].children:[],this.areaList=this.addressList[this.provinceIndex].children?this.addressList[this.provinceIndex].children[t].children:[]},areaChange:function(t){this.areaIndex=t},close:function(){this.maskCloseAble&&this.cancel()}}}),o=s,c=(i("2511"),i("f0c5")),l=Object(c["a"])(o,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"pupop"},[i("v-uni-view",{staticClass:"popup-box",attrs:{animation:t.animationData}},[i("v-uni-view",{staticClass:"pupop-btn"},[i("v-uni-view",{on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.cancel.apply(void 0,arguments)}}},[t._v("取消")]),i("v-uni-view",{staticStyle:{color:"#fac740"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.confirm.apply(void 0,arguments)}}},[t._v("确定")])],1),i("v-uni-picker-view",{staticClass:"picker-view",attrs:{value:t.value,"indicator-style":t.indicatorStyle},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.bindChange.apply(void 0,arguments)}}},[i("v-uni-picker-view-column",t._l(t.provinceList,(function(e,n){return i("v-uni-view",{key:n,staticClass:"item"},[t._v(t._s(e.label))])})),1),i("v-uni-picker-view-column",t._l(t.cityList,(function(e,n){return i("v-uni-view",{key:n,staticClass:"item"},[t._v(t._s(e.label))])})),1),3==t.column?i("v-uni-picker-view-column",t._l(t.areaList,(function(e,n){return i("v-uni-view",{key:n,staticClass:"item"},[t._v(t._s(e.label))])})),1):t._e()],1)],1),i("v-uni-view",{class:t.visible?"pupop-model":"pupop-models",on:{touchmove:function(e){e.stopPropagation(),e.preventDefault(),arguments[0]=e=t.$handleEvent(e)},click:function(e){arguments[0]=e=t.$handleEvent(e),t.close.apply(void 0,arguments)}}})],1)}),[],!1,null,"a320ee10",null,!1,void 0,void 0);e["a"]=l.exports},"15cf":function(t,e,i){var n=i("24fb");e=n(!1),e.push([t.i,'@charset "UTF-8";\n\n\n/* 行为相关颜色 */.pupop .popup-box[data-v-a320ee10]{position:fixed;left:0;bottom:-315px;z-index:99999;background:#fff;padding-bottom:50px}.pupop .popup-box .pupop-btn[data-v-a320ee10]{height:40px;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;padding:0 %?30?%;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;font-size:%?32?%}.pupop .pupop-model[data-v-a320ee10]{position:fixed;left:0;top:0;width:100%;height:100%;z-index:9999;background:rgba(0,0,0,.5)}.pupop .pupop-models[data-v-a320ee10]{display:none}.pupop .picker-view[data-v-a320ee10]{width:100vw;height:225px;margin-top:%?20?%}.pupop .item[data-v-a320ee10]{height:50px;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;text-align:center;line-height:50px}',""]),t.exports=e},2511:function(t,e,i){"use strict";var n=i("49f2"),a=i.n(n);a.a},"49f2":function(t,e,i){var n=i("15cf");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i("4f06").default;a("a26eaa8e",n,!0,{sourceMap:!1,shadowMode:!1})},7583:function(t,e,i){"use strict";var n=i("80ac"),a=i.n(n);a.a},"80ac":function(t,e,i){var n=i("a9d7");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i("4f06").default;a("82d9bf10",n,!0,{sourceMap:!1,shadowMode:!1})},a9d7:function(t,e,i){var n=i("24fb");e=n(!1),e.push([t.i,'@charset "UTF-8";\n\n\n/* 行为相关颜色 */.modal-warp[data-v-34d7bd56]{position:relative}.modal-mask[data-v-34d7bd56]{position:fixed;top:0;left:0;right:0;bottom:0;background:rgba(37,38,45,.4);width:100vw;z-index:800}.header[data-v-34d7bd56]{height:%?106?%;padding:0 %?32?%;padding-top:%?20?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.header .title[data-v-34d7bd56]{color:rgba(0,0,0,.95);font-family:PingFang SC;font-size:%?32?%;font-weight:500;line-height:%?48?%;letter-spacing:0;text-align:left;-webkit-box-flex:1;-webkit-flex:1;flex:1}.operate-button[data-v-34d7bd56]{height:%?104?%;padding:0 %?32?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between}.modal-content[data-v-34d7bd56]{z-index:801;position:fixed;background-color:#fff;width:100vw;left:0;-webkit-transition:.25s ease-out;transition:.25s ease-out;-webkit-animation:action_translateY-data-v-34d7bd56 .5s;animation:action_translateY-data-v-34d7bd56 .5s}.modal-content-close[data-v-34d7bd56]{z-index:801;position:fixed;background-color:#fff;width:100vw;top:%?88?%;left:0;-webkit-transition:.25s ease-out;transition:.25s ease-out;-webkit-animation:action_translateYOut-data-v-34d7bd56 .5s;animation:action_translateYOut-data-v-34d7bd56 .5s}.modal-content-bottom[data-v-34d7bd56]{z-index:1000;position:fixed;background-color:#fff;width:100vw;bottom:0;left:0;-webkit-transition:.25s ease-out;transition:.25s ease-out;-webkit-animation:action_translateY_desc-data-v-34d7bd56 .5s;animation:action_translateY_desc-data-v-34d7bd56 .5s}.modal-content-bottom-close[data-v-34d7bd56]{z-index:801;position:fixed;background-color:#fff;width:100vw;bottom:0;left:0;-webkit-transition:.25s ease-out;transition:.25s ease-out;-webkit-animation:action_translateYOut_desc-data-v-34d7bd56 .5s;animation:action_translateYOut_desc-data-v-34d7bd56 .5s}@-webkit-keyframes action_translateY-data-v-34d7bd56{0%{-webkit-transform:translateY(-100vh);transform:translateY(-100vh);opacity:0}100%{-webkit-transform:translateY(0);transform:translateY(0);opacity:1}}@keyframes action_translateY-data-v-34d7bd56{0%{-webkit-transform:translateY(-100vh);transform:translateY(-100vh);opacity:0}100%{-webkit-transform:translateY(0);transform:translateY(0);opacity:1}}@-webkit-keyframes action_translateYOut-data-v-34d7bd56{0%{-webkit-transform:translateY(0);transform:translateY(0);opacity:1}100%{-webkit-transform:translateY(-100vh);transform:translateY(-100vh);opacity:0}}@keyframes action_translateYOut-data-v-34d7bd56{0%{-webkit-transform:translateY(0);transform:translateY(0);opacity:1}100%{-webkit-transform:translateY(-100vh);transform:translateY(-100vh);opacity:0}}@-webkit-keyframes action_translateY_desc-data-v-34d7bd56{0%{-webkit-transform:translateY(100vh);transform:translateY(100vh);opacity:0}100%{-webkit-transform:translateY(0);transform:translateY(0);opacity:1}}@keyframes action_translateY_desc-data-v-34d7bd56{0%{-webkit-transform:translateY(100vh);transform:translateY(100vh);opacity:0}100%{-webkit-transform:translateY(0);transform:translateY(0);opacity:1}}@-webkit-keyframes action_translateYOut_desc-data-v-34d7bd56{0%{-webkit-transform:translateY(0);transform:translateY(0);opacity:1}100%{-webkit-transform:translateY(100vh);transform:translateY(100vh);opacity:0}}@keyframes action_translateYOut_desc-data-v-34d7bd56{0%{-webkit-transform:translateY(0);transform:translateY(0);opacity:1}100%{-webkit-transform:translateY(100vh);transform:translateY(100vh);opacity:0}}',""]),t.exports=e},f8db:function(t,e,i){"use strict";i.r(e);var n={o2Icon:i("51db").default,o2Button:i("d9e27").default},a=i("fa7d"),s={name:"ktcPopup",data:function(){return{showModal:!1,closeAnimation:!1}},props:{confirmButtonText:{type:[String,Boolean],default:function(){return"确定"}},cancelButtonText:{type:[String,Boolean],default:function(){return""}},cancelButtonDisabled:{type:Boolean,default:function(){return!1}},noButton:{type:Boolean,default:function(){return!1}},showClose:{type:Boolean,default:function(){return!0}},showHead:{type:Boolean,default:function(){return!0}},confirmButtonDisabled:{type:Boolean,default:function(){return!1}},visible:{type:Boolean,default:function(){return!1}},position:{type:String,default:function(){return"bottom"}},title:{type:String,default:function(){return""}},customBottom:{type:String,default:function(){return""}},clickMask:{type:Boolean,default:function(){return!0}},maxHeight:{type:String,default:"60vh"},contentPadding:{type:String,default:"0 32rpx"}},methods:{clickConfirm:function(){this.$emit("confirm")},clickCancel:function(){this.$emit("cancel")},_clickMask:function(){var t=this;this.clickMask&&setTimeout((function(){t.$emit("cancel")}),250)},preventTouchMove:function(){return 0}},computed:{className:function(){return"top"===this.position?this.closeAnimation?"modal-content-close":"modal-content":this.closeAnimation?"modal-content-bottom-close":"modal-content-bottom"},styles:function(){return"bottom"===this.position?Object(a["c"])({bottom:this.customBottom,paddingBottom:"".concat(this.safeArea,"px")}):{}}},watch:{visible:{immediate:!0,handler:function(t){this.closeAnimation=!t,this.showModal=t}}}},o=s,c=(i("7583"),i("f0c5")),l=Object(c["a"])(o,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.showModal?i("v-uni-view",{staticClass:"modal-warp"},[i("v-uni-view",{staticClass:"modal-mask",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t._clickMask.apply(void 0,arguments)},touchmove:function(e){e.stopPropagation(),e.preventDefault(),arguments[0]=e=t.$handleEvent(e),function(){}.apply(void 0,arguments)}}}),"top"===t.position?i("v-uni-view",{class:t.className,style:t.styles,on:{catchtouchmove:function(e){arguments[0]=e=t.$handleEvent(e),t.preventTouchMove.apply(void 0,arguments)},click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),function(){}.apply(void 0,arguments)}},nativeOn:{touchmove:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),function(){}.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"modal-body"},[t.showHead?i("v-uni-view",{staticClass:"header"},[i("v-uni-view",{staticClass:"title"},[t._v(t._s(t.title))]),t.showClose?i("v-uni-view",{staticClass:"closeModal",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.clickCancel.apply(void 0,arguments)}}},[i("o2-icon",{attrs:{icon:"icon-CloseOutlined"}})],1):i("v-uni-view",{staticClass:"closeModal"},[t._t("close")],2)],1):t._e(),t._t("top"),i("v-uni-scroll-view",{style:{"max-height":t.maxHeight,padding:t.contentPadding},attrs:{"scroll-y":!0}},[t._t("default")],2),t._t("bottom"),t.cancelButtonText&&t.confirmButtonText?i("v-uni-view",{staticClass:"operate-button"},[i("o2-button",{attrs:{type:"secondary",label:t.cancelButtonText,disabled:t.cancelButtonDisabled},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.clickCancel.apply(void 0,arguments)}}}),i("o2-button",{attrs:{label:t.confirmButtonText,disabled:t.confirmButtonDisabled},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.clickConfirm.apply(void 0,arguments)}}})],1):t.noButton?t._e():i("v-uni-view",{staticClass:"operate-button"},[i("o2-button",{attrs:{operation:"bottom",label:t.confirmButtonText,disabled:t.confirmButtonDisabled},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.clickConfirm.apply(void 0,arguments)}}})],1)],2)],1):t._e(),"bottom"===t.position?i("v-uni-view",{class:t.className,style:t.styles,on:{catchtouchmove:function(e){arguments[0]=e=t.$handleEvent(e),t.preventTouchMove.apply(void 0,arguments)},click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),function(){}.apply(void 0,arguments)}},nativeOn:{touchmove:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),function(){}.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"modal-body"},[t.showHead?i("v-uni-view",{staticClass:"header"},[i("v-uni-view",{staticClass:"title"},[t._v(t._s(t.title))]),t.showClose?i("v-uni-view",{staticClass:"closeModal",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.clickCancel.apply(void 0,arguments)}}},[i("o2-icon",{attrs:{icon:"icon-CloseOutlined"}})],1):i("v-uni-view",{staticClass:"closeModal"},[t._t("close")],2)],1):t._e(),t._t("top"),i("v-uni-scroll-view",{style:{"max-height":t.maxHeight,padding:t.contentPadding},attrs:{"scroll-y":!0}},[t._t("default")],2),t._t("bottom"),t.cancelButtonText&&t.confirmButtonText?i("v-uni-view",{staticClass:"operate-button"},[i("v-uni-view",{staticClass:"df aic jcsb"},[i("o2-button",{attrs:{type:"secondary",label:t.cancelButtonText,disabled:t.cancelButtonDisabled},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.clickCancel.apply(void 0,arguments)}}}),i("o2-button",{attrs:{label:t.confirmButtonText,disabled:t.confirmButtonDisabled},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.clickConfirm.apply(void 0,arguments)}}})],1)],1):t.noButton?t._e():i("v-uni-view",{staticClass:"operate-button"},[i("o2-button",{attrs:{operation:"bottom",label:t.confirmButtonText,disabled:t.confirmButtonDisabled},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.clickConfirm.apply(void 0,arguments)}}})],1)],2)],1):t._e()],1):t._e()}),[],!1,null,"34d7bd56",null,!1,n,void 0);e["default"]=l.exports}}]);