(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pagesA-inventoryReport-searchKey-index"],{"0c95":function(e,t,i){"use strict";var n=i("e56c"),a=i.n(n);a.a},"56ae":function(e,t,i){"use strict";i.d(t,"m",(function(){return m})),i.d(t,"i",(function(){return x})),i.d(t,"j",(function(){return j})),i.d(t,"c",(function(){return C})),i.d(t,"g",(function(){return S})),i.d(t,"l",(function(){return A})),i.d(t,"n",(function(){return H})),i.d(t,"e",(function(){return R})),i.d(t,"d",(function(){return I})),i.d(t,"k",(function(){return T})),i.d(t,"h",(function(){return _})),i.d(t,"a",(function(){return K})),i.d(t,"o",(function(){return z})),i.d(t,"b",(function(){return q})),i.d(t,"f",(function(){return L}));var n=i("54f8"),a=i("0122"),r=i("d0ff"),s=i("276c"),c=i("e954"),o=i("fc11"),l=i("f07e"),u=i("c964"),d=i("f3f3"),h=i("c9e9"),f=(i("99af"),i("a623"),i("7db0"),i("caad"),i("14d9"),i("13d5"),i("b64b"),i("d3b7"),i("ac1f"),i("2532"),i("466d"),i("5319"),i("498a"),i("5a0c")),p=i.n(f),b=i("c1fb"),v=i("2c37"),g=["title","icon"],y=["title","icon","duration"],w=["handle"],k=["handle"],m=function(e){return new Promise((function(t){setTimeout((function(){t()}),e)}))},x=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=(t.title,t.icon,Object(h["a"])(t,g));uni.showToast(Object(d["a"])({title:e,icon:"none",duration:2e3,mask:!0},i))},j=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise((function(i){var n=t.duration||1300,a=(t.title,t.icon,t.duration),r=Object(h["a"])(t,y);uni.showToast(Object(d["a"])({title:e,icon:"none",duration:n,mask:!0},r)),setTimeout((function(){i()}),a)}))},O={queryUserPermissionSeparate:"/cartech-store-user/userPermission/queryUserPermissionSeparate",queryGroupCode:"/cartech-store-org/org/queryDetail"},C=function(){var e=uni.getSystemInfoSync();return e.statusBarHeight||0},S=function(){var e=uni.getSystemInfoSync();return e.safeArea?e.safeArea.bottom:0};function A(e,t){var i={};return e.reduce((function(e,n){return!i[n[t]]&&(i[n[t]]=e.push(n)),e}),[])}var H=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"YYYY-MM-DD HH:mm:ss";if(!e)return null;var i=p()(e);return i.isValid()?i.format(t):null},R=function(e,t,i){if([void 0,null,""].includes(t))return void 0===i?t:i;var n=e.find((function(e){return e.value===t}))||e.find((function(e){return e.code===t}));return n?n.label||n.text||n.name||n.desc:void 0===i?t:i},I=function(e,t,i){return e&&t?e+"-"+t+"万元":e?e+"万元以上":t?t+"万元以内":i||null};function T(){plus&&("Android"==plus.os.name?plus.runtime.isApplicationExist({pname:"com.tencent.mm"})?plus.runtime.openURL("weixin://",(function(e){})):uni.showModal({title:"提示",content:"您还没有此APP,去下载",success:function(e){e.confirm&&plus.runtime.openURL("https://a.app.qq.com/o/simple.jsp?pkgname=com.tencent.mm",(function(e){}))}}):"iOS"==plus.os.name&&plus.runtime.launchApplication({action:"weixin://"},(function(e){uni.showModal({title:"提示",content:"您还没有此APP,去下载",success:function(e){e.confirm&&plus.runtime.openURL("https://a.app.qq.com/o/simple.jsp?pkgname=com.tencent.mm",(function(e){}))}})})))}var _=function(){var e=Object(u["a"])(Object(l["a"])().mark((function e(t){var i,n,a,r,s,c,o,u,d;return Object(l["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i={buyingClues:!1,carbuyingclues:!1,sellingClues:!1,sellingcarclues:!1},e.prev=1,e.next=4,b["a"].http.get(O.queryGroupCode,{orgCode:t});case 4:if(n=e.sent,a=n.data,0===a.code){e.next=9;break}return uni.showToast(a.message||a.msg),e.abrupt("return",i);case 9:return r=a.data.groupCode,e.next=12,b["a"].http.post(O.queryUserPermissionSeparate,{});case 12:if(s=e.sent,c=s.data,0===c.code){e.next=17;break}return uni.showToast(a.message||a.msg),e.abrupt("return",i);case 17:if(c.data.storePerms){e.next=19;break}return e.abrupt("return",i);case 19:if(o=c.data.storePerms,Object.keys(o).includes(r)){e.next=22;break}return e.abrupt("return",i);case 22:return u=o[r].resources,d=function(e){return!!e&&0!==e.VIW},i.buyingClues=d(u.carbuyingclues),i.carbuyingclues=d(u.carbuyingclues),i.sellingClues=d(u.sellingcarclues),i.sellingcarclues=d(u.sellingcarclues),e.abrupt("return",i);case 31:return e.prev=31,e.t0=e["catch"](1),e.abrupt("return",i);case 34:case"end":return e.stop()}}),e,null,[[1,31]])})));return function(t){return e.apply(this,arguments)}}(),K=function(){function e(t,i){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=n.vm,r=n.autoDestroy,c=void 0===r||r,o=n.toss,l=void 0===o||o;return Object(s["a"])(this,e),e.generate(t,i,{vm:a,autoDestroy:c,toss:l})}return Object(c["a"])(e,[{key:"collect",value:function(){for(var t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];e.collect.apply(e,[this.name].concat(i))}},{key:"destroy",value:function(){e.destroy(this.name)}}],[{key:"generate",value:function(e,t){var i=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=n.vm,r=n.autoDestroy,s=void 0===r||r,c=n.toss,o=void 0===c||c;if(a&&s&&a.$once("hook:beforeDestroy",(function(){i.destroy(e)})),this.list[e]){var l=this.list[e],u=(l.handle,Object(h["a"])(l,w));return u}this.list[e]={handle:t,name:e},o&&this.toss(e);var d=this.list[e],f=(d.handle,Object(h["a"])(d,k));return f}},{key:"toss",value:function(e){this.list[e]&&(this.list[e].shouldRun=!1,this.list[e].payload=[])}},{key:"catch",value:function(e){if(this.list[e]){this.list[e].shouldRun=!0;for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];this.list[e].payload=i}}},{key:"once",value:function(e,t){var i=this;this.list[e]&&this.destroy(e);this.generate(e,(function(){t.apply(void 0,arguments),i.destroy(e)})),this.toss(e)}},{key:"collect",value:function(e){for(var t,i=arguments.length,n=new Array(i>1?i-1:0),a=1;a<i;a++)n[a-1]=arguments[a];this.list[e]&&this.list[e].shouldRun&&(n=[].concat(Object(r["a"])(this.list[e].payload),Object(r["a"])(n)),(t=this.list[e]).handle.apply(t,Object(r["a"])(n)),this.list[e].shouldRun=!1,this.list[e].payload=[])}},{key:"execute",value:function(e){var t;if(this.list[e]){for(var i=arguments.length,n=new Array(i>1?i-1:0),a=1;a<i;a++)n[a-1]=arguments[a];(t=this.list[e]).handle.apply(t,n)}}},{key:"collectAsync",value:function(){var e=Object(u["a"])(Object(l["a"])().mark((function e(t){var i,n,a,s,c=arguments;return Object(l["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:for(n=c.length,a=new Array(n>1?n-1:0),s=1;s<n;s++)a[s-1]=c[s];if(this.list[t]){e.next=3;break}return e.abrupt("return",void 0);case 3:if(this.list[t].shouldRun){e.next=5;break}return e.abrupt("return",void 0);case 5:return a=[].concat(Object(r["a"])(this.list[t].payload),Object(r["a"])(a)),this.list[t].shouldRun=!1,this.list[t].payload=[],e.abrupt("return",(i=this.list[t]).handle.apply(i,Object(r["a"])(a)));case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"executeAsync",value:function(){var e=Object(u["a"])(Object(l["a"])().mark((function e(t){var i,n,a,r,s=arguments;return Object(l["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.list[t]){e.next=2;break}return e.abrupt("return",void 0);case 2:for(n=s.length,a=new Array(n>1?n-1:0),r=1;r<n;r++)a[r-1]=s[r];return e.abrupt("return",(i=this.list[t]).handle.apply(i,a));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"destroy",value:function(e){this.list[e]&&delete this.list[e]}},{key:"getItem",value:function(e){if(this.list[e])return Object(d["a"])({},this.list[e])}}])}();Object(o["a"])(K,"list",{});var P=function(e,t,i,n){var r=e.required,s=void 0!==r&&r,c=e.errorMessage,o=void 0===c?"":c,l=e.validator;if(s&&["",null,void 0].includes(t))return{valid:!1,message:o};if(l){if("function"!==typeof l)return{valid:!0,message:o};var u=l(t,i,n);return"boolean"===typeof u?{valid:u,message:o}:"object"===Object(a["a"])(u)?{valid:u.valid,message:u.message||o}:{valid:!0,message:o}}return{valid:!0,message:o}},z=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Object.keys(e).every((function(a){if(!t[a])return!0;var r;if(Array.isArray(t[a]))r=t[a];else{if(!Array.isArray(t[a].rules))return!0;r=t[a].rules}var s,c=Object(n["a"])(r);try{for(c.s();!(s=c.n()).done;){var o=s.value,l=P(o,e[a],e,a),u=l.valid,d=l.message;if(!u)return i&&x(d),!1}}catch(h){c.e(h)}finally{c.f()}return!0}))},q=function(e){if(!e)return e;e=e.trim();var t=e.replace(/\s/g,"");return t.match(/\D/)?e:t},L=function(){var e=Object(u["a"])(Object(l["a"])().mark((function e(t){var i,n,a,r;return Object(l["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i=v["b"].crm.getPageLock,n={type:t},e.prev=2,e.next=5,b["a"].http.get(i,n);case 5:if(a=e.sent,r=a.data,0===r.code){e.next=9;break}return e.abrupt("return",!1);case 9:return e.abrupt("return",r.data);case 12:return e.prev=12,e.t0=e["catch"](2),e.abrupt("return","");case 15:case"end":return e.stop()}}),e,null,[[2,12]])})));return function(t){return e.apply(this,arguments)}}()},"875d":function(e,t,i){"use strict";i.r(t);var n={o2Icon:i("51db").default},a=(i("99af"),i("c975"),i("fb6a"),i("a434"),i("3c65"),i("f4b3"),i("e9c4"),i("b64b"),i("498a"),i("56ae")),r={data:function(){return{addTitle:"搜索盘点",checkReportId:"",checkType:"",searchKeyword:"",searchHistory:[],maxHistoryLength:5}},computed:{barHeight:function(){var e=Object(a["c"])();return e+"px"}},onLoad:function(e){e.checkReportId&&(this.obj=e.obj,this.checkReportId=e.checkReportId,this.checkType=e.checkType),this.getSearchHistory()},methods:{goBack:function(){this.$Router.back()},handleBlur:function(){this.searchKeyword.trim()&&(this.saveSearchHistory(this.searchKeyword),this.handleSearch())},getSearchHistory:function(){var e=uni.getStorageSync("".concat(this.checkReportId));e&&(this.searchHistory=JSON.parse(e))},saveSearchHistory:function(e){if(e.trim()){var t=this.searchHistory,i=t.indexOf(e);-1!==i&&t.splice(i,1),t.unshift(e),t.length>this.maxHistoryLength&&(t=t.slice(0,this.maxHistoryLength)),this.searchHistory=t,uni.setStorageSync("".concat(this.checkReportId),JSON.stringify(t))}},handleSearch:function(){this.searchKeyword.trim()&&(this.saveSearchHistory(this.searchKeyword),uni.navigateTo({url:"/pagesA/inventoryReport/searchKey/result?checkReportId=".concat(this.checkReportId,"&checkType=").concat(this.checkType,"&keyNumber=").concat(this.searchKeyword,"&obj=").concat(this.obj)}))},handleHistoryItemClick:function(e){this.searchKeyword=e,this.handleSearch()},clearInput:function(){this.searchKeyword=""}}},s=r,c=(i("0c95"),i("f0c5")),o=Object(c["a"])(s,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-uni-view",{staticClass:"search-page"},[i("v-uni-view",{staticClass:"title-container",style:{paddingTop:e.barHeight,height:"calc("+e.barHeight+" + 44px)"}},[i("v-uni-view",{on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.goBack.apply(void 0,arguments)}}},[i("o2-icon",{attrs:{icon:"icon-LeftOutlined",color:"themeColor",size:"40rpx"}})],1),i("v-uni-view",{staticClass:"title-name"},[i("v-uni-view",{staticClass:"name"},[e._v(e._s(e.addTitle))])],1)],1),i("v-uni-view",{staticClass:"search-selection"},[i("v-uni-view",{staticClass:"search-box"},[i("v-uni-view",{staticClass:"search-input"},[i("v-uni-image",{staticClass:"search-icon",attrs:{src:"https://cimg-cdn.haier.net/obs-oldtest/2024/12/23/cWWnUzFH/ic_cloud_factory_search.png"}}),i("v-uni-input",{ref:"searchInputRef",staticClass:"search-text",attrs:{placeholder:"请输入VIN码/钥匙编号/展厅编码",returnkeytype:"search"},on:{confirm:function(t){arguments[0]=t=e.$handleEvent(t),e.handleBlur.apply(void 0,arguments)}},model:{value:e.searchKeyword,callback:function(t){e.searchKeyword=t},expression:"searchKeyword"}})],1)],1),i("v-uni-view",{staticClass:"cancal-input",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.clearInput.apply(void 0,arguments)}}},[e._v("取消")])],1),i("v-uni-view",{staticClass:"history-section"},[i("v-uni-view",{staticClass:"history-title"},[e._v("历史搜索")]),i("v-uni-view",{staticClass:"history-list"},e._l(e.searchHistory,(function(t,n){return i("v-uni-view",{key:n,staticClass:"history-item",on:{click:function(i){arguments[0]=i=e.$handleEvent(i),e.handleHistoryItemClick(t)}}},[i("v-uni-text",[e._v(e._s(t))])],1)})),1)],1),i("v-uni-view",{staticClass:"submit-btn"},[i("v-uni-view",{staticClass:"button-btn",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.handleSearch.apply(void 0,arguments)}}},[i("v-uni-text",[e._v("搜索")])],1)],1)],1)}),[],!1,null,"30cb6d55",null,!1,n,void 0);t["default"]=o.exports},a623:function(e,t,i){"use strict";var n=i("23e7"),a=i("b727").every,r=i("a640"),s=r("every");n({target:"Array",proto:!0,forced:!s},{every:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}})},c4af:function(e,t,i){var n=i("24fb");t=n(!1),t.push([e.i,'@charset "UTF-8";\n\n\n/* 行为相关颜色 */.search-page[data-v-30cb6d55]{min-height:100vh;background-color:#f5f5f5}.search-page .title-container[data-v-30cb6d55]{background:#fff;padding:0 %?32?%;-webkit-flex-shrink:0;flex-shrink:0;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;position:relative}.search-page .title-container .title-name[data-v-30cb6d55]{-webkit-box-flex:1;-webkit-flex:1;flex:1;font-size:%?32?%;font-weight:400;color:#262626;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;overflow:hidden;margin:0 %?26?%}.search-page .title-container .title-name .name[data-v-30cb6d55]{margin-right:%?20?%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.search-page .title-container .title-name .down-arrow[data-v-30cb6d55]{-webkit-flex-shrink:0;flex-shrink:0;width:%?28?%;height:%?28?%}.search-page .title-container .title-switch-list[data-v-30cb6d55]{font-weight:700;background:#fff;width:100vw;position:absolute;top:100%;left:0;z-index:9999;border-top:1px solid rgba(0,0,0,.1)}.search-page .title-container .title-switch-list .title-card[data-v-30cb6d55]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;color:rgba(0,0,0,.65);font-size:%?30?%;padding:%?30?% %?32?%;border-bottom:%?1?% solid rgba(0,0,0,.1)}.search-page .title-container .title-switch-list .title-card .img-check[data-v-30cb6d55]{width:%?32?%;height:%?32?%}.search-page .title-container .title-switch-list .title-card-active[data-v-30cb6d55]{color:#f8b500}.search-page .title-container .title-switch-list .title-switch-btn[data-v-30cb6d55]{color:#f8b500;font-size:%?28?%;display:-webkit-box;display:-webkit-flex;display:flex;padding:%?30?% %?32?%;font-weight:400}.search-page .title-container .title-switch-list .title-switch-btn .title-switch-btn-separator[data-v-30cb6d55]{color:#d9d9d9}.search-page .title-container .overlay[data-v-30cb6d55]{position:fixed;top:0;left:0;right:0;bottom:0;background-color:rgba(0,0,0,.5);\n  /* 半透明黑色背景 */z-index:999\n  /* 确保蒙板在下拉筛选项之上 */}.search-page .search-selection[data-v-30cb6d55]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;background:#fff;padding:%?20?% %?32?%;width:100%}.search-page .search-selection .search-box[data-v-30cb6d55]{-webkit-box-flex:1;-webkit-flex:1;flex:1;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center;height:%?72?%;margin:0 %?20?%;background:#f6f7f9;border-radius:%?40?%;padding:0 %?20?%}.search-page .search-selection .search-box .search-input[data-v-30cb6d55]{width:100%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;padding:0 %?20?%}.search-page .search-selection .search-box .search-input .search-icon[data-v-30cb6d55]{width:%?40?%;height:%?40?%}.search-page .search-selection .search-box .search-input .search-text[data-v-30cb6d55]{-webkit-box-flex:1;-webkit-flex:1;flex:1;margin-left:%?10?%;font-size:%?28?%}.search-page .search-selection .search-box .search-input .close-icon[data-v-30cb6d55]{width:%?30?%;height:%?30?%}.search-page .search-selection .cancal-input[data-v-30cb6d55]{font-size:%?28?%;margin-left:%?26?%}.search-page .history-section[data-v-30cb6d55]{padding:15px;background:#fff}.search-page .history-section .history-title[data-v-30cb6d55]{font-size:14px;color:#333;margin-bottom:10px}.search-page .history-section .history-list[data-v-30cb6d55]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-flex-wrap:wrap;flex-wrap:wrap;gap:10px}.search-page .history-section .history-list .history-item[data-v-30cb6d55]{padding:6px 12px;background-color:#fff;border-radius:4px;font-size:14px;color:#666;width:100%}.search-page .submit-btn[data-v-30cb6d55]{position:fixed;background:#fff;bottom:0;left:0;right:0;height:%?120?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;font-size:%?30?%;padding:0 %?32?%}.search-page .submit-btn .button-btn[data-v-30cb6d55]{background-color:#ff9500;color:#fff;height:%?72?%;line-height:%?72?%;width:100%;text-align:center;border-radius:%?8?%}',""]),e.exports=t},e56c:function(e,t,i){var n=i("c4af");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var a=i("4f06").default;a("268329c6",n,!0,{sourceMap:!1,shadowMode:!1})}}]);