(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pagesA-popup-popup"],{"0aac":function(e,t,a){var n=a("f5a8");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var i=a("4f06").default;i("d3103748",n,!0,{sourceMap:!1,shadowMode:!1})},"0cefb":function(e,t,a){var n=a("29f5");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var i=a("4f06").default;i("3eb6b2d8",n,!0,{sourceMap:!1,shadowMode:!1})},1297:function(e,t,a){"use strict";var n=a("0aac"),i=a.n(n);i.a},1649:function(e,t,a){"use strict";var n=a("7bb9"),i=a.n(n);i.a},"191a":function(e,t,a){var n=a("24fb");t=n(!1),t.push([e.i,'@charset "UTF-8";\n\n\n/* 行为相关颜色 */.o2-radio[data-v-75e143bb]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;cursor:pointer;-webkit-user-select:none;user-select:none}.o2-radio-disabled[data-v-75e143bb]{color:rgba(0,0,0,.25098039215686274)}',""]),e.exports=t},"1d4d":function(e,t,a){var n=a("191a");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var i=a("4f06").default;i("2cd8af62",n,!0,{sourceMap:!1,shadowMode:!1})},"29f5":function(e,t,a){var n=a("24fb");t=n(!1),t.push([e.i,'@charset "UTF-8";\n\n\n/* 行为相关颜色 */.share-write-box[data-v-1de0c76c]{padding:12px}.share-write-box .share-write-container[data-v-1de0c76c]{width:100%}.share-write-box .share-write-container .share-write-text[data-v-1de0c76c]{height:80px}.share-write-box .share-write-container .share-write-text .share-item-text[data-v-1de0c76c]{line-height:20px;font-size:12px}.share-copy-btn[data-v-1de0c76c]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;padding:12px}.share-copy-btn .my-conpy-btn[data-v-1de0c76c]{font-size:12px!important;line-height:18px!important;padding:3px 10px!important;color:rgba(0,0,0,.45)!important}.radio[data-v-1de0c76c]{color:rgba(0,0,0,.45);font-size:12px;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.radio .dim-price .uni-checkbox-input[data-v-1de0c76c]{border-radius:50%}[data-v-1de0c76c] .uni-checkbox-input{border-radius:50%!important}',""]),e.exports=t},"2c8c":function(e,t,a){"use strict";a.r(t);var n=a("f3f3"),i=a("f07e"),r=a("c964"),s=(a("99af"),a("4160"),a("caad"),a("a15b"),a("d81d"),a("45fc"),a("f4b3"),a("e9c4"),a("a9e3"),a("d3b7"),a("4d63"),a("c607"),a("ac1f"),a("2c3e"),a("25f0"),a("2532"),a("5319"),{uniPopup:a("1c89").default,jpTabs:a("1a52").default,uniIcons:a("1a49").default,ktcImage:a("3ae5").default,shareWrite:a("7159").default,o2Radio:a("d0f0").default}),c={uniIcons:a("1a49").default},o=a("d0ff"),l=(a("fb6a"),a("b64b"),a("159b"),{props:{imageArr:{type:Array,default:function(){return[]}},lineNum:{type:Number,default:3},spacingNumber:{type:Number,default:12},h5Url:{type:String,default:""},qrCodeUrl:{type:String,default:""}},data:function(){return{imgW:"",imgH:"",screenWidth:0,imageList:[],loadImageCount:0,isLoading:!0,loadingReset:!0}},watch:{qrCodeUrl:function(e,t){e!=t&&this.addQrcode(e)}},mounted:function(){var e=this;uni.createSelectorQuery().in(this).select(".tel-pic-show").boundingClientRect((function(t){e.screenWidth=t.width,e.imgW=(e.screenWidth-(e.lineNum-1)*e.spacingNumber)/e.lineNum,e.imgH=e.imgW})).exec(),this.addQrcode(this.qrCodeUrl)},methods:{prevsImages:function(e,t){uni.previewImage({urls:e.map((function(e){return e.url})),current:t})},addQrcode:function(e){if(e)if(this.imageArr.length>=9){var t=JSON.parse(JSON.stringify(this.imageArr)).slice(0,8);this.imageList=[].concat(Object(o["a"])(t),[{url:e,img:e}])}else this.imageList=[].concat(Object(o["a"])(this.imageArr),[{url:e,img:e}]);else if(this.imageArr.length>=9){var a=JSON.parse(JSON.stringify(this.imageArr)).slice(0,9);this.imageList=Object(o["a"])(a)}else this.imageList=Object(o["a"])(this.imageArr)},handleImageLoad:function(e){this.loadImageCount++,this.loadImageCount===this.imageList.length&&(this.isLoading=!1)},handleImageError:function(e){this.loadingReset=!1},resetHandle:function(){this.loadingReset=!0,this.imageList=this.imageList.map((function(e){return{url:e.url.split("?")[0]+"?".concat((new Date).getTime()),img:e.url.split("?")[0]+"?".concat((new Date).getTime())}}))},saveImage:function(){this.saveImageToPhotos()},saveImageVx:function(){this.saveImageToPhotos("open")},saveImageToPhotos:function(e){var t=this.imageList||[],a=0;t.forEach((function(n,i){setTimeout((function(){uni.saveImageToPhotosAlbum({filePath:n.url,success:function(){a++,uni.showLoading({title:"保存图片".concat(a,"/").concat(t.length),duration:2e7}),a==t.length&&(uni.showLoading({title:"保存成功",icon:"none",duration:800}),"open"==e&&plus.runtime.openURL("weixin://"))},fail:function(e){uni.hideLoading()}})}),500)})),uni.hideLoading()}}}),h=l,d=(a("b798"),a("f0c5")),u=Object(d["a"])(h,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-uni-view",{staticClass:"pic-container"},[a("v-uni-view",{staticClass:"tel-pic-show"},[e.isLoading?a("v-uni-view",{staticClass:"loading"},[e.loadingReset?a("v-uni-view",{staticClass:"loading-spinner"}):a("v-uni-view",{staticClass:"loading-reset",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.resetHandle.apply(void 0,arguments)}}},[a("uni-icons",{attrs:{type:"refreshempty",size:"28",color:""}}),e._v("刷新")],1)],1):e._e(),a("v-uni-view",{staticClass:"pic-box"},[e._l(e.imageList,(function(t,n){return[a("img",{key:n+"_0",staticClass:"img",style:{width:e.imgW+"px",height:e.imgH+"px",marginBottom:"8px",marginRight:e.spacingNumber+"px"},attrs:{src:t.url},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.prevsImages(e.imageList,n)},load:function(t){arguments[0]=t=e.$handleEvent(t),e.handleImageLoad(n)},error:function(t){arguments[0]=t=e.$handleEvent(t),e.handleImageError(n)}}})]}))],2)],1)],1)}),[],!1,null,"d166a5d6",null,!1,c,void 0),p=u.exports,f={components:{shareImage:p},props:{closeBtn:{type:Boolean,default:!0},tabs:{type:Array,default:function(){return[]}},shareType:{type:String,default:""},shareImage:{type:String,default:""},shareImageFallback:{type:String,default:""},currentKey:{type:String,default:""},h5Url:{type:String,default:""},text:{type:String,default:""},carType:{type:String,default:""}},data:function(){return{current:0,container:"",editFlag:!1,carInfo:{},singleCarInfo:{},titleNum:0,titleData:[],btns:[{icon:"../../static/wechat.svg",text:"微信好友",label:"weChat"},{icon:"../../static/share-svg/friend.png",text:"朋友圈",label:"friend"},{icon:"../../static/link.svg",text:"复制链接",label:"link"}],qrCodeUrl:"",isBystages:!1,h5UrlCopy:"",imageLoaded:!1,isPreSell:!1}},created:function(){if("carInfo"==this.currentKey){var e=uni.getStorageSync(this.currentKey),t=uni.getStorageSync("userInfo");this.carInfo=e,this.singleCarInfo=Object(n["a"])(Object(n["a"])({},e.singleCarInfo),{},{brandText:e.brandText}),"single"==this.carType?this.titleData=["".concat(e.brandText,"，诚信商家认证"),"".concat(e.brandText,"，专业检测，放心购"),"".concat(e.brandText,"，超高配置，精品推荐"),"".concat(e.brandText,"，新车到店"),"".concat(e.brandText,"，店长推荐，超低价格"),"".concat(e.brandText,"，家庭必备")]:"more"!=this.carType&&"list"!=this.carType||(this.titleData=["".concat(t.userChName,"向您推荐").concat(e.carLength,"辆好车，专业检测，诚信商家认证"),"".concat(t.userChName,"向您推荐").concat(e.carLength,"辆好车，杜绝事故，精选优质"),"".concat(t.userChName,"向您推荐").concat(e.carLength,"辆好车，一站式免费服务")])}},watch:{text:function(e,t){e!=t&&(this.container=e),setTimeout((function(){uni.hideLoading()}),1200)},current:function(e,t){"1"==e?this.btns=[{icon:"../../static/wechat.svg",text:"微信好友",label:"weChat"},{icon:"../../static/share-svg/friend.png",text:"朋友圈",label:"friend"},{icon:"../../static/download.svg",text:"保存图片",label:"savePhoto"}]:"0"==e&&(this.btns=[{icon:"../../static/wechat.svg",text:"微信好友",label:"weChat"},{icon:"../../static/share-svg/friend.png",text:"朋友圈",label:"friend"},{icon:"../../static/link.svg",text:"复制链接",label:"link"}])},h5Url:function(e,t){e!=t&&(this.h5UrlCopy=this.h5Url)},h5UrlCopy:function(e,t){e!=t&&this.getQrcode(e)}},destroyed:function(){uni.hideLoading()},methods:{saveIsPreSell:function(){var e=this.h5UrlCopy;e.includes("isPreSell=true")?e=e.replace("isPreSell=true","isPreSell=".concat(this.isPreSell)):e.includes("isPreSell=false")?e=e.replace("isPreSell=false","isPreSell=".concat(this.isPreSell)):e+="&isPreSell=".concat(this.isPreSell),this.h5UrlCopy=e,uni.$emit("changeContent")},saveIsBystages:function(){var e=this.h5UrlCopy;e.includes("isBystages=true")?e=e.replace("isBystages=true","isBystages=".concat(this.isBystages)):e.includes("isBystages=false")?e=e.replace("isBystages=false","isBystages=".concat(this.isBystages)):e+="&isBystages=".concat(this.isBystages),this.h5UrlCopy=e,uni.$emit("changeContent")},getQrcode:function(e){var t=this;return Object(r["a"])(Object(i["a"])().mark((function a(){var n;return Object(i["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,t.$http.get(t.$requestUrl.mmc_vehicle.getQRcode,{qrContent:e});case 2:n=a.sent,0==n.data.code?t.qrCodeUrl=n.data.data||"":uni.showToast({title:"生成二维码失败！",icon:"none"});case 4:case"end":return a.stop()}}),a)})))()},showPopup:function(){uni.showLoading({title:"加载中",mask:!0}),this.$refs.tabPopup.open("top")},changeTab:function(e){},copyRefHandle:function(){this.$refs.shareWriteRef.copyWa()},handleClose:function(){this.$emit("close")},shareClick:function(e){this.$emit("shareClick",{type:e,container:this.container,current:this.current,isBystages:this.isBystages,isPreSell:this.isPreSell})},handleFocus:function(){this.editFlag=!0},handleBlur:function(){this.editFlag=!1},saveImgs:function(){this.$refs.shareImg.saveImage()},saveImgsVx:function(){this.$refs.shareImg.saveImageVx()},changeContainer:function(){this.container=this.titleData[this.titleNum],this.titleNum<this.titleData.length?this.titleNum++:this.titleNum=0},onImageLoad:function(e){this.imageLoaded=!0}}},g=f,b=(a("1297"),Object(d["a"])(g,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("uni-popup",{ref:"tabPopup",attrs:{type:"bottom"},on:{close:function(t){arguments[0]=t=e.$handleEvent(t),e.handleClose.apply(void 0,arguments)}}},[n("v-uni-view",{staticClass:"share-tab-content"},["tab"==e.shareType?n("v-uni-view",{style:{flex:1,position:"relative"}},["more"==e.carType||"single"==e.carType?n("jp-tabs",{attrs:{field:"name",scroll:!1,tabs:e.tabs,activeStyle:{maxWidth:"80px",color:"#000",fontWeight:"500",justifyContent:"center"},itmStyle:{maxWidth:"80px",justifyContent:"center",color:"rgba(0,0,0,.45)",fontWeight:"500"},lineStyle:{background:"#f8b500",borderRadius:"2px",height:"2px"}},on:{change:function(t){arguments[0]=t=e.$handleEvent(t),e.changeTab.apply(void 0,arguments)}},model:{value:e.current,callback:function(t){e.current=t},expression:"current"}}):e._e(),"list"==e.carType?n("v-uni-view",{staticClass:"list-title"},[e._v("分享列表")]):e._e(),n("v-uni-view",{staticClass:"share-tab-container"},[0==e.current?n("v-uni-view",{staticClass:"tab-item-0"},[n("v-uni-view",{staticClass:"store-title padding-0"},[n("v-uni-view",{staticClass:"share-store-card",staticStyle:{"padding-bottom":"42px"}},[n("v-uni-view",{staticClass:"store-card-edit-title"},[n("v-uni-text",[e._v("点击可编辑分享标题")]),n("v-uni-view",{staticStyle:{color:"#F8B500","font-style":"'14px'"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.changeContainer.apply(void 0,arguments)}}},[n("uni-icons",{attrs:{type:"refreshempty",size:"14",color:"#F8B500"}}),e._v("换标题")],1)],1),n("v-uni-view",{staticClass:"car-card-container"},[n("v-uni-view",{staticClass:"car-card-text"},[n("v-uni-scroll-view",{staticClass:"text_field_outer",staticStyle:{"white-space":"nowrap"},attrs:{"scroll-y":!0,"show-scrollbar":!0}},[n("v-uni-textarea",{staticClass:"card-item-text",attrs:{maxlength:"-1"},model:{value:e.container,callback:function(t){e.container=t},expression:"container"}})],1),n("v-uni-view",{staticClass:"edit-icon-box"})],1),n("v-uni-view",{staticClass:"car-card-logo"},[n("v-uni-text",{staticClass:"app-name"}),n("ktc-image",{staticClass:"card-item-image",attrs:{src:e.shareImage,"fallback-src":e.shareImageFallback},on:{load:function(t){arguments[0]=t=e.$handleEvent(t),e.onImageLoad.apply(void 0,arguments)}}})],1)],1)],1)],1)],1):1==e.current?n("v-uni-view",{staticStyle:{display:"flex","align-items":"center","justify-content":"center"}},[n("share-image",{ref:"shareImg",staticClass:"share-img-box",attrs:{imageArr:e.carInfo.imgList,lineNum:3,spacingNumber:12,h5Url:e.h5UrlCopy,qrCodeUrl:e.qrCodeUrl}})],1):e._e(),"single"==e.carType||"more"==e.carType?n("v-uni-view",{staticClass:"share-write"},[n("share-write",{ref:"shareWriteRef",attrs:{carInfo:e.singleCarInfo,h5Url:e.h5UrlCopy,carType:e.carType,isBystages:e.isBystages,isPreSell:e.isPreSell}})],1):e._e()],1),n("v-uni-view",{class:"more"==e.carType||"single"==e.carType?"share-tab-close":"share-tab-close-list",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.handleClose.apply(void 0,arguments)}}},["tab"==e.shareType?n("v-uni-image",{staticClass:"share-close-icon",attrs:{src:a("6694")}}):e._e()],1)],1):"card"==e.shareType?n("v-uni-view",{style:{flex:1}},[n("v-uni-view",{staticClass:"store-title"},[n("v-uni-view",{staticClass:"share-store-card"},[n("v-uni-text",{staticClass:"store-card-edit-title"},[e._v("点击可编辑分享标题")]),n("v-uni-view",{staticClass:"store-card-container"},[n("ktc-image",{staticClass:"card-item-image",attrs:{src:e.shareImage,"fallback-src":e.shareImageFallback},on:{load:function(t){arguments[0]=t=e.$handleEvent(t),e.onImageLoad.apply(void 0,arguments)}}}),n("v-uni-scroll-view",{staticClass:"text_field_outer",staticStyle:{"white-space":"nowrap",flex:"1"},attrs:{"scroll-y":!0,"show-scrollbar":!0}},[n("v-uni-textarea",{staticClass:"card-item-text",attrs:{maxlength:"-1"},on:{blur:function(t){arguments[0]=t=e.$handleEvent(t),e.handleBlur.apply(void 0,arguments)},focus:function(t){arguments[0]=t=e.$handleEvent(t),e.handleFocus.apply(void 0,arguments)}},model:{value:e.container,callback:function(t){e.container=t},expression:"container"}})],1),n("v-uni-view",{staticClass:"edit-icon-box"},[n("v-uni-image",{directives:[{name:"show",rawName:"v-show",value:!e.editFlag,expression:"!editFlag"}],staticClass:"edit-icon",attrs:{src:a("5754")}})],1)],1)],1)],1)],1):e._e(),n("v-uni-view",{staticClass:"by-stages"},["card"==e.shareType?n("v-uni-view",{staticClass:"bg"},[n("o2-radio",{attrs:{label:"展示预售车源"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.saveIsPreSell.apply(void 0,arguments)}},model:{value:e.isPreSell,callback:function(t){e.isPreSell=t},expression:"isPreSell"}})],1):e._e(),n("v-uni-view",{staticClass:"bg"},[n("o2-radio",{attrs:{label:"展示详细检测报告"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.saveIsBystages.apply(void 0,arguments)}},model:{value:e.isBystages,callback:function(t){e.isBystages=t},expression:"isBystages"}})],1)],1),n("v-uni-view",{staticClass:"share-btns"},[e._l(e.btns,(function(t,a){return n("v-uni-view",{key:a,staticClass:"share-icon-item",on:{click:function(a){arguments[0]=a=e.$handleEvent(a),e.shareClick(t.label)}}},[n("v-uni-image",{staticClass:"image-item",attrs:{src:t.icon}}),n("v-uni-text",{staticClass:"text"},[e._v(e._s(t.text))])],1)})),e.btns.length<4?n("v-uni-view",e._l(new Array(4-e.btns.length),(function(t,a){return n("v-uni-view",{key:a,staticClass:"share-icon-item"},[n("v-uni-image",{staticClass:"image-item"}),n("v-uni-text",{staticClass:"text"},[e._v(e._s())])],1)})),1):e._e()],2),"card"==e.shareType?n("v-uni-view",{staticClass:"cancel-box"},[n("v-uni-button",{staticClass:"cancel-btn",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.handleClose.apply(void 0,arguments)}}},[e._v("取消")])],1):e._e()],1)],1)}),[],!1,null,"41f376c2",null,!1,s,void 0)),m=b.exports,v=(a("5fc5"),a("71ea")),x=a.n(v),y=a("f7fe"),w=a.n(y),k=a("e102"),C=Object(k["b"])("https://mmc-vehicle-info-prod.cartech.cn/obs-oldtest/ktc-share-default.png",k["a"].RESIZE,{width:360}),I=Object(k["b"])("https://mmc-vehicle-info-prod.cartech.cn/obs-oldtest/wxTimeline-share-icon.png",k["a"].RESIZE,{width:360}),P=function(e){return e?Object(k["b"])(e,k["a"].RESIZE,{width:360}):Promise.resolve(C)},T=function(e){return new Promise((function(t,a){uni.downloadFile({url:e,success:function(a){200===(null===a||void 0===a?void 0:a.statusCode)?t({url:a.tempFilePath,img:e}):t({url:C,img:C})},fail:function(e){t({url:C,img:C})}})}))},S=function(){return new Promise((function(e,t){plus.share.getServices((function(t){e(t)}),(function(e){t(e)}))}))},U=function(){var e=Object(r["a"])(Object(i["a"])().mark((function e(t){var a;return Object(i["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,S();case 3:return a=e.sent,e.abrupt("return",a.some((function(e){return e.id===t})));case 7:return e.prev=7,e.t0=e["catch"](0),e.abrupt("return",!1);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),j={name:"sharePopup",components:{shareTab:m},data:function(){return{currentKey:"",storeData:{},shareType:"",shareImage:"",shareImageFallback:C,shareImageTempPath:{url:C,img:C},h5Url:"".concat(x.a.WECHAT,"/index.html#/"),carType:"",container:"",shareUrl:"",shareMethod:null,sharePage:null,chainId:"",action:"",webviewData:{},storeType:{label:"",value:""}}},onLoad:function(e){this.currentKey=e.key,this.shareType=e.shareType,this.carType=e.carType,this.action=e.action,e.page&&(this.h5Url=this.h5Url+e.page,this.shareUrl=e.page),e.sharePage&&(this.sharePage=Number(e.sharePage))},created:function(){var e=uni.getStorageSync("webviewData_microStore")||{};e.sharePage&&[null,void 0].includes(this.sharePage)&&(this.sharePage=e.sharePage),this.getShareParams()},mounted:function(){this.$refs.sharePopupRef.showPopup()},methods:{close:function(){uni.navigateBack({delta:1})},getStoreType:function(){var e=this;return Object(r["a"])(Object(i["a"])().mark((function t(){var a,n,r;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.$store.state.user.userInfo,t.next=3,e.$http.post(e.$requestUrl.mmc_vehicle.getStoreType,{userIdList:a?[a.accountCode]:[],type:2});case 3:return t.sent,t.next=6,e.$http.post("/cartech-store-org/org/queryOrgUserByUserInfo",{userIdList:a?[a.accountCode]:[]});case 6:if(n=t.sent,0!=n.data.code){t.next=12;break}return r=n.data.data[0],t.abrupt("return",r||{});case 12:return t.abrupt("return",{});case 13:case"end":return t.stop()}}),t)})))()},getShareParams:function(){var e=this;return Object(r["a"])(Object(i["a"])().mark((function t(){var a,r,s,c,o,l,h,d,u,p,f,g,b,m,v,x,y,w,k,I;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=uni.getStorageSync("userInfo"),r=uni.getStorageSync(e.currentKey),t.next=4,e.getStoreList();case 4:return s=t.sent,c={source:"share"},r.merchantId="storeData"==e.currentKey?[r.storeCode]:Array.isArray(null===r||void 0===r?void 0:r.merchantId)?r.merchantId:r.merchantId?[r.merchantId]:[r.merchantList[0].value],c.userInfo={userName:a.userChName,userCode:a.accountCode,userPhone:a.userPhone},c.carType="storeData"==e.currentKey?"store":e.carType,c.merchantCode="storeData"==e.currentKey?r.storeCode:Array.isArray(null===r||void 0===r?void 0:r.merchantId)?null===r||void 0===r?void 0:r.merchantId[0]:r.merchantId||null,c.platformProductCode="single"==e.carType?r.carId:null,c.onlineShopCode="single"==e.carType?r.singleCarInfo.xwCode:null,"single"==e.carType&&e.getShareStoreType(r.singleCarInfo.xwCode),c.vehicleStatusOrPutOnMicroStore=r.vehicleStatusOrPutOnMicroStore,t.next=16,e.getStoreType();case 16:return o=t.sent,l=null,c.merchantList=s.map((function(e,t){return e.xwCode==o.shopCode?(l={merchantName:e.xwName||null,merchantCode:e.xwCode||null,type:1},{merchantName:e.xwName||null,merchantCode:e.xwCode||null,type:1}):{merchantName:e.xwName||null,merchantCode:e.xwCode||null,type:0}})),"toCarSource"==e.action||"single"==e.carType?c.selectList=l?[l.merchantCode]:[s[0].xwCode]:r.selectList&&1==r.selectList.length?c.selectList=r.selectList:c.selectList=l?[l.merchantCode]:[s[0].xwCode],c.merchantId=Array.isArray(null===r||void 0===r?void 0:r.merchantId)?null===r||void 0===r?void 0:r.merchantId:[r.merchantId],h=Object(n["a"])(Object(n["a"])(Object(n["a"])({},r),c),{},{shareData:e.formatShareData()}),t.prev=22,t.next=25,e.$http.post(e.$requestUrl.mmc_vehicle.saveParams,{param:JSON.stringify(h)});case 25:if(d=t.sent,u=d.data.data.chainId,e.chainId=u,"storeData"==e.currentKey?(e.h5Url="".concat(e.h5Url,"?chainId=").concat(u,"&").concat((new Date).getTime()),e.container=r.storeFullName||"买卖车",e.shareUrl="pages/homePage/index?chainId=".concat(u)):"carInfo"==e.currentKey&&("single"==e.carType?(e.h5Url="".concat(e.h5Url,"?chainId=").concat(u,"&").concat((new Date).getTime()),e.container=r.brandText+"，特价优惠，限时购",e.shareUrl="".concat(e.shareUrl,"?chainId=").concat(u,"&carLength=").concat(r.carLength)):("more"==e.carType||"list"==e.carType)&&(e.h5Url="".concat(e.h5Url,"?chainId=").concat(u,"&carLength=").concat(r.carLength,"&").concat((new Date).getTime()),e.container="".concat(a.userChName,"向您推荐").concat(r.carLength,"辆好车，真实现车，透明车况"),e.shareUrl="".concat(e.shareUrl,"?chainId=").concat(u,"&carLength=").concat(r.carLength))),"single"!==e.carType){t.next=34;break}return t.next=32,P(null===r||void 0===r||null===(p=r.singleCarInfo)||void 0===p?void 0:p.carMainPicUrl);case 32:return e.shareImage=t.sent,t.abrupt("return");case 34:if(3!==e.sharePage){t.next=64;break}if(h.hasOwnProperty("storeImage")){t.next=59;break}if(f=h.storeCode,f){t.next=40;break}return e.shareImage=C,t.abrupt("return");case 40:return"/cartech-store-org/org/queryMerchantList",t.prev=41,t.next=44,e.$http.post("/cartech-store-org/org/queryMerchantList",{merchantCodes:[f]});case 44:if(g=t.sent,b=g.data,0===b.code){t.next=49;break}return e.shareImage=C,t.abrupt("return");case 49:return t.next=51,P(((b.data||[])[0]||{}).merchantPhoto);case 51:return e.shareImage=t.sent,t.abrupt("return");case 55:t.prev=55,t.t0=t["catch"](41),uni.hideLoading();case 58:return t.abrupt("return");case 59:return t.next=61,P(h.storeImage);case 61:e.shareImage=t.sent,t.next=94;break;case 64:if(![2,5].includes(e.sharePage)){t.next=88;break}if(m="",5===e.sharePage?m="string"===typeof h.carId?h.carId:(h.carId||[])[0]:2===e.sharePage&&(m=(h.carIdList||[])[0],m||(m="string"===typeof h.carId?h.carId:(h.carId||[])[0])),m){t.next=70;break}return e.shareImage=C,t.abrupt("return");case 70:return t.prev=70,t.next=73,e.$http.get("".concat(e.$requestUrl.crm.vehicleInfo,"/").concat(m));case 73:if(v=t.sent,x=v.data,0===x.code){t.next=77;break}return t.abrupt("return");case 77:return y=x.data||{},w=y.carMainPicUrl,t.next=80,P(w);case 80:e.shareImage=t.sent,t.next=86;break;case 83:t.prev=83,t.t1=t["catch"](70),uni.hideLoading();case 86:t.next=94;break;case 88:if(![1,4,6].includes(e.sharePage)){t.next=94;break}return k=h.imgList,I=(k||[])[0]||{},t.next=93,P(I.ossUrl||I.url);case 93:e.shareImage=t.sent;case 94:t.next=99;break;case 96:t.prev=96,t.t2=t["catch"](22),uni.showToast({title:"服务器响应失败",icon:"none"});case 99:case"end":return t.stop()}}),t,null,[[22,96],[41,55],[70,83]])})))()},getStoreList:function(){var e=this;return Object(r["a"])(Object(i["a"])().mark((function t(){var a,n,r,s;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$http.post(e.$requestUrl.mmc_vehicle.getStoreList,{size:999999});case 2:return a=t.sent,n=a.data.data.records.map((function(e){return e.xwCode})),t.next=6,e.$http.post(e.$requestUrl.mmc_vehicle.queryMerchantListByCode,n);case 6:if(r=t.sent,!r.data){t.next=12;break}return s=r.data.map((function(e){return{xwCode:e.merchantCode,xwName:e.merchantFullName}})),t.abrupt("return",s);case 12:return t.abrupt("return",[]);case 13:case"end":return t.stop()}}),t)})))()},shareHandleClick:w()(function(){var e=Object(r["a"])(Object(i["a"])().mark((function e(t){var a,n,r,s,c,o,l;return Object(i["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,T(this.shareImage);case 2:this.shareImageTempPath=e.sent,a=t.type,n=t.container,r=t.current,s=t.isBystages,c=t.isPreSell,e.t0=a,e.next="weChat"===e.t0?7:"friend"===e.t0?12:"savePhoto"===e.t0?17:"link"===e.t0?21:27;break;case 7:return this.shareMethod=1,this.shareWechart(n,r,s,c),this.signCount({shareType:1,title:n}),this.buryingPoint("微信好友"),e.abrupt("break",28);case 12:return this.shareMethod=2,this.shareFriend(n,r,s,c),this.signCount({shareType:1,title:n}),this.buryingPoint("朋友圈"),e.abrupt("break",28);case 17:return o=this.chainId+(new Date).getTime(),this.saveImage("",n,r,s,c,o),this.buryingPoint("保存图片"),e.abrupt("break",28);case 21:return this.shareMethod=3,l=this.chainId+(new Date).getTime(),this.copyLink(s,l,c,n),this.signCount({shareType:1,title:n,shareId:l}),this.buryingPoint("复制链接"),e.abrupt("break",28);case 27:return e.abrupt("break",28);case 28:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),500),queryAuthorize:function(){var e=this;return Object(r["a"])(Object(i["a"])().mark((function t(){return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:e;case 1:case"end":return t.stop()}}),t)})))()},signCount:function(){var e=arguments,t=this;return Object(r["a"])(Object(i["a"])().mark((function a(){var r,s,c;return Object(i["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return r=e.length>0&&void 0!==e[0]?e[0]:{},1===r.shareType&&(t.shareMethod&&(r.shareMethod=t.shareMethod),t.sharePage&&(r.sharePage=t.sharePage)),s=uni.getStorageSync(t.currentKey),c=uni.getStorageSync("userInfo"),r=Object(n["a"])({type:["list","more"].includes(t.carType)?"2":"1",shortUrl:t.chainId,storeCode:(s.merchantId||[]).join(","),createPerson:c.accountCode,createPersonName:c.userChName},r),a.prev=5,a.next=8,t.$http.post(t.$requestUrl.mmc_vehicle.signCount,r);case 8:a.sent,a.next=14;break;case 11:a.prev=11,a.t0=a["catch"](5),uni.hideLoading();case 14:case"end":return a.stop()}}),a,null,[[5,11]])})))()},copyLink:function(e,t,a,n){var i=this;uni.setClipboardData({data:i.changeUrl("h5Url",e,a)+"&shareId=".concat(t),success:function(){uni.showToast({title:"复制成功",icon:"none"});var r=i.changeUrl("h5Url",e,a)+"&shareId=".concat(t);this.signCount({title:n,shareId:t,longUrl:r,shareImg:this.shareImageTempPath.img})},fail:function(){uni.showToast({title:"复制失败",icon:"none"})}}),setTimeout((function(){i.close()}),500)},saveImage:function(e,t,a,n,i,r){this.$refs.sharePopupRef.copyRefHandle();var s=["list","more"].includes(this.carType)?"2":"single"==this.carType?"3":"1",c=this.changeUrl("h5Url",n,i)+"&shareId=".concat(r);this.signCount({title:t,type:s,shareId:r,longUrl:c,shareImg:I}),"open"==e?this.$refs.sharePopupRef.saveImgsVx():this.$refs.sharePopupRef.saveImgs()},formatShareData:function(){var e=uni.getStorageSync("userInfo"),t=uni.getStorageSync(this.currentKey),a={};if("storeData"==this.currentKey)a.title=t.storeFullName||"买卖车",a.desc="优质好店，专注二手好车",a.imgUrl=t.storeImage||C;else switch(this.carType){case"more":a.title="".concat(e.userChName,"向您推荐").concat(t.carLength," 辆好车，真实现车，透明车况"),a.desc="想你所想，欢迎你来",a.imgUrl=t.imgList&&t.imgList.length&&t.imgList[0].url?t.imgList[0].url:C;break;case"list":a.title="".concat(e.userChName,"向您推荐").concat(t.carLength," 辆好车，真实现车，透明车况"),a.desc="想你所想，欢迎你来",a.imgUrl=C;break;case"single":a.title=t.brandText,a.desc="发现一台优质好车",a.imgUrl=t&&t.singleCarInfo?t.singleCarInfo.carMainPicUrl:C;break;default:break}return a},changeUrl:function(e,t,a){var n=this[e];return["isBystages","isPreSell"].forEach((function(e){var i="isBystages"===e?t:a,r=new RegExp("".concat(e,"=true")),s=new RegExp("".concat(e,"=false"));n.includes("".concat(e,"=true"))?n=n.replace(r,"".concat(e,"=").concat(i)):n.includes("".concat(e,"=false"))?n=n.replace(s,"".concat(e,"=").concat(i)):n+="&".concat(e,"=").concat(i)})),this[e]=n,n},shareCommon:function(e,t,a,n,s,c,o){var l=this;return Object(r["a"])(Object(i["a"])().mark((function r(){var h,d,u,p,f;return Object(i["a"])().wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(h=l.chainId+(new Date).getTime(),d=l,0!=t){i.next=16;break}return"more"!=d.carType&&"single"!=d.carType||d.$refs.sharePopupRef.copyRefHandle(),i.next=6,U("weixin");case 6:if(u=i.sent,u){i.next=10;break}return uni.showModal({title:"获取服务供应商失败："+JSON.stringify(err),showCancel:!1,confirmText:"知道了"}),i.abrupt("return");case 10:p=["list","more"].includes(d.carType)?"2":"single"==d.carType?"3":"1",f=d.changeUrl("h5Url",a,n)+"&shareId=".concat(h),l.signCount({title:e,type:p,shareId:h,longUrl:f,shareImg:d.shareImageTempPath.img}),uni.share({provider:"weixin",scene:s,type:c,href:f,title:e||"买卖车",imageUrl:o,miniProgram:{id:"gh_d753c5d96825",path:d.changeUrl("shareUrl",a,n)+"&shareId=".concat(h),type:"master"==x.a.env||"pre"==x.a.env?0:2,webUrl:d.changeUrl("h5Url",a,n)+"&shareId=".concat(h)},success:function(e){uni.hideLoading()},fail:function(e){uni.showToast({icon:"none",title:"分享失败"})}}),i.next=17;break;case 16:if(1==t)try{l.saveImage("open",e,t,a,n,h)}catch(r){uni.hideLoading()}case 17:case"end":return i.stop()}}),r)})))()},shareWechart:function(e,t,a,n){var s=this;return Object(r["a"])(Object(i["a"])().mark((function r(){return Object(i["a"])().wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.next=2,s.shareCommon(e,t,a,n,"WXSceneSession",5,s.shareImageTempPath.url);case 2:return i.abrupt("return");case 3:case"end":return i.stop()}}),r)})))()},shareFriend:function(e,t,a,n){var s=this;return Object(r["a"])(Object(i["a"])().mark((function r(){var c,o,l,h,d;return Object(i["a"])().wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(c=s.chainId+(new Date).getTime(),o=s,console.log("============",t),0!=t){i.next=15;break}if("more"!=o.carType&&"single"!=o.carType||o.$refs.sharePopupRef.copyRefHandle(),l=U("weixin"),l){i.next=9;break}return uni.showModal({title:"获取服务供应商失败："+JSON.stringify(err),showCancel:!1,confirmText:"知道了"}),i.abrupt("return");case 9:h=["list","more"].includes(o.carType)?"2":"single"==o.carType?"3":"1",d=o.changeUrl("h5Url",a,n)+"&shareId=".concat(c),s.signCount({title:e,type:h,shareId:c,longUrl:d,shareImg:I}),uni.share({provider:"weixin",scene:"WXSceneTimeline",type:0,href:d,title:e||"买卖车",imageUrl:I,success:function(e){},fail:function(e){uni.showToast({icon:"none",title:"分享失败"})}}),i.next=16;break;case 15:if(1==t)try{s.saveImage("open",e,t,a,n,c)}catch(r){uni.hideLoading()}case 16:case"end":return i.stop()}}),r)})))()},buryingPoint:function(e){var t=uni.getStorageSync(this.currentKey),a={share_type:e};"single"==this.carType?(a=Object(n["a"])(Object(n["a"])({},a),{},{store_name:t.singleCarInfo.xwName,store_type:this.storeType.label,car_status:t.singleCarInfo.vehicleInformationExtendVo.saleStatusText,inventory_status:t.singleCarInfo.vehicleInformationExtendVo.stockText}),this.$Rangers.rangersTrack("car_share",a)):"more"==this.carType?(a=Object(n["a"])(Object(n["a"])({},a),{},{car_amount:t.carIdList.length,stores:t.merchantList.map((function(e){return e.label}))}),this.$Rangers.rangersTrack("cars_share",a)):"list"==this.carType&&(a=Object(n["a"])(Object(n["a"])({},a),{},{stores:t.merchantList.map((function(e){return e.label}))}),this.$Rangers.rangersTrack("carlist_share",a))},getShareStoreType:function(e){var t=this;return this.$http.get("/cartech-store-user/v1/store/".concat(e,"/detail")).then((function(e){var a=e&&e.data&&e.data.data&&e.data.data.type?e.data.data.type:null;t.storeType={label:a?{1:"直营门店",2:"加盟门店",3:"授权门店",4:"合作门店"}[+a]:"",value:a}})).catch((function(e){uni.hideLoading()}))}}},L=j,O=(a("1649"),Object(d["a"])(L,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-uni-view",{staticClass:"mask",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.close.apply(void 0,arguments)}}},[a("share-tab",{ref:"sharePopupRef",attrs:{shareType:e.shareType,shareImage:e.shareImage,shareImageFallback:e.shareImageFallback,tabs:[{id:1,name:"链接"},{id:2,name:"多图"}],closeBtn:!1,currentKey:e.currentKey,h5Url:e.h5Url,text:e.container,carType:e.carType},on:{shareClick:function(t){arguments[0]=t=e.$handleEvent(t),e.shareHandleClick.apply(void 0,arguments)},close:function(t){arguments[0]=t=e.$handleEvent(t),e.close.apply(void 0,arguments)}}})],1)}),[],!1,null,"71d68a03",null,!1,void 0,void 0));t["default"]=O.exports},"3ae5":function(e,t,a){"use strict";a.r(t);var n={name:"KtcImage",props:{src:{type:String,default:""},fallbackSrc:{type:String,default:""}},data:function(){return{isLoadFailed:!1}},methods:{handleImageLoadError:function(e){this.isLoadFailed=!0},handleImageLoaded:function(e){}}},i=n,r=a("f0c5"),s=Object(r["a"])(i,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.isLoadFailed&&e.fallbackSrc?a("v-uni-image",{attrs:{src:e.fallbackSrc}}):a("v-uni-image",{attrs:{src:e.src},on:{load:function(t){arguments[0]=t=e.$handleEvent(t),e.handleImageLoaded.apply(void 0,arguments)},error:function(t){arguments[0]=t=e.$handleEvent(t),e.handleImageLoadError.apply(void 0,arguments)}}})}),[],!1,null,"1551d39e",null,!1,void 0,void 0);t["default"]=s.exports},"3f9b":function(e,t,a){"use strict";var n=a("1d4d"),i=a.n(n);i.a},7159:function(e,t,a){"use strict";a.r(t);var n={jpTabs:a("1a52").default,o2Button:a("d9e27").default},i=(a("99af"),a("4d63"),a("c607"),a("ac1f"),a("2c3e"),a("25f0"),a("466d"),a("5319"),a("2fa4")),r={name:"share-write",props:{carInfo:{type:Object,default:null},h5Url:{type:String,default:""},carType:{type:String,default:""},isBystages:{type:Boolean,default:!1},isPreSell:{type:Boolean,default:!1}},computed:{watchProps:function(){var e=this.h5Url,t=this.isBystages,a=this.isPreSell;return{h5Url:e,isBystages:t,isPreSell:a}}},data:function(){return{singleCarInfo:{},tabData:[],shareUserInfo:{},current:0,dimPrice:!1}},watch:{watchProps:function(e,t){(e.h5Url!=t.h5Url&&e.h5Url&&this.tabData.length||e.isBystages!=t.isBystages||e.isPreSell!=t.isPreSell)&&this.changeContent()}},mounted:function(){var e=this,t=uni.getStorageSync("userInfo");this.shareUserInfo=t,this.singleCarInfo=this.carInfo,this.getTabInfo(),uni.$off("changeContent"),uni.$on("changeContent",(function(){e.changeContent()}))},methods:{changeUrl:function(e,t,a){var n=e;return n=this.updateUrlParam(n,"isBystages",t),n=this.updateUrlParam(n,"isPreSell",a),n},updateUrlParam:function(e,t,a){var n=new RegExp("(".concat(t,"=)[^&]+"));return e.match(n)?e.replace(n,"$1".concat(a)):e+"&".concat(t,"=").concat(a)},getTabInfo:function(){"more"==this.carType?this.tabData=[{title:"标准版",content:"【🚘诚信车商】"+this.merchantName()+"\n【🚗优质车源】"+this.changeUrl(this.h5Url,this.isBystages,this.isPreSell)+"\n【☎️联系方式】"+this.shareUserName()+this.shareUserPhone(),type:"1"},{title:"亲和版",content:"今天为您推荐的车🚗🚗🚗，都是资深评估师检测💁‍♂️，车况一流，外观内饰保养非常好，详情点击："+this.changeUrl(this.h5Url,this.isBystages,this.isPreSell)+"，朋友圈首发哦～先约先得，可以接受分期～联系方式:"+this.shareUserPhone()+this.shareUserName(),type:"2"},{title:"新车到店",content:"——【"+this.merchantName()+"】——\n新车到店🚘，车况精品，欢迎咨询！\n【车辆详情】"+this.changeUrl(this.h5Url,this.isBystages,this.isPreSell)+"\n【联系方式】"+this.shareUserName()+this.shareUserPhone(),type:"3"},{title:"特价推荐",content:"🎉🎉今日特价好车，欢迎咨询，手慢无哦\n【车辆详情】"+this.changeUrl(this.h5Url,this.isBystages,this.isPreSell)+"\n【联系方式】"+this.shareUserPhone(),type:"4"}]:"single"==this.carType&&(this.tabData=[{title:"标准版",content:"【车辆名称】"+this.singleCarName()+"\n【上牌时间】"+this.registerDate()+"\n【行驶里程】"+this.mileage()+"万公里\n【车辆排量】"+this.displacement()+"\n【车辆价格】"+this.singleCarNetworkPrice()+"\n【联系方式】"+this.shareUserPhone()+"\n【车辆详情】"+this.changeUrl(this.h5Url,this.isBystages,this.isPreSell),type:"1"},{title:"简洁版",content:"🔥精品车源🔥\n【"+this.singleCarName()+"】，车龄短，里程低🎉"+this.singleCarNetworkPrice2()+"\n欢迎您进店品鉴🚗\n联系方式：【"+this.shareUserPhone()+" 】",type:"2"},{title:"新车到店",content:"⚡【"+this.singleCarName()+"】🆕到店啦⚡\n外观精美，内饰如新 "+this.singleCarNetworkPrice2()+"\n优质车源，不容错过💥💥💥\n联系方式：【"+this.shareUserPhone()+" 】",type:"3"},{title:"热门好车",content:"【"+this.singleCarName()+"】🥳🥳🥳精品到店\n经过严格检测，车况良好，保养有序🚗 精品别错过❗\n"+this.singleCarNetworkPrice2()+"💥💥💥\n一流的品质，超乎您想象🉑\n欢迎咨询👏：【"+this.shareUserPhone()+" 】",type:"4"}])},getDimTabInfo:function(){"single"==this.carType&&(this.tabData=[{title:"标准版",content:"【车辆名称】"+this.singleCarName()+"\n【上牌时间】"+this.registerDate()+"\n【行驶里程】"+this.mileage()+"万公里\n【车辆排量】"+this.displacement()+"\n【车辆价格】"+this.singleCarNetworkPriceDim()+"\n【联系方式】"+this.shareUserPhone()+"\n【车辆详情】"+this.changeUrl(this.h5Url,this.isBystages,this.isPreSell),type:"1"},{title:"简洁版",content:"🔥精品车源🔥\n【"+this.singleCarName()+"】，车龄短，里程低🎉"+this.singleCarNetworkPriceDim2()+"\n欢迎您进店品鉴🚗\n联系方式：【"+this.shareUserPhone()+" 】",type:"2"},{title:"新车到店",content:"⚡【"+this.singleCarName()+"】🆕到店啦⚡\n外观精美，内饰如新 "+this.singleCarNetworkPriceDim2()+"\n优质车源，不容错过💥💥💥\n联系方式：【"+this.shareUserPhone()+" 】",type:"3"},{title:"热门好车",content:"【"+this.singleCarName()+"】🥳🥳🥳精品到店\n经过严格检测，车况良好，保养有序🚗 精品别错过❗\n"+this.singleCarNetworkPriceDim2()+"💥💥💥\n一流的品质，超乎您想象🉑\n欢迎咨询👏：【"+this.shareUserPhone()+" 】",type:"4"}])},singleCarNetworkPrice:function(){return this.singleCarInfo&&this.singleCarInfo["vehicleInformationExtendVo"]?this.singleCarInfo["vehicleInformationExtendVo"].markedAdjustPriceDisplay?this.singleCarInfo["vehicleInformationExtendVo"].markedAdjustPriceDisplay+"万":this.singleCarInfo["vehicleInformationExtendVo"].markedPriceDisplay?this.singleCarInfo["vehicleInformationExtendVo"].markedPriceDisplay+"万":"未定价":"未定价"},singleCarNetworkPriceDim:function(){var e;return this.singleCarInfo&&this.singleCarInfo["vehicleInformationExtendVo"]?null!==(e=this.singleCarInfo["vehicleInformationExtendVo"])&&void 0!==e&&e.markedAdjustPriceDisplay?Object(i["a"])(this.singleCarInfo["vehicleInformationExtendVo"].markedAdjustPriceDisplay)+"万":this.singleCarInfo["vehicleInformationExtendVo"].markedPriceDisplay?Object(i["a"])(this.singleCarInfo["vehicleInformationExtendVo"].markedPriceDisplay)+"万":"未定价":"未定价"},singleCarName:function(){return this.singleCarInfo&&this.singleCarInfo["brandText"]?this.singleCarInfo["brandText"].replace(/#/g," "):"未知"},changeDimprice:function(e){this.dimPrice=e.target.value,e.target.value.length?this.getDimTabInfo():this.getTabInfo()},changeContent:function(){this.dimPrice.length?this.getDimTabInfo():this.getTabInfo()},registerDate:function(){return this.singleCarInfo&&this.singleCarInfo["registerDate"]?this.singleCarInfo["registerDate"]:"未知"},mileage:function(){return this.singleCarInfo&&this.singleCarInfo["mileage"]?this.singleCarInfo["mileage"]:0},merchantName:function(){return this.singleCarInfo&&this.singleCarInfo["xwName"]?this.singleCarInfo["xwName"]:uni.getStorageSync("carInfo").merchantList?uni.getStorageSync("carInfo").merchantList[0].label:""},displacement:function(){return this.singleCarInfo&&this.singleCarInfo["displacement"]?this.singleCarInfo["displacement"]:"未知"},shareUserPhone:function(){return this.shareUserInfo&&this.shareUserInfo["userPhone"]?" "+this.shareUserInfo["userPhone"]:""},shareUserName:function(){return this.shareUserInfo&&this.shareUserInfo["userChName"]?" "+this.shareUserInfo["userChName"]:""},singleCarNetworkPrice2:function(){var e,t,a,n,i;return this.singleCarInfo&&null!==(e=this.singleCarInfo["vehicleInformationExtendVo"])&&void 0!==e&&e.markedAdjustPriceDisplay?null!==(t=this.singleCarInfo["vehicleInformationExtendVo"])&&void 0!==t&&t.markedAdjustPriceDisplay?"现仅售【"+(null===(n=this.singleCarInfo["vehicleInformationExtendVo"])||void 0===n?void 0:n.markedAdjustPriceDisplay)+"】万元❗":null!==(a=this.singleCarInfo["vehicleInformationExtendVo"])&&void 0!==a&&a.markedPriceDisplay?"现仅售【"+(null===(i=this.singleCarInfo["vehicleInformationExtendVo"])||void 0===i?void 0:i.markedPriceDisplay)+"】万元❗":"":""},singleCarNetworkPriceDim2:function(){var e,t,a,n,r;return this.singleCarInfo&&null!==(e=this.singleCarInfo["vehicleInformationExtendVo"])&&void 0!==e&&e.markedAdjustPriceDisplay?null!==(t=this.singleCarInfo["vehicleInformationExtendVo"])&&void 0!==t&&t.markedAdjustPriceDisplay?"现仅售【"+Object(i["a"])(null===(n=this.singleCarInfo["vehicleInformationExtendVo"])||void 0===n?void 0:n.markedAdjustPriceDisplay)+"】万元❗":null!==(a=this.singleCarInfo["vehicleInformationExtendVo"])&&void 0!==a&&a.markedPriceDisplay?"现仅售【"+Object(i["a"])(null===(r=this.singleCarInfo["vehicleInformationExtendVo"])||void 0===r?void 0:r.markedPriceDisplay)+"】万元❗":"":""},changeTab:function(e){},copyWa:function(){var e=this.tabData[this.current].content;uni.setClipboardData({data:e,success:function(){uni.showToast({title:"复制成功",icon:"none"})},fail:function(){uni.showToast({title:"复制失败",icon:"none"})}})}}},s=r,c=(a("d4b3"),a("f0c5")),o=Object(c["a"])(s,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-uni-view",[a("jp-tabs",{attrs:{field:"title",scroll:!1,tabs:e.tabData,activeStyle:{color:"#000",fontWeight:"500",maxWidth:"80px",justifyContent:"center",fontSize:"14px"},itmStyle:{maxWidth:"80px",fontSize:"14px",justifyContent:"center",color:"rgba(0,0,0,.45)",fontWeight:"400"},lineStyle:{background:"#f8b500",borderRadius:"2px",height:"2px"}},on:{change:function(t){arguments[0]=t=e.$handleEvent(t),e.changeTab.apply(void 0,arguments)}},model:{value:e.current,callback:function(t){e.current=t},expression:"current"}}),a("v-uni-view",{staticClass:"share-write-box"},e._l(e.tabData,(function(t,n){return a("v-uni-view",{key:n,staticClass:"share-write-container"},[n==e.current?a("v-uni-scroll-view",{staticClass:"share-write-text",staticStyle:{"white-space":"nowrap"},attrs:{"scroll-y":!0,"show-scrollbar":!0}},[a("v-uni-textarea",{staticClass:"share-item-text",attrs:{maxlength:"-1"},model:{value:t.content,callback:function(a){e.$set(t,"content",a)},expression:"item.content"}})],1):e._e()],1)})),1),a("v-uni-view",{staticClass:"share-copy-btn"},[a("v-uni-view",["single"==e.carType?a("v-uni-checkbox-group",{on:{change:function(t){arguments[0]=t=e.$handleEvent(t),e.changeDimprice.apply(void 0,arguments)}}},[a("v-uni-view",{staticClass:"radio"},[a("v-uni-checkbox",{staticClass:"dim-price",staticStyle:{transform:"scale(0.7)"},attrs:{value:"1",color:"#EEB83E"}}),e._v("模糊价格")],1)],1):e._e()],1),a("o2-button",{staticStyle:{padding:"3px 10px",color:"rgba(0, 0, 0, .45)",border:"0.5px solid #00000040","border-radius":"4px"},attrs:{label:"复制文案",size:"mini",customClass:"fs12 lh18",plain:!0,type:"123"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.copyWa.apply(void 0,arguments)}}})],1)],1)}),[],!1,null,"1de0c76c",null,!1,n,void 0);t["default"]=o.exports},"7bb9":function(e,t,a){var n=a("d611");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var i=a("4f06").default;i("3cd27a52",n,!0,{sourceMap:!1,shadowMode:!1})},"7d57":function(e,t,a){var n=a("95df");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var i=a("4f06").default;i("5a717b02",n,!0,{sourceMap:!1,shadowMode:!1})},"95df":function(e,t,a){var n=a("24fb");t=n(!1),t.push([e.i,'@charset "UTF-8";\n\n\n/* 行为相关颜色 */.pic-container[data-v-d166a5d6]{width:100%;box-sizing:border-box}.tel-pic-show[data-v-d166a5d6]{width:100%;height:100%;position:relative}.tel-pic-show .loading[data-v-d166a5d6]{position:absolute;top:0;left:0;width:100%;height:100%;background-color:#fff;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center}.tel-pic-show .loading .loading-spinner[data-v-d166a5d6]{border:4px solid rgba(0,0,0,.1);border-left-color:rgba(0,0,0,.36);\n  /* 蓝色为旋转的可见部分 */border-radius:50%;width:30px;height:30px;-webkit-animation:spin-data-v-d166a5d6 1s linear infinite;animation:spin-data-v-d166a5d6 1s linear infinite;position:relative;\n  /* 如果需要，可以调整位置 */display:inline-block\n  /* 允许与文本或其他元素并排显示 */}@-webkit-keyframes spin-data-v-d166a5d6{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}100%{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@keyframes spin-data-v-d166a5d6{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}100%{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}.tel-pic-show .loading .loading-reset[data-v-d166a5d6]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;font-size:14px;-webkit-box-align:center;-webkit-align-items:center;align-items:center;color:rgba(0,0,0,.45)}.tel-pic-show .pic-box[data-v-d166a5d6]{width:100%;height:100%}.tel-pic-show .pic-box .img[data-v-d166a5d6]{display:inline-block;overflow:hidden;background-position:50%;background-size:cover;background-repeat:no-repeat;border-radius:%?16?%}.tel-pic-show .pic-box .img[data-v-d166a5d6]:nth-child(3n+3){margin-right:0!important}',""]),e.exports=t},b798:function(e,t,a){"use strict";var n=a("7d57"),i=a.n(n);i.a},d0f0:function(e,t,a){"use strict";a.r(t);var n={o2Icon:a("51db").default},i=a("2ec1"),r={name:"O2Radio",inject:{RadioGroup:{default:null}},props:{label:{type:String},value:{},trueValue:{default:!0},falseValue:{default:!1},val:{},disabled:{type:Boolean,default:null},iconPositon:{type:String,default:"left"},customClass:{type:String},contentClass:{type:String},iconSize:{type:String},alignItems:{type:String,default:"center"},selectValue:{type:String}},data:function(){var e=Object(i["a"])({context:this});return{model:e}},computed:{targetDisabled:function(){return null!=this.disabled?this.disabled:!(!this.RadioGroup||null==this.RadioGroup.disabled)&&this.RadioGroup.disabled},isActive:function(){return this.RadioGroup?this.RadioGroup.isActive(this):this.trueValue===this.model.value},iconType:function(){var e;return e=this.isActive,e?"icon-CheckCircleFilled":"icon-SelectOutlined"},color:function(){return this.targetDisabled?"#00000040":this.isActive?"":"#BFBFBF"}},methods:{handleClick:function(e){this.targetDisabled||(this.RadioGroup?this.RadioGroup.handleClick(this):this.model.value=this.isActive?this.falseValue:this.trueValue,this.$emit("click",e))}}},s=r,c=(a("3f9b"),a("f0c5")),o=Object(c["a"])(s,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{class:["o2-radio df aic",{"o2-radio-disabled":e.targetDisabled},e.customClass],on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.handleClick.apply(void 0,arguments)}}},[e._t("before"),a("v-uni-view",{staticClass:"df pct100",class:e.contentClass,style:{alignItems:e.alignItems}},["left"===e.iconPositon?a("o2-icon",{style:{"margin-right":"16rpx"},attrs:{size:e.iconSize,icon:e.iconType,color:e.color}}):e._e(),e._t("default",[e._v(e._s(e.label))]),"right"===e.iconPositon?a("o2-icon",{attrs:{size:e.iconSize,icon:e.iconType,color:e.color}}):e._e()],2)],2)}),[],!1,null,"75e143bb",null,!1,n,void 0);t["default"]=o.exports},d4b3:function(e,t,a){"use strict";var n=a("0cefb"),i=a.n(n);i.a},d611:function(e,t,a){var n=a("24fb");t=n(!1),t.push([e.i,'@charset "UTF-8";\n\n\n/* 行为相关颜色 */uni-page-body[data-v-71d68a03]{background:transparent}body.?%PAGE?%[data-v-71d68a03]{background:transparent}.mask[data-v-71d68a03]{position:fixed;left:0;top:0;right:0;bottom:0;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center;background-color:rgba(0,0,0,.4)}',""]),e.exports=t},f5a8:function(e,t,a){var n=a("24fb");t=n(!1),t.push([e.i,'@charset "UTF-8";\n\n\n/* 行为相关颜色 */.share-tab-content[data-v-41f376c2]{width:100%;background-color:#f6f7f9;border-radius:8px 8px 0 0;font-size:16px;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;position:relative}.share-tab-content .list-title[data-v-41f376c2]{font-size:16px;font-weight:500;line-height:22px;margin-top:16px;margin-left:16px;margin-bottom:16px}.share-tab-content .share-tab-container[data-v-41f376c2]{-webkit-box-flex:1;-webkit-flex:1;flex:1;padding:12px}.share-tab-content .share-tab-container .padding-0[data-v-41f376c2]{padding:0}.share-tab-content .share-tab-container .tab-item-0[data-v-41f376c2]{border-radius:8px}.share-tab-content .share-tab-container .share-write[data-v-41f376c2]{margin-top:24px;width:100%;background:#edeff3;border-radius:8px;overflow-y:auto}.share-tab-content .store-title[data-v-41f376c2]{width:100%;height:100%;padding:12px}.share-tab-content .store-title .share-store-card[data-v-41f376c2]{width:100%;height:100%}.share-tab-content .store-title .share-store-card .store-card-edit-title[data-v-41f376c2]{font-size:14px;line-height:22px;color:rgba(0,0,0,.45);display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between}.share-tab-content .store-title .share-store-card .store-card-container[data-v-41f376c2]{margin-top:12px;background-color:#fff;border-radius:8px;padding:12px 8px;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-flex-wrap:nowrap;flex-wrap:nowrap;-webkit-box-align:end;-webkit-align-items:flex-end;align-items:flex-end}.share-tab-content .store-title .share-store-card .store-card-container .card-item-image[data-v-41f376c2]{width:40px;height:40px;margin-right:12px;border-radius:5px}.share-tab-content .store-title .share-store-card .store-card-container .text_field_outer[data-v-41f376c2]{-webkit-box-flex:1;-webkit-flex:1;flex:1;height:40px}.share-tab-content .store-title .share-store-card .store-card-container .card-item-text[data-v-41f376c2]{height:100%;width:unset;-webkit-box-flex:1;-webkit-flex:1;flex:1;font-size:14px;color:rgba(0,0,0,.85)}.share-tab-content .store-title .share-store-card .store-card-container .edit-icon-box[data-v-41f376c2]{width:20px}.share-tab-content .store-title .share-store-card .store-card-container .edit-icon-box .edit-icon[data-v-41f376c2]{width:20px;height:20px}.share-tab-content .store-title .share-store-card .car-card-container[data-v-41f376c2]{width:100%;background-color:#fff;border-radius:8px;margin-top:12px;padding:12px;display:-webkit-box;display:-webkit-flex;display:flex}.share-tab-content .store-title .share-store-card .car-card-container .car-card-text[data-v-41f376c2]{-webkit-box-flex:1;-webkit-flex:1;flex:1;display:-webkit-box;display:-webkit-flex;display:flex}.share-tab-content .store-title .share-store-card .car-card-container .car-card-text .text_field_outer[data-v-41f376c2]{height:100%}.share-tab-content .store-title .share-store-card .car-card-container .car-card-text .card-item-text[data-v-41f376c2]{height:4em;min-height:44px;width:unset;-webkit-box-flex:1;-webkit-flex:1;flex:1;font-size:14px;color:rgba(0,0,0,.85)}.share-tab-content .store-title .share-store-card .car-card-container .car-card-text .edit-icon-box[data-v-41f376c2]{width:20px}.share-tab-content .store-title .share-store-card .car-card-container .car-card-text .edit-icon-box .edit-icon[data-v-41f376c2]{width:20px;height:20px}.share-tab-content .store-title .share-store-card .car-card-container .car-card-logo[data-v-41f376c2]{width:56px;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:end;-webkit-align-items:flex-end;align-items:flex-end;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;margin-top:4px}.share-tab-content .store-title .share-store-card .car-card-container .car-card-logo .app-name[data-v-41f376c2]{color:rgba(0,0,0,.45);font-size:12px}.share-tab-content .store-title .share-store-card .car-card-container .car-card-logo .card-item-image[data-v-41f376c2]{width:56px;height:56px}.share-tab-content .share-tab-close[data-v-41f376c2]{position:absolute;top:0;right:24px;height:%?70?%;z-index:9999;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center}.share-tab-content .share-tab-close .share-close-icon[data-v-41f376c2]{width:18px;height:18px}.share-tab-content .share-tab-close-list[data-v-41f376c2]{position:absolute;top:16px;right:16px;z-index:9999;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center}.share-tab-content .share-tab-close-list .share-close-icon[data-v-41f376c2]{width:22px;height:22px}.share-tab-content .by-stages[data-v-41f376c2]{padding:0 12px;padding-bottom:12px}.share-tab-content .by-stages .bg[data-v-41f376c2]{background:#edeff3;border-radius:8px;padding:12px 12px;margin-bottom:12px}.share-tab-content .share-btns[data-v-41f376c2]{width:100%;padding:24px;padding-top:0;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between}.share-tab-content .share-btns .share-icon-item[data-v-41f376c2]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;font-size:10px;color:rgba(0,0,0,.65)}.share-tab-content .share-btns .text[data-v-41f376c2]{margin-top:6px}.share-tab-content .share-btns .image-item[data-v-41f376c2]{width:40px;height:40px}.share-tab-content .cancel-box[data-v-41f376c2]{width:100%;padding:13px 16px}.share-tab-content .cancel-box .cancel-btn[data-v-41f376c2]{width:100%;padding:7px 0;border:none;background-color:#fff;font-size:14px;line-height:22px}.share-tab-content .share-img-box[data-v-41f376c2]{width:200px;height:200px;padding:12px;padding-bottom:0;border-radius:8px;background-color:#fff;box-shadow:0 0 5px 2px rgba(0,0,0,.06)}',""]),e.exports=t},f7fe:function(e,t,a){(function(t){var a=/^\s+|\s+$/g,n=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,r=/^0o[0-7]+$/i,s=parseInt,c="object"==typeof t&&t&&t.Object===Object&&t,o="object"==typeof self&&self&&self.Object===Object&&self,l=c||o||Function("return this")(),h=Object.prototype,d=h.toString,u=Math.max,p=Math.min,f=function(){return l.Date.now()};function g(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function b(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==d.call(e)}(e))return NaN;if(g(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=g(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(a,"");var c=i.test(e);return c||r.test(e)?s(e.slice(2),c?2:8):n.test(e)?NaN:+e}e.exports=function(e,t,a){var n,i,r,s,c,o,l=0,h=!1,d=!1,m=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function v(t){var a=n,r=i;return n=i=void 0,l=t,s=e.apply(r,a),s}function x(e){return l=e,c=setTimeout(w,t),h?v(e):s}function y(e){var a=e-o,n=e-l;return void 0===o||a>=t||a<0||d&&n>=r}function w(){var e=f();if(y(e))return k(e);c=setTimeout(w,function(e){var a=e-o,n=e-l,i=t-a;return d?p(i,r-n):i}(e))}function k(e){return c=void 0,m&&n?v(e):(n=i=void 0,s)}function C(){var e=f(),a=y(e);if(n=arguments,i=this,o=e,a){if(void 0===c)return x(o);if(d)return c=setTimeout(w,t),v(o)}return void 0===c&&(c=setTimeout(w,t)),s}return t=b(t)||0,g(a)&&(h=!!a.leading,d="maxWait"in a,r=d?u(b(a.maxWait)||0,t):r,m="trailing"in a?!!a.trailing:m),C.cancel=function(){void 0!==c&&clearTimeout(c),l=0,n=o=i=c=void 0},C.flush=function(){return void 0===c?s:k(f())},C}}).call(this,a("c8ba"))}}]);