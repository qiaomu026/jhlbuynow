(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5906a04e"],{"3a83":function(t,s){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAQKADAAQAAAABAAAAQAAAAABGUUKwAAAFF0lEQVR4Ae2ZXWhcRRTHs4kxAbdKlaIihKwWfZNqvliSKPUjkETBhwZaH3zxTX1QX3yTtEVREYWSgt9PBYuhj1sRosaswaQm+tQHbUUpjdIoQe1SNiGb+Du6c5m9udvMvXf2btbOwGXmnJ17/uf858ydj21qcsUx4BhwDDgGHAOOAceAY8AxcE0ykDKNuqura4y+x3n2pFKplc3NzW9oH11cXJw3tbET+zWHcGqCvnukP8HfTDXKM9PT0/O46Bq1GBPAqP8ZEOT1kPHe0NDQDQG/NYTKmACiOQgJn1Iv8hRUdBBw28rKSsNmgfE3QAUsdXd39wECn9R1dW6vMThn8eFkOp1+a3p6et3UnzAZ4Nlsa2v7DGHNU9S/IVPxPp7XC4XCaWrjgY1EwOzs7GUYn6l/3Fs9IPhHydCnt/4SrLkuWG2kzdHrEdUTQmRp/FnJCdc3gbdXwxyi/YEmV21GJqClpSW3vr7+tmb5AnuCbk1OrNnX13cjvvylABmMW1V7uzrSFBCj8/Pz56jOKwBGf182m71DyUnWGxsb+3x4Sz65qhiZgLJFmQZeYRRGPCHBBgQ8p8ORAV/r8tXasQgAqIIAskB2h4kW0v9eAA9ooGvt7e3GS3QsAjKZzFcA65uih4eHh9s0Z2reJOsOA+ItewzK+/l8/ndT4FgETE5Oyl5gSgNLLy8vP6jJNW1yQLsfgCcUCMEX2aO8qmSTOhYBZYCKaYAuyWlwxBfkO+xRfvXprirGJoD5dtqHkMiHkNHvA1cn+wpL82s+X7YVYxMgjJN632tIe3t7e+/W5Fo1K0YfH46zNF8KCxabAAEEvGIasCzpIxPWp237s9Xtp5Ps9lQpsAK9oYQwtS0C/NOgpgQQ7FE9SAbgGLvQP3SdadsKASMjI3It5jmAg4P9/f27TJ0I04/p9Rj996t3CP5vvkNvKjls7a2fYV/09+ej9Am6Mb++1jIEHF5YWBiPimMlAxiVW3DAOxlGdSbsewR/iWzTD2RhTTRZIYCPnmw+dodGj/ECwV8m+EPMfe8UGMVc7ClQ3o19C7gic5O2LItS16JcweiZ1tbWibm5uV/iAkS+D1DAjMQxRkIFL0viCebkU+r3nV57jkdxVE5iBC9r8r+lnJYvKbkR6lgEcBK7Uw8SMk4xJ3/TdTu9HesbwI5MbmK/q2eQZN2P4B9k2unbcWOXYmVAGbSuBDAAcu54xThiX8dYBIgtRuBJnos+u0mLQX/bGfkQawooBNkIMRLPsh+QD6JsihIrkH8O7Bcb7duTGEHbAVnJAB1E7ujJhOcZlSz6DM9ZRunzzs7Od7lCK+l9Tdq27fkxrRLAVMiWSqWTgHRsAUqlzkDKGKl6wf9bNdm2vSCc2B9BZXRgYGA3wZ9C3hK89CH4XqoT4+PjRpi27YkPQcXImaAX/bpisfgyutt9eu/KvKwfzOVyh3x9AkXb9gJBUFojgBEeVCDMeZnrD5Huu2i/oPRS0+8BXa7Wtm2vGo41AgC4RwP5ieC/FJl7+g81vTRNL0xt2/O58Z9ok4AfNIS7OCbvF3l1ddX/X71sXU2KbXuBmLGPw8oqqZ4nbbtEpm6h+gIS5LY2rfpITb8ZXa7Wtm2vGo61DOBi8ggg/pNgRfD8nh8dHf24mjO63rY93bbevub3AZKq1srS0tLFjo6OjzBY5FkljUuS8s3NzROZTOaZqampUIcW2/asBeoMOQYcA44Bx4BjwDHgGHAM/A8Y+AcmaOGWpQW1oQAAAABJRU5ErkJggg=="},"90dc":function(t,s,e){"use strict";e.r(s);var o=function(){var t=this,s=t.$createElement,o=t._self._c||s;return o("div",{staticClass:"reducedPackaging flex-page"},[o("navigation-bar",{attrs:{pageName:0==t.typeVal?"满减优惠专区":"打包促销专区"},on:{onLeftClick:t.goBack}},[t._t("right",[o("div",{staticClass:"rightBar",on:{click:t.goToShopCart}},[o("img",{ref:"cartIcon",staticClass:"shopIcon",attrs:{src:e("3a83"),alt:""}}),o("div",{directives:[{name:"show",rawName:"v-show",value:0!=t.skuTypeNum,expression:"skuTypeNum!=0"}],staticClass:"goodsNum",class:t.skuTypeNum>=100?"goodsNumMax":""},[t._v("\n                    "+t._s(t.skuTypeNum<=99?t.skuTypeNum:"99+")+"\n                ")])])],{slot:"nav-right"})],2),o("div",{staticClass:"activityTitle"},[t._v(t._s(t.activityRule))]),o("div",{ref:"contentScroll",staticClass:"post-wrapper"},[o("div",{staticClass:"goodsList"},t._l(t.goodsList,(function(s,i){return o("div",{key:"goodsItem"+i,staticClass:"goodsItem",on:{click:function(e){return t.goToProduct(s)}}},[o("div",{staticClass:"goodsImg"},[o("img",{attrs:{src:s.spuPicUrl,alt:""}}),o("div",{directives:[{name:"show",rawName:"v-show",value:0==s.storeNumber,expression:"goodsItem.storeNumber==0"}],staticClass:"outSellBox"},[t._v("补货中")]),o("div",{directives:[{name:"show",rawName:"v-show",value:s.storeNumber<=s.threshold&&0!=s.storeNumber,expression:"goodsItem.storeNumber<=goodsItem.threshold&&goodsItem.storeNumber!=0"}],staticClass:"jinshengNum"},[t._v("\n                        仅剩"+t._s(s.storeNumber)+"件\n                    ")])]),o("div",{staticClass:"goodsInfo"},[o("div",{staticClass:"goodsName"},[t._v(t._s(s.spuName))]),o("div",{staticClass:"goodsDesc"},[t._v(t._s(s.spuSalePoint))]),o("div",{staticClass:"goodsSale"},[t._v("月售"+t._s(t._f("threshold")(s.showSale)))]),o("div",{staticClass:"goodsPriceBx"},[o("div",{staticClass:"goodsPriceInfo"},[o("div",{staticClass:"goodsPrice"},[o("div",{staticClass:"goodsPriceIcon"},[t._v("￥")]),o("div",{staticClass:"goodsPriceNum"},[t._v(t._s(t._f("priceFilters")(s.skuPrice)))])]),s.priceLine?o("div",{staticClass:"goodsLinePrice"},[t._v("\n                                ￥"+t._s(t._f("priceFilters")(s.priceLine))+"\n                            ")]):t._e()]),o("div",{staticClass:"addMinusBtn"},[o("div",{staticClass:"clickBox",on:{click:function(e){return e.stopPropagation(),t.addGoodsNum(s,i)}}}),o("div",{directives:[{name:"show",rawName:"v-show",value:0!=s.cartCount,expression:"goodsItem.cartCount!=0"}],staticClass:"cartNumBox"},[o("div",{staticClass:"cartNum"},[t._v(t._s(s.cartCount))])]),o("img",{ref:"addBtn",refInFor:!0,staticClass:"addBtn",attrs:{src:e("d325"),alt:""}})])])])])})),0),o("div",{staticClass:"fixedHeight",style:{height:74+this.$footBarHeight+"px"}})]),o("transition",{on:{"before-enter":t.beforeEnter,enter:t.enter,"after-enter":t.afterEnter}},[o("img",{directives:[{name:"show",rawName:"v-show",value:t.isShowCircle,expression:"isShowCircle"}],staticClass:"circle",attrs:{src:e("d325"),alt:""}})])],1)},i=[],a=e("5c36"),n=e("d399"),r=e("0aa6"),c={name:"reducedPackaging",data:function(){return{skuTypeNum:null,typeVal:0,activityId:"",activityRule:null,goodsList:null,scrollContentTop:null,addBtnIcon:null,addGoodsLoading:!1,isShowCircle:!1}},components:{NavigationBar:r["a"]},filters:{threshold:function(t){return t>=1e4?t/1e4>=10?"9万+":Math.floor(t/1e4)+"万+":t},priceFilters:function(t){return t>=1e4?Math.floor(t/1e4*100)/100+"万":t}},created:function(){},activated:function(){this.$route.params.activityId?(this.goodsList=[],this.activityRule=null,this.$refs.contentScroll.scrollTop=0,this.typeVal=this.$route.params.typeVal,this.activityId=this.$route.params.activityId):this.$refs.contentScroll.scrollTop=this.scrollContentTop,this.getActSpuList(),this.getSkuTypeNum()},methods:{getActSpuList:function(){var t=this,s={actCode:this.activityId,ownerCode:this.$userInfo.OWNER_CODE};Object(a["j"])(s).then((function(s){"0"==s.resultCode&&(t.activityRule=s.data.actRule,t.goodsList=s.data.goodsList)})).catch((function(t){}))},getSkuTypeNum:function(){var t=this,s=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e={ownerCode:this.$userInfo.OWNER_CODE};Object(a["D"])(e).then((function(e){0==e.resultCode&&(s&&Object(n["a"])({message:"添加购物车成功",duration:1e3}),t.skuTypeNum=e.data.skuTypeNum)})).catch((function(t){}))},beforeEnter:function(t){console.log(this.addBtnIcon.getBoundingClientRect()),t.style.left=this.addBtnIcon.getBoundingClientRect().left+"px",t.style.top=this.addBtnIcon.getBoundingClientRect().top+"px",t.style.transform="scale(1)"},enter:function(t,s){t.offsetWidth,t.style.left=this.$refs.cartIcon.getBoundingClientRect().left+"px",t.style.top=this.$refs.cartIcon.getBoundingClientRect().top+"px",t.style.transform="scale(.5)",s()},afterEnter:function(t){this.isShowCircle=!this.isShowCircle},addGoodsNum:function(t,s){var e=this;if(console.log(t),!this.addGoodsLoading&&!this.isShowCircle){this.addBtnIcon=this.$refs.addBtn[s],this.isShowCircle=!0,this.addGoodsLoading=!0;var o={ownerCode:this.$userInfo.OWNER_CODE,spuCode:t.spuCode,skuNo:t.skuNo,shopCode:t.shopCode,activitySpuId:t.activitySpuId,skuCount:1,mark:1};Object(a["a"])(o).then((function(s){"0"==s.resultCode?(Object(n["a"])({message:"添加购物车成功",duration:1e3}),t.cartCount+=1,e.getSkuTypeNum()):"20100"==s.resultCode&&"0"==s.data.result&&e.$toast("您所添加商品超过最大购买量了哦"),e.addGoodsLoading=!1})).catch((function(t){e.addGoodsLoading=!1}))}},goToProduct:function(t){this.$router.push({name:"goodsDetail",params:{spuCode:t.spuCode,goodsUrl:t.spuPicUrl}})},goToShopCart:function(){this.$router.push({name:"shoppingCart",params:{}})},goBack:function(){this.$router.back(-1)}},beforeRouteLeave:function(t,s,e){this.scrollContentTop=this.$refs.contentScroll.scrollTop,e()}},d=c,u=(e("ab3c"),e("2877")),l=Object(u["a"])(d,o,i,!1,null,"631a5359",null);s["default"]=l.exports},ab3c:function(t,s,e){"use strict";var o=e("efba"),i=e.n(o);i.a},d325:function(t,s){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACwAAAAsCAYAAAAehFoBAAAAAXNSR0IArs4c6QAAAthJREFUWAntmT1oFFEQx2fe7kVFsZGAXixTyBV2wTSCaRUEkVS2NgpBsBUkKLaCBBTE1uoQQbC2SHNip3BYpPQSIdhoRLzc7Tj/t+6au+ynuY+3kAfH7b2ZN+93s/N23s5jKthkeXWmx50lDugqkTREuM5MdRE5UdCEVWPmHRHaZJZNIm6LoTe+zL3j5mq3iB3OU5Ll26f7Qfc+Md9QuJN5+v8j1z/xnUReembmATeffs2ykQosKytHelu/7qnCXfXI8Swjo5LpHfspRI/9M8ce8dra7yS7icDwai/Yfa23fjFp0Pj7uOWb2rUkb+8Dluu3zvep91ZIzo4fLH0GJv7iGb7Mzeef9moNAIfxuvth2rARYAhdW9jraRMJbcxqGLgCCy6wIDTBFnHGwFhg04vZCCfpWxZDtlBmQ8KGgnQ3JvU0SMLK6sPTw+OZeYSG9TCes67C4o+AzeYCvWZksL50tseVFLI8V0aG5OLx3KyPdEvB6DKYuXOTzMULliVYf0/BkxdluFJ14dCe6SyZcG+QqueUAKwaw9JwiioTRhoGu65MHYeEYDXYIjrElIkCVvVwuf1spsUxC8EaZ7oxzzUy84fAI3NliiE/pT+xG0khr/G5+VgF10XGlEku5YD/ZrCYKOeCZ08RPnmtDHDlYriUh7E3yGsIg8irsv2N5PNG3pBS8nLABTYyiNkYWGHL3O4i5JULiUPgIrf1IDq6+eGdgxiY5Fh9Af2hmx/Solw1mhBvqYdRRaxGA6suOm5XAxeU3Daoz1YFGKyVe803tvKtxWTnvayMYLWJw1a+tRzkKrQtVWl1HnwWGDUrVL5dBQZbVHK1wABFmV5XYcs9aK3GW7aQrLoFbfDD7R75V1D5nran/x0ZDJ4qxSERAfKrZx89U1uYbnhwCwzD5xtg3AeMTnjarx+9REwPsULRN4lm59I5MXe0yIbnHYjhYSF+V+ZgcRjelaPbP90SOb6Xk90VAAAAAElFTkSuQmCC"},efba:function(t,s,e){}}]);
//# sourceMappingURL=chunk-5906a04e.f6db9973.js.map