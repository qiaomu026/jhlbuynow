(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-10d8271f"],{"02db":function(t,n,o){"use strict";o.d(n,"j",(function(){return c})),o.d(n,"d",(function(){return i})),o.d(n,"i",(function(){return s})),o.d(n,"b",(function(){return a})),o.d(n,"e",(function(){return u})),o.d(n,"h",(function(){return f})),o.d(n,"a",(function(){return l})),o.d(n,"g",(function(){return d})),o.d(n,"f",(function(){return m})),o.d(n,"c",(function(){return r})),o.d(n,"k",(function(){return h}));var e=o("ba6a"),c=function(t){return new Promise((function(n,o){e["a"].post("xwj-point-lottery/promotion/selectConsumed",{areaCode:t},!0).then((function(t){n(t)})).catch((function(t){o(t)}))}))},i=function(t){return new Promise((function(n,o){e["a"].post("xwj-commerce-goods/goods/modifySkuInfo",t,!1).then((function(t){n(t)})).catch((function(t){o(t)}))}))},r=function(t){return new Promise((function(n,o){e["a"].post("xwj-point-rule/pointrule/getUseLimit",t,!0).then((function(t){"200"==t.code?n(t):o(t.msg)})).catch((function(t){o(t)}))}))},s=function(t){return new Promise((function(n,o){e["a"].post("xwj-commerce-sale/address/quickAddRecAddr",t,!1).then((function(t){console.log(t),n(t)})).catch((function(t){o(t)}))}))},a=function(t){return new Promise((function(n,o){e["a"].post("xwj-commerce-sale/order/createOrder",t,!1).then((function(t){console.log(t),n(t)})).catch((function(t){o(t)}))}))},u=function(t){return new Promise((function(n,o){e["a"].post("xwj-commerce-sale/address/orderConfirm",t,!1).then((function(t){console.log(t),n(t)})).catch((function(t){o(t)}))}))},f=function(t){return new Promise((function(n,o){e["a"].post("xwj-commerce-coupon/coupon/queryUsefulList",t,!1).then((function(t){console.log(t),"0"==t.resultCode?n(t):o(t.msg)})).catch((function(t){o(t)}))}))},l=function(t){return new Promise((function(n,o){e["a"].post("xwj-commerce-sale/address/changeRecAddr",t,!1).then((function(t){console.log(t),n(t)})).catch((function(t){o(t)}))}))},d=function(t){return new Promise((function(n,o){e["a"].post("xwj-commerce-sale/order/prepareToPayOrder",t,!1).then((function(t){console.log(t),"0"==t.resultCode?n(t):o(t.msg)})).catch((function(t){o(t)}))}))},m=function(t){return new Promise((function(n,o){console.log(t),e["a"].get("xwj-commerce-sale/myOrder/orderDetail",t).then((function(t){"0"==t.resultCode?n(t):o(t.msg)})).catch((function(t){o(t)}))}))},h=function(t){return new Promise((function(n,o){e["a"].post("xwj-commerce-sale/unionPayPrepare/unionOrderPrepay",t,!1).then((function(t){n(t)})).catch((function(t){o(t)}))}))}},"2beb":function(t,n,o){"use strict";o.r(n);var e=function(){var t=this,n=t.$createElement,o=t._self._c||n;return o("div",{staticClass:"paySuccess"},[o("navigation-bar",{attrs:{pageName:"支付成功"},on:{onLeftClick:t.goBack}}),o("div",{staticClass:"headerColor"},[t._m(0),o("div",{staticClass:"content"},[o("div",{staticClass:"contentSecond"},[o("span",{staticClass:"moneyIcon"},[t._v("￥")]),o("span",{staticClass:"moneyNum"},[t._v(t._s(t.orderDetail.realPayTotal))])]),o("div",{staticClass:"contentThird"},[t.orderDetail.pointIncome>0?o("span",[t._v("恭喜获得"),o("span",[t._v(t._s(t.orderDetail.pointIncome))]),t._v("积分！")]):t._e(),0==t.awardShow?o("span",{staticStyle:{color:"#CE9D6A","text-decoration":"underline"},on:{click:function(n){return t.goToActivity()}}},[t._v("点此参与大转盘活动")]):t._e()])]),o("div",{staticClass:"finishDiv"},[o("div",{staticClass:"finishButton",on:{click:function(n){return t.finishCommit()}}},[t._v("回到首页")]),o("div",{staticClass:"finishButton seeOrder",on:{click:function(n){return t.seeOrder()}}},[t._v("查看订单")])])])],1)},c=[function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"headImg"},[e("img",{attrs:{src:o("5476")}})])}],i=o("2f62"),r=o("02db"),s=o("0aa6"),a={name:"paySuccess",components:{NavigationBar:s["a"]},data:function(){return{orderDetail:{},promotion:{},awardShow:1,fromFlag:!1}},mounted:function(){},activated:function(){this.orderDetail=this.$route.params.orderData,this.getOrderDetail(),this.getAreaActivity()},beforeRouteEnter:function(t,n,o){o((function(t){"/orderPayNew"==n.path&&(t.fromFlag=!0)}))},computed:Object(i["c"])({paysuccessEventBackButtonFlag:function(t){return t.goBack.paysuccessEventBackButtonFlag}}),watch:{paysuccessEventBackButtonFlag:function(t){console.log("paysuccessEventBackButtonFlag"),t&&(console.log("eventBackButtonFlagpyesuccess"),this.$store.dispatch("setPaysuccessEventBackButtonFlag",!1),this.goBack())}},methods:{seeOrder:function(){this.$router.push({name:"myOrderList",query:{flag:10,ifPayReturn:!0}})},finishCommit:function(){this.$router.push({name:"productPage"})},goToActivity:function(){this.$router.push({path:"/pointActivity",query:{promotionId:this.promotion.promotionId,title:this.promotion.promotionName,pointConsumed:this.promotion.pointConsumed}})},getAreaActivity:function(){var t=this;Object(r["j"])(this.$userInfo.AREA_CODE).then((function(n){t.awardShow=n.delFlag,t.promotion=n})).catch((function(t){}))},getOrderDetail:function(){var t=this,n={billNo:this.orderDetail.billNo,ownerCode:this.$userInfo.OWNER_CODE};Object(r["f"])(n).then((function(n){"0"==n.resultCode&&(console.log("支付页查看订单状态"+JSON.stringify(n)),t.orderDetail=n.data)})).catch((function(t){}))},goBack:function(){console.log("paysuccessback"),console.log(this.fromFlag),this.fromFlag?(this.fromFlag=!1,this.$router.go(-2)):this.$router.back()}}},u=a,f=(o("6730"),o("2877")),l=Object(f["a"])(u,e,c,!1,null,null,null);n["default"]=l.exports},5476:function(t,n,o){t.exports=o.p+"img/img_payment_successful.4c0ccdde.png"},6730:function(t,n,o){"use strict";var e=o("f0d7"),c=o.n(e);c.a},f0d7:function(t,n,o){}}]);
//# sourceMappingURL=chunk-10d8271f.2d1fdfc2.js.map