(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3bc8a3e2"],{"0c92":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAPKADAAQAAAABAAAAPAAAAACL3+lcAAAD+klEQVRoBe2bPWgUQRTH5+3epbKxk4ASUqTQVlBBrSwEiYWJidgJOcFCokVs7U2hwcLixFJiElNEBAsrFVSw1cIiKMKZziJW3m2e7z+bXWZzm7v9uLvsxw0ctzs7+/b95s3n3v9IpUjMTOpa7VTLoUvEPK5IjUrWKOlvPpTCtJhS26zoNxE3FKsGE21WbH6tluufSTKT2ha78VNzpnaBHL4qXl1mVkfiW0h+h1TmllTABtu0Wl2pv41rKRYwz86dlmg+UMzn4j6oL+WJ3kvU79GLp5+i2o8EzNdvjTv/mosSzStRDQ+ynER93R6pLtDzJ5vdntsVWDffHbUi/fVwN2MHeV369R+21Ey3Zm51ctKZrt2mHX6TdVgwwEf4Cp87Me0b4eZU7ZGYme90c3av0VL1Zf1OmH+hEXZrKa+wwOT5/SLdFmG3z6IZKzushvKSJwOZwxZd3NunA8DuaNz6koc+G6XiMZDZI5WT5ugdaNLu1JPt0TgKqFcGgQOTd45vP8J6UdFSH82LRTmuVNQZb3HiR1hWUIGaKAosOEw2DYyBSiays0WCDLAIm2aUTA1MO2omUKCAJ3qzA2Dp2NKPeXIQjHRiQlXW6oGPOj4xiEdjtJKdHZOF/eygt3iDIQw+RTMKq4XNe/BScc/Aauk3FcVlDJCB1ZK2PRrILfKJsMqgRaUBBquFF25FDqrJBlZMS6neLpoGs34MVn9pmXVne+XfELhXNZlVO6WLcCVNJLA2jpXGjrUVp7Gjxq687XJoBn/9HpofJZOaU3OJf6fBRuAgUmu6lvixpWvSQ+DEbSUnN6YatJz7MV+DyaBl35gNVI3zbFmpn78Cef08SQUcd7T0X5EaRPxDYL8lH3UNU5EOh304UjXluNAwwjkOXiTXLRlItiOVLEAhsFqQBhWAJRICWOUVj+igSpLAakH0VRJe+YFFNSwo3MoCDFZLy/lKQgxWy9Uuipyv4Ele0W6BtQKhZmtqbkN4b/abGWvvNJv3VP6JPhOseqUFoWYqYzm42WP0NzDN6dq7zIhGe12BIkKtrtXPw6y/loYqtdfPyYo9k80HhspFOvZ6VpzslR9g8hQ8sOkD40RLcEXMheMiJFeYVl0wWQLAUKxBgiu14piF8ngMBs2yR0MdAAYYtImk6G4eIU2fwbBXZ4nrbcDItNfqj+XngCUc5zPRksvQ7r0/LbVfUgoSXFb8MC/KWjRjRHY/WDB2BEaBUv0FAMDoB1qCm+EpC1MPfAzrs2AwU9cIm4V3/8azmBldJtEHWVQsmPOs6W/YcSxgz8BuMxd9Jk8OWsUn0ZSdHb2SKWclSkQ9n73vRMDezVqn2a+/4hH9lcps6FdQPfwr3n/p83yZPznn3wAAAABJRU5ErkJggg=="},"4e2e":function(t,e){t.exports="data:image/png;base64,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"},5206:function(t,e,s){"use strict";var o=s("d0fa"),i=s.n(o);i.a},"844d":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAPKADAAQAAAABAAAAPAAAAACL3+lcAAAEBUlEQVRoBe1aSWgUQRT9v6rHqIiCiIIeBMWLSkBRXHBB8KAnF8SYEVxAlEwwiARcQFS8uCDukyAqUbONePAm4nYQUVEvLqgHT2I0QlyCKJju/v6KB5sYyK+ennSEKghUV/96779X1dNVlQZwxTngHHAOOAecA84B54BzwDngHHAOOAf+dQD/bbJroTXVs3ygpQjhXAIcy4BjGUEDQQchdfD1C0C8rzXcw8a6N72hU7ZmUhD6CwBoIRFN4T6jOI7/MCSENgRqI1QPPcTr0HT6HiJSbziSttiC/cqq5RTSHiaZLiHqjkF8qgDOKe01gyoLgq4fWQKqAqJpFhgvEfCA15oviPtEAq0FUy43LOgI69nitREcqyqPUCeLJMYYYdUxEowIV/XwEZvw7KFvkeY+q1aCafO+oX5n+w1Odl6fyP0RgPjIG4mLMZ//LqXjGSYvQefHiwNGrEmbaFbwOWyUKwAQC/Yrcit5Dq6yAe+PWM5pmV9ZvVrKJRbMPy77paD9HUdhsFfKKRJMlTl+ZmmqFDSFuMmUrebXWt9FJNgnWto3VLoRfhgukWQgEswv/rkSsDRjOMc5En6RYF41TZCApRojzFEmGHBkqmJE5LIchYIhI+JMN0iUo0wwwqd0tQjYhTmKBPOad8AL5nVCu8AW2UqLF9yvJGBpxvAO6rWEXzTCoPCmBCzVGGGOIsE6VLdSFSMg12qQaFBEgrH1dBvvP28LeFMJ4f31HWw8/kFCLhLcDUR4VAKYRgwhHpHyig8A+HwC/TW5ZwNwE/E8U6gvlwoWj3D3wZnGGilwv8Up2GbDJRZsQDPN+buI6oINQSljeRDOZ1rq79hwWAk2wFpRLT8H721IShFrctCDy2ptsa0FY3PdF61xGb/of9qSJRVvuLWnVmDD8a+2mNaCDQGLfsqH6xttyZKI55ElUGoDNuUfx8GLJdgQmYNw7rwrDmkxfVjwbq/lzJW4GLEFG0JdqD+olNoRl9y2n0LcaTht+0Xj2bDiS1BRtT0EKunCRIHapgv5E8Vmm4hgk4Sfza2DgM7yNq2s2KSi/TnBX4BqCz9CDdH2uPXEBJsEaG3V7CCga3w4PiZuQtF+/Gv8USu1ElvOPIi2F1Mv6hnuSYxNdQ81qJmA8KTnPftrfKzLBs9IUqzJIVHBBhBb8++84dPMse5hXgmFps2m8JTjAxZ11BvtzcdLxxJf4CQ6pXsK68rmFmEQXmYF43re6+2aDXpHCtebJWxv95NoS3yEo0mZxPWwIeXsatOfkYve/VvnewHvtxt4qVheSrGGsaQj/FcSz9OKrRN97KpmygX8X4LxPHEz/DkDfwLBnzKQPomFU2+j8a7uHHAOOAecA84B54BzwDnwvznwG3JPBZ4Le24+AAAAAElFTkSuQmCC"},b9b4:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACoAAAAqCAYAAADFw8lbAAAAAXNSR0IArs4c6QAABFZJREFUWAnVme+LlFUUx7/nzsiuuuuvtGQLsjZ/LVEvLPpFEZRJJVauWaCSgfYqgv6C6FXRiyjSF+HGEhiVEdFShlHUG1+EYUWBwm6uYRiWmJnkrDvPPZ1zZ8dmdp4f995ddbowPPPce358nvPcc+feM4Scxpu2XWMreISJHmZGLxF6mLkrR8V7iIjOis3jYvNnYv7UdOJjemfg1ywDlDbATz7bk1QrL8rY02KslCYz3X0CnIjNwVK58wV6b8fxyfZbQKuPb18Hy7sZ6J4sfCnuBehvGNpc/mDXUKM/03iT9D/zHBgfXS5IZXG+hcGxNMBdiKiLpEIyN8E3yF7SrzKHLQiP1SPrQN2cHK8cvpyRTIuCToPSjM4VOmdd9DRx2g1SwZVpIqlBugQlYzg6XdlttmyA3SN5MHY+LUjBfboalDqwxLh1crqWoKXXgdY9APPog8FAWQoaQGU0uphnCYX2l7Y+AUkCgV0NLJgfqp4pr4xGiHszJQIG6K5bQctrpqijA2bT+gDtfFFlNBKAnnwxj9EZZZjN/U2CdM9tQO+Spr7YG2WUiE79t5vWrgYtuqKJQ6dAaevGpr7YG2Wc+uI+txtm/UOpDLRyKej2ValjoZ1TA+2aDfPURtDMzky/ZotMicWLMsd9B2i8f5usq57tyoVwUVpxg7vi6sUuy320+c+/wIeHwYdG5DoCHD0GWOuj6mTyQY0Brbm3BrdS4ObP8zZcJMjnKuDhIzXwr/YDJ0/lquS/enlimtMFc+ct0wqpRDpdzE19MDf3AafP5ELqYD6oCNj3h2D3Hyg0FCPAv59E8spOoFotVC8EVQt25yB4ZLTQWIiAvvrkpTeAM2e91LxAcX4cycs7wAXzyMujCHFiYV99EzjWcuLINOEHquoyjxxsZSzTmO+AfXsP+LuffMWdnD+oisuSYl8fAAcsK5Np7L6vwXu/nNxdeB8GKub4wPdgcRbT+LcTsG+9G6NanPWpVj2yNFXPym9L5NsIjqgDmDsnlaOwc16knhiOA410SLNnAeW4ekYUKMVGVEMeqRsFipyIcqKVmZyWo5ujhXLeYOqYbIjR3Von4xN/wH7yBVg2GNS3TM5Na2BuXN5iQt+GpFRwK9eqagG7fNmkkOyq6o2HR2GH9oG/OSgZXUPggz9CP/b6a2HkVEp3rAKVJuZmRESVsSwHJ/0dW1Z3XHgVR3I0AH/7gwB+DhwazlY58gvsa7uA3R/CrL0fdN/dUXNUGam6Yftecex/EF8ge1I5ZUIW7+A2ayZw1UJgVDbNAU0i+pnRImqADnDqdBykOvnnXDCkqrlCr6v01oqo2td2TXI3UUYzUY4ebDvC/4AGldGlrytHa6W3zZorO0qpXLEcqKuZSzlaJq3/sfAiP5RjUaaJev6FBVEru8T0fDvAKoOy1KvNGhNXcW4Mzv/izwYF1qdw5WjCgGZc40NczO/qSz4D6rsxknWfLRGtD+i1nf4Q+xdwo4d79CIadQAAAABJRU5ErkJggg=="},d0fa:function(t,e,s){},ebce:function(t,e,s){"use strict";s("28a5"),s("4917"),s("a481");var o=s("2241"),i=s("5863"),n=s("2f62"),a=s("e036"),r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("van-count-down",{attrs:{time:t.timeBox},on:{finish:t.countDownFinish},scopedSlots:t._u([{key:"default",fn:function(e){return[s("span",{staticClass:"item",style:{background:"#C97D00"}},[t._v(t._s(e.hours))]),s("span",{style:{color:"#FFFFFF"}},[t._v(":")]),s("span",{staticClass:"item",style:{background:"#C97D00"}},[t._v(t._s(e.minutes))]),s("span",{style:{color:"#FFFFFF"}},[t._v(":")]),s("span",{staticClass:"item",style:{background:"#C97D00"}},[t._v(t._s(e.seconds))])]}}])})],1)},l=[],c={name:"detailCountdown",props:["timeBox"],data:{returun:{interValTime:null}},methods:{countDownFinish:function(){console.log("走到了这里！！"),this.$parent.flashSaleDetail()}},mounted:function(){var t=this,e=this.timeBox;this.interValTime=setInterval((function(){e-=1e3,3e5==e&&t.countDownFinish()}),1e3)},destroyed:function(){clearInterval(this.interValTime)}},A=c,h=(s("5206"),s("2877")),u=Object(h["a"])(A,r,l,!1,null,"5836e6e2",null),f=u.exports,d=s("5d2d");s.d(e,"a",(function(){return g}));var g={name:"flashSaleGoods",data:function(){return{lists:{spuPicUrlList:[]},flashSaleData:{},shopInfo:{},skuList:[],skuNum:[],collectCode:[],cutOffTimeStr:[],goodsNum:0,icon:{collection:s("6a9a"),afterCollectionBg:s("4e2e"),collectionBg:s("ebdc"),afterCollection:s("844d"),shoppingCartBg:s("fedd"),shoppingCart:s("1094"),arrowBg:s("f295"),arrow:s("8d7d"),share:s("f6a1"),topClick:s("f21d"),callShop:s("f707"),shop:s("9335"),evaluate:s("d3b8"),like:s("b9b4"),noLike:s("4783"),defaultXWJPic:s("8eda"),noNetworkImg:s("6508"),shareChart:s("9430"),shareFriends:s("016c")},show:{normalTitle:!0,activeTitle:!1,titShow:0,weChartShare:!1,callShop:!1,firstEvaluate:!0,showDialog:!1,goodsDown:!1,saleOut:!1,remindSale:!1,bannerChangeBool:!1,networkError:!0,afterCollect:!1,beforeCollect:!0},evalInfo:[],num:1,detailDescribe:[],ownerPicUrl:s("cf9f"),time:1e3,activitySpuId:this.$route.query.activitySpuId,status:-1,remind:"开抢时提醒我",isShowTopBtn:!1,setTopHeight:{"padding-top":this.$stbHeight+"px"},images:[],productImgs:[],hasStoragePermission:!1,isShowPreview:!1,isShowPlaceHolder:!1}},components:{Preview:a["a"],detailCountDown:f},methods:{goTopBtn:function(){this.$refs.goodsPageScroll.scrollTop=0},bannerChange:function(){var t=this;this.show.bannerChangeBool=!0,setTimeout((function(){t.show.bannerChangeBool=!1}),500)},productImgDownload:function(){var t=0,e=this;this.lists.spuPicUrlList.map((function(s,o){var i=new Image;i.onload=function(){t+=1,console.log("商品详情图片"+t),console.log(e.lists.spuPicUrlList.length+"==========="+t),e.lists.spuPicUrlList.length==t&&(console.log("==========="+t),e.productImgs=e.lists.spuPicUrlList)},i.src=e.lists.spuPicUrlList[o]}))},bannerPreview:function(t,e){var s=this;this.show.bannerChangeBool||(this.images=t,this.isShowPreview=!0,this.$nextTick((function(){s.$refs.myPreview.setIndex(e),s.$refs.myPreview.setIsShowPreview(!0),s.$store.dispatch("setPreviewId",s.$refs.myPreview)})))},preview:function(t,e){var s=this,o=[];t.map((function(t){o.push(t.picUrl)})),this.images=o,this.isShowPreview=!0,this.$nextTick((function(){s.$refs.myPreview.setIndex(e),s.$refs.myPreview.setIsShowPreview(!0),s.$store.dispatch("setPreviewId",s.$refs.myPreview)}))},init:function(){var t=this,e={spuCode:this.spuCode};Object(i["l"])(e).then((function(e){if("0"==e.resultCode){t.lists=e.data,t.lists.cutOffTimeStr&&t.lists.cutOffTimeStr.indexOf("<br/>")&&(t.lists.cutOffTimeStr=t.lists.cutOffTimeStr.replace(/<br\/>/g,"\n")),t.productImgDownload(),t.show.networkError=!1,t.skuList=e.data.skuList[0],t.evalInfo=e.data.evalInfo;var s=e.data.evalInfo;null==s?t.show.firstEvaluate=!1:(console.log("有第一条评价"),t.show.firstEvaluate=!0),t.getShopInfo(t.lists.shopCode)}else o["a"].alert({message:e.msg}).then((function(){t.$router.go(-1)}))}))},getShopInfo:function(t){var e=this;console.log("店铺详情==========>");var s={shopCode:t};Object(i["m"])(s).then((function(t){e.shopInfo=t.data}))},flashSaleDetail:function(){var t=this,e={activitySpuId:this.activitySpuId,ownerCode:this.$userInfo.OWNER_CODE};Object(i["i"])(e).then((function(e){console.log("提醒业主"+JSON.stringify(e)),t.status=e.data.spuStatus,t.flashSaleData=e.data,0==t.status?(t.flashSaleData.time=1e3*(e.data.startTime-e.data.nowTime),console.log("获取到的时间"+t.flashSaleData.time),t.remind=0==e.data.isSubsribe?"开抢时提醒我":"取消订阅"):(t.flashSaleData.time=1e3*(e.data.endTime-e.data.nowTime),console.log(1111111111+t.time)),console.log(1111111111+t.flashSaleData.spuSkPrice)})).catch((function(e){t.show.networkError=!0,t.$toast("网络异常，请稍后重试"),t.productImgs=[t.icon.defaultXWJPic]}))},toBuy:function(){var t=this;this.activitySpuId,this.goodsNum;if(1==this.status)if(console.log("是否绑定房间"+this.$userInfo.ROOM_CODE),this.$userInfo.ROOM_CODE){var e=[];e.push({shopName:this.lists.shopName,shopCode:this.lists.shopCode,shopTotal:this.goodsNum*this.lists.skuList[0].skuPrice,skuList:[{spuCode:this.lists.skuList.spuCode,spuName:this.lists.skuList.spuName,skuNo:this.lists.skuList[0].skuNo,attrValueContent:this.lists.skuList[0].attrValueContent,skuPrice:this.flashSaleData.skuPrice,skuCount:this.goodsNum,skuDelivery:0,skuTotal:this.goodsNum*this.lists.skuList[0].skuPrice,skuPicUrl:this.lists.skuPicUrl,activitySpuId:this.activitySpuId}]});var s={orderSource:"2",goodsList:e,num:100*Math.random()};console.log("跳转传参："+JSON.stringify(s)),this.$router.push({name:"orderPayNew",params:{goodsData:s}})}else o["a"].confirm({message:"您未绑定房间，是否前往绑定？",confirmButtonText:"前往"}).then((function(){t.$router.push("selectArea")})).catch((function(){}))},handleScroll:function(){var t=this,e=this;e.$nextTick((function(){var s=e.$refs.goodsPageScroll.scrollTop,o=e.$refs.titChange.offsetTop-60,i=e.$refs.detailChange.offsetTop-60;s>t.$stbHeight?(e.show.activeTitle=!0,e.show.normalTitle=!1,e.show.titShow=s>=i?2:s>=o?1:0,e.isShowTopBtn=!0):(e.show.activeTitle=!1,e.show.normalTitle=!0,e.isShowTopBtn=!1)}))},toShop:function(){this.ifNetworkError?this.$toast("网络异常，请稍后重试"):this.$router.push({name:"shopPage",params:{shopCode:this.lists.shopCode}})},showMoreEval:function(){console.log("商品编码"+this.lists.spuCode),this.$router.push({name:"evaluateList",params:{spuCode:this.lists.spuCode}})},goodsChange:function(){this.$refs.goodsPageScroll.scrollTop=0},titChange:function(){var t=this.$refs.titChange.offsetTop-60;this.$refs.goodsPageScroll.scrollTop=t},detailChange:function(){var t=this.$refs.detailChange.offsetTop-60;this.$refs.goodsPageScroll.scrollTop=t,this.$refs.goodsPageScroll.scrollTop!=t&&this.$toast("详情已全部展示完")},wechartShare:function(){this.show.weChartShare=!0},onCancel:function(){this.show.weChartShare=!1},shareAction:function(t){var e=this;this.hasStoragePermission?this.shareToFriend(t):o["a"].confirm({message:"请您打开存储权限，以正常使用分享功能"}).then((function(){e.requestStoragePermissions(t)})).catch((function(){}))},shareToFriend:function(t){var e=this,s={ownerCode:this.$userInfo.OWNER_CODE,areaCode:this.$userInfo.AREA_CODE,shareTo:1,activitySpuId:this.activitySpuId};Object(i["k"])(s).then((function(s){if("0"==s.resultCode){e.show.weChartShare=!1;var o=s.data;Wechat.share({message:{title:e.lists.spuName,description:null==e.lists.spuSalePoint?"更多精彩，尽在信我家":e.lists.spuSalePoint,thumb:e.lists.skuList[0].skuPicUrl,media:{type:Wechat.Type.WEBPAGE,webpageUrl:o}},scene:1==t?Wechat.Scene.SESSION:Wechat.Scene.TIMELINE},(function(){}),(function(t){e.$toast(t)}))}else e.$toast("分享失败，请稍后重试")}))},checkStoragePermissions:function(t){var e=navigator.userAgent,s=!!e.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),o=this;if(s)this.hasStoragePermission=!0,this.shareAction(t);else{var i="android.permission.WRITE_EXTERNAL_STORAGE",n=cordova.plugins.permissions;n.checkPermission(i,(function(e){e.hasPermission?(o.hasStoragePermission=!0,o.shareAction(t)):(o.hasStoragePermission=!1,o.shareAction(t))}),(function(){o.hasStoragePermission=!1,o.shareAction(t)}))}},requestStoragePermissions:function(t){var e=navigator.userAgent,s=!!e.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),o=this;if(s)this.hasStoragePermission=!0,this.shareAction(t);else{var i=["android.permission.WRITE_EXTERNAL_STORAGE"],n=cordova.plugins.permissions;n.requestPermissions(i,(function(e){e.hasPermission?(o.hasStoragePermission=!0,o.shareAction(t)):o.hasStoragePermission=!1}),(function(){o.hasStoragePermission=!1}))}},callShop:function(){var t=this,e=navigator.userAgent,s=!!e.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/);if(s){var i=this;setTimeout((function(){window.location.href="tel:"+i.lists.shopTel}),0)}else o["a"].confirm({message:this.lists.shopTel}).then((function(){window.location.href="tel:"+t.lists.shopTel})).catch((function(){o["a"].close}))},addCollection:function(){var t=this,e={collectType:"01",contentCode:t.lists.spuCode,userCode:t.$userInfo.OWNER_CODE},s={collectCodes:[t.collectCode]};""==t.collectCode?Object(i["c"])(e).then((function(e){t.collectCode=e.data.collectCode,t.$toast("添加收藏成功"),t.show.afterCollect=!0,t.show.beforeCollect=!1})).catch((function(e){t.$toast("网络异常，请稍后重试")})):""!=t.collectCode&&Object(i["e"])(s).then((function(e){t.collectCode="",t.$toast("取消收藏成功"),t.show.afterCollect=!1,t.show.beforeCollect=!0})).catch((function(e){t.$toast("网络异常，请稍后重试")}))},ifCollection:function(){var t=this,e={collectType:"01",userCode:t.$userInfo.OWNER_CODE,contentCode:this.spuCode};Object(i["o"])(e).then((function(e){var s=e.data.list;s.length>0?(t.show.afterCollect=!0,t.show.beforeCollect=!1,t.collectCode=s[0].collectCode):(t.show.afterCollect=!1,t.show.beforeCollect=!0,t.collectCode="")}))},onClickLeft:function(){this.$router.go(-1)},goodsDown:function(){o["a"].alert({message:"该商品的秒杀已结束<br>下次再来吧",confirmButtonText:"我知道了"}).then((function(){})).catch((function(){o["a"].close}))},saleOut:function(){o["a"].alert({message:"补货中/已下架的商品<br>不可以结算哦",confirmButtonText:"我知道了"}).then((function(){}))},remindSale:function(t,e){var s=this,n={startTime:t,ownerCode:this.$userInfo.OWNER_CODE,activitySpuId:this.activitySpuId,subscribeFlag:0==this.flashSaleData.isSubsribe?"1":"0"};Object(i["p"])(n).then((function(t){"0"==t.resultCode&&0==s.flashSaleData.isSubsribe?(o["a"].alert({message:"订阅成功<br>将在开抢前提醒您",confirmButtonText:"我知道了"}).then((function(){})),s.remind="取消订阅",s.flashSaleData.isSubsribe=1):"0"==t.resultCode&&1==s.flashSaleData.isSubsribe?(s.$toast("取消订阅成功"),s.remind="开抢时提醒我",s.flashSaleData.isSubsribe=0):s.$toast("订阅失败,请稍后重试!")}))},remindBefor:function(t,e){var s=this,o={startTime:t.startTime,ownerCode:this.$userInfo.OWNER_CODE,activitySpuId:t.activitySpuId,subscribeFlag:e};Object(i["p"])(o).then((function(e){"0"==e.resultCode&&0==t.isSubsribe?(s.$toast("订阅成功"),s.onRefresh()):"0"==e.resultCode&&1==t.isSubsribe?(s.$toast("取消订阅成功"),s.onRefresh()):(s.$toast("订阅失败,请稍后重试!"),console.log("222222"))})).catch((function(t){s.$toast("网络异常，请稍后重试")}))},addNumBtn:function(){},addToChart:function(){var t=this;if(0!=this.skuList.storeNumber||0!=this.flashSaleData.skStoreBal){var e={ownerCode:this.$userInfo.OWNER_CODE,spuCode:this.lists.spuCode,skuNo:this.lists.skuList[0].skuNo,shopCode:this.lists.shopCode,skuCount:this.goodsNum,activitySpuId:this.activitySpuId,mark:1};Object(i["b"])(e).then((function(e){"0"==e.resultCode?(t.$toast("添加购物车成功"),t.getCartNum()):"20100"==e.resultCode&&"0"==e.data.result&&t.$toast("该商品添加购物车的数量已达上限")}))}else this.$toast("该商品正在努力补货中哦")},getCartNum:function(){var t=this,e={ownerCode:t.$userInfo.OWNER_CODE};Object(i["h"])(e).then((function(e){t.skuNum=e.data.skuTypeNum,d["a"].setStorage("skuTypeNum",t.skuNum)}))},getCount:function(){},turnToCart:function(){this.$router.push({path:"/shoppingCart"})},countDownFinish:function(){this.flashSaleDetail(),this.init()},moveInputIntoView:function(t){var e=this;this.isShowPlaceHolder=!0,this.$nextTick((function(){e.$refs.goodsPageScroll.scrollTop=e.$refs.changeTop.offsetTop-100}))},resetInputIntoView:function(t){this.isShowPlaceHolder=!1}},mounted:function(){},computed:Object(n["c"])({setFlashSaleSpuCode:function(t){return t.productPage.setFlashSaleSpuCode}}),watch:{setFlashSaleSpuCode:{handler:function(t,e){if(console.log("setFlashSaleSpuCodenewval"),console.log(t,e),-1!=t){if(-1!=t.indexOf(",")){var s=t.split(",");this.activitySpuId=s[0],this.spuCode=s[1],this.flashSaleDetail(),this.init()}this.$store.commit("setFlashSaleSpuCodeChange",{flashSaleSpuCode:-1})}}}},activated:function(){this.isShowPreview=!1;var t=this.$route.params.goodsUrl;t&&void 0!=t&&(this.productImgs=[t]),window.addEventListener("scroll",this.handleScroll),window.addEventListener("native.keyboardshow",this.moveInputIntoView),window.addEventListener("native.keyboardhide",this.resetInputIntoView),document.querySelector(".goodsDetail").addEventListener("touchmove",(function(t){document.activeElement&&document.activeElement.blur()}),{passive:!1}),this.$route.query.spuCode?(this.$refs.goodsPageScroll.scrollTop=this.scroll=0,this.spuCode=this.$route.query.spuCode,this.activitySpuId=this.$route.query.activitySpuId,this.init(),this.ifCollection(),this.getCartNum(),this.flashSaleDetail()):(this.init(),this.ifCollection(),this.getCartNum(),this.flashSaleDetail())},deactivated:function(){this.lists={},this.skuList={},this.goodsNum=1,this.productImgs=[],this.shopInfo={},this.titShow=1,this.show.activeTitle=!1,this.show.normalTitle=!0,this.show.beforeCollect=!0,this.show.afterCollect=!1,this.isShowTopBtn=!1},beforeRouteLeave:function(t,e,s){window.removeEventListener("scroll",this.handleScroll,!0),s()}}},f21d:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAGCAYAAACB1M0KAAAAAXNSR0IArs4c6QAAAG1JREFUOBFj/N/QwPbnxssmRob/cf//M0gyDCHAyMjw/D8D4yIWDfE6FpAnGP7/L/8/hDwAcyok4P+XA/3AwASKCZjEUKVBfmAaqo5HdzcTKI2hCw41PsgPTKCMwsDI2AnKOEPNA2A3A90O8gMALqUjeia5fDEAAAAASUVORK5CYII="}}]);
//# sourceMappingURL=chunk-3bc8a3e2.5afbea56.js.map