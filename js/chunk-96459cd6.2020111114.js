(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-96459cd6"],{"0bed":function(e,t,s){},"2c65":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAQCAYAAAAMJL+VAAAAAXNSR0IArs4c6QAAAOBJREFUOBG1krENgkAUhtHQUNPiCgxAS2NiyQgaN2ASZmAEWydwAgsLTdTC0oYG/J6BRPByHHC85APu7r3vhwSnqqoYTlCCzTojixdcro7jrGCOui2xFnOYa+dLvmDN4gASZrNKZJuvkJAUbFfaelvsucWEvCWXBXIP5G+aWuLw/gLqkIDD54QEmQ2U8maThgiKESEyEzUe7Z3G7YiArVbaPSQgGxCSded718hdOBqESI/bK1Q1MOjDRRMiZ75q1ngPQQhvRYjshcYiXSOiBMqfEHlOdDODzxDu4Q4P2JkKPkK23LZ9wjSwAAAAAElFTkSuQmCC"},"608a":function(e,t,s){"use strict";s.d(t,"o",(function(){return u})),s.d(t,"b",(function(){return h})),s.d(t,"m",(function(){return d})),s.d(t,"i",(function(){return p})),s.d(t,"g",(function(){return g})),s.d(t,"f",(function(){return f})),s.d(t,"k",(function(){return v})),s.d(t,"n",(function(){return _})),s.d(t,"h",(function(){return C})),s.d(t,"j",(function(){return y})),s.d(t,"p",(function(){return m})),s.d(t,"l",(function(){return E})),s.d(t,"q",(function(){return A})),s.d(t,"e",(function(){return D})),s.d(t,"d",(function(){return R})),s.d(t,"r",(function(){return L})),s.d(t,"c",(function(){return T})),s.d(t,"a",(function(){return l}));var i=s("ba6a"),r=[{id:0,value:"三室一厅"},{id:1,value:"两室一厅"},{id:2,value:"三室两厅"},{id:3,value:"一室一厅"}],a=[{id:0,value:"100万以下"},{id:1,value:"100-150万"},{id:2,value:"150-200万"},{id:3,value:"200-300万"},{id:4,value:"300-500万"},{id:5,value:"500万以上"}],n=[{id:0,value:"1000元以下"},{id:1,value:"1000-1500元"},{id:2,value:"1500-2000元"},{id:3,value:"2000-3000元"},{id:4,value:"3000-5000元"},{id:5,value:"5000元以上"}],o=[{id:1,value:"一居"},{id:2,value:"二居"},{id:3,value:"三居"},{id:4,value:"四居"},{id:5,value:"五居"},{id:6,value:"五居以上"}],c=[{id:1,value:"0-50平方米"},{id:2,value:"50-100平方米"},{id:3,value:"100-150平方米"},{id:4,value:"150-200平方米"},{id:5,value:"200-250平方米"},{id:6,value:"250平方米以上"}],l={fwlx:r,sales:a,rentMony:n,kinds:o,sizes:c},u=function(e){return i["a"].post("hisense-systemServer/app/owner/getMyIssue.do",e,!0,"homeUrl")},h=function(e){return i["a"].post("hisense-systemServer/app/owner/delHouseSale.do",e,!0,"homeUrl")},d=function(e,t){return i["a"].post("hisense-systemServer/app/owner/getHouseSale.do",e,!0,"homeUrl",t)},p=function(e){return i["a"].post("hisense-systemServer/app/owner/getHouseSaleDetail.do",e,!0,"homeUrl")},g=function(e){return i["a"].post("hisense-systemServer/app/owner/getCodeCounty.do",e,!0,"homeUrl")},f=function(e){return i["a"].post("hisense-systemServer/app/owner/getCodeCity.do",e,!0,"homeUrl")},v=function(e){return i["a"].post("hisense-systemServer/app/owner/login/getProtocol.do",e,!0,"homeUrl")},_=function(e){return i["a"].post("hisense-systemServer/app/owner/getDictionaryList.do",e,!0,"homeUrl")},C=function(e){return i["a"].post("hisense-systemServer/app/owner/getDictionaryList.do",e,!0,"homeUrl")},y=function(e){return i["a"].post("hisense-systemServer/app/owner/getDictionaryList.do",e,!0,"homeUrl")},m=function(e){return i["a"].post("hisense-systemServer/app/owner/getDictionaryList.do",e,!0,"homeUrl")},E=function(e){return i["a"].post("hisense-systemServer/app/owner/getDictionaryList.do",e,!0,"homeUrl")},A=function(e){return i["a"].post("hisense-systemServer/app/owner/getDictionaryList.do",e,!0,"homeUrl")},D=function(e){return i["a"].post("hisense-systemServer/app/owner/getDictionaryList.do",e,!0,"homeUrl")},R=function(e){return i["a"].post("hisense-systemServer/app/owner/getDictionaryList.do",e,!0,"homeUrl")},L=function(e){return new Promise((function(t,s){i["a"].post("hisense-systemServer/app/owner/addHouseSale.do",e,!0,"homeUrl").then((function(e){e.success?t(e):s(e.msg)})).catch((function(e){s(e)}))}))},T=function(e){return i["a"].post("hisense-systemServer/app/owner/updateHouseSale.do",e,!0,"homeUrl")}},c4a0:function(e,t,s){e.exports=s.p+"img/bannerHouse.0fd1c28b.jpg"},dd26:function(e,t,s){"use strict";var i=s("0bed"),r=s.n(i);r.a},f0fa:function(e,t,s){"use strict";s.r(t);var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"buyHouse"},[s("navigation-bar",{attrs:{navBarStyle:e.navStyle,leftImgType:"1"},on:{onLeftClick:e.goBack}},[s("div",{staticClass:"nav-box",attrs:{slot:"nav-center"},slot:"nav-center"},[s("div",{staticClass:"search",on:{click:e.search}},[s("van-icon",{attrs:{name:"search",size:"14px",color:"#aaa"}}),s("input",{directives:[{name:"model",rawName:"v-model",value:e.keyWord,expression:"keyWord"}],attrs:{type:"text",placeholder:"请输入区域/小区名称",disabled:""},domProps:{value:e.keyWord},on:{input:function(t){t.target.composing||(e.keyWord=t.target.value)}}})],1),s("div",{staticClass:"city",on:{click:e.changeCity}},[s("div",{staticClass:"city-name"},[e._v(e._s(e.cityName))]),s("img",{attrs:{src:e.downIcon,alt:""}})])])]),e.networkError?e._e():s("van-dropdown-menu",{attrs:{"active-color":"#17B7BD"}},[s("van-dropdown-item",{ref:"city",attrs:{title:e.selectedCity?e.selectedCity.NAME:"区域"},on:{open:e.getCountry}},[s("div",{staticClass:"city-range"},[s("div",{staticClass:"right"},[s("div",{staticClass:"city",class:e.selectedCity?"":"active",on:{click:function(t){return e.selectCity(null)}}},[e._v("不限")]),e._l(e.cityRangeList,(function(t,i){return s("div",{key:i,staticClass:"city",class:e.selectedCity&&e.selectedCity.CODE==t.CODE?"active":"",on:{click:function(s){return e.selectCity(t)}}},[e._v("\n            "+e._s(t.NAME)+"\n          ")])}))],2)])]),s("van-dropdown-item",{ref:"price",attrs:{title:e.selectedPrice?e.selectedPrice.value:"价格"}},[s("div",{staticClass:"price-range"},[s("div",{staticClass:"price",class:e.selectedPrice?"":"active",on:{click:function(t){return e.selectPrice(null)}}},[e._v("不限")]),e._l(e.priceRangeList,(function(t,i){return s("div",{key:i,staticClass:"price",class:e.selectedPrice&&e.selectedPrice.id==t.id?"active":"",on:{click:function(s){return e.selectPrice(t)}}},[e._v("\n          "+e._s(t.value)+"\n        ")])}))],2),s("div",{staticClass:"custom-range"},[s("div",{staticClass:"title"},[e._v("自定义")]),s("div",[s("input",{directives:[{name:"model",rawName:"v-model",value:e.price_start,expression:"price_start"}],attrs:{type:"number",placeholder:"最低价"},domProps:{value:e.price_start},on:{keyup:function(t){1==e.price_start.length?e.price_start=e.price_start.replace(/[^1-9]/g,""):e.price_start=e.price_start.replace(/\D/g,"")},afterpaste:function(t){1==e.price_start.length?e.price_start=e.price_start.replace(/[^1-9]/g,""):e.price_start=e.price_start.replace(/\D/g,"")},input:[function(t){t.target.composing||(e.price_start=t.target.value)},function(t){e.price_start.length>5&&(e.price_start=e.price_start.slice(0,5))}]}})]),s("div",{staticClass:"title"},[e._v("—")]),s("div",[s("input",{directives:[{name:"model",rawName:"v-model",value:e.price_end,expression:"price_end"}],attrs:{type:"number",placeholder:"最高价"},domProps:{value:e.price_end},on:{keyup:function(t){1==e.price_end.length?e.price_end=e.price_end.replace(/[^1-9]/g,""):e.price_end=e.price_end.replace(/\D/g,"")},afterpaste:function(t){1==e.price_end.length?e.price_end=e.price_end.replace(/[^1-9]/g,""):e.price_end=e.price_end.replace(/\D/g,"")},input:[function(t){t.target.composing||(e.price_end=t.target.value)},function(t){e.price_end.length>5&&(e.price_end=e.price_end.slice(0,5))}]}})]),s("div",{staticClass:"confirm",on:{click:e.confirm}},[e._v("确定")])])]),s("van-dropdown-item",{ref:"type",attrs:{title:e.requestData.ROOM_CNT.length>1?"多选":1==e.requestData.ROOM_CNT.length?e.typeRangeList[e.requestData.ROOM_CNT[0]-1].value:"户型"}},[s("div",{staticClass:"type-range"},[s("div",{staticClass:"range"},[s("van-checkbox-group",{model:{value:e.selectedType,callback:function(t){e.selectedType=t},expression:"selectedType"}},[s("van-cell-group",[s("van-cell",{attrs:{clickable:"",title:"不限"},on:{click:function(t){return e.selectType([])}}}),e._l(e.typeRangeList,(function(t,i){return s("van-cell",{key:i,attrs:{clickable:"",title:t.value},on:{click:function(t){return e.toggleType(i)}}},[s("van-checkbox",{ref:"typeCheckboxs",refInFor:!0,attrs:{slot:"right-icon",name:t.id+"","checked-color":"#17B7BD",shape:"square"},slot:"right-icon"})],1)}))],2)],1)],1),s("div",{staticClass:"confirm",on:{click:e.confirmType}},[s("div",[e._v("确定")])])])]),s("van-dropdown-item",{ref:"area",attrs:{title:e.requestData.ACREAGE_LIST.length>1?"多选":1==e.requestData.ACREAGE_LIST.length?e.requestData.ACREAGE_LIST[0].ACREAGE_START+"-"+e.requestData.ACREAGE_LIST[0].ACREAGE_END+"平方米":"面积"}},[s("div",{staticClass:"area-range"},[s("div",{staticClass:"range"},[s("van-checkbox-group",{model:{value:e.selectedArea,callback:function(t){e.selectedArea=t},expression:"selectedArea"}},[s("van-cell-group",[s("van-cell",{attrs:{clickable:"",title:"不限"},on:{click:function(t){return e.selectArea([])}}}),e._l(e.areaRangeList,(function(t,i){return s("van-cell",{key:i,attrs:{clickable:"",title:t.value},on:{click:function(t){return e.toggleArea(i)}}},[s("van-checkbox",{ref:"areaCheckboxs",refInFor:!0,attrs:{slot:"right-icon",name:t.id,"checked-color":"#17B7BD",shape:"square"},slot:"right-icon"})],1)}))],2)],1)],1),s("div",{staticClass:"confirm",on:{click:e.confirmArea}},[s("div",[e._v("确定")])])])])],1),e.networkError?e._e():s("div",{staticClass:"box"},[s("van-pull-refresh",{on:{refresh:function(t){return e.refresh()}},model:{value:e.isRefresh,callback:function(t){e.isRefresh=t},expression:"isRefresh"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:e.houseList&&e.houseList.length>0,expression:"houseList && houseList.length > 0"}],staticClass:"content-box"},[s("van-list",{attrs:{finished:e.finished,"finished-text":"没有更多了","immediate-check":!1,offset:400},on:{load:e.loadMore},model:{value:e.loading,callback:function(t){e.loading=t},expression:"loading"}},e._l(e.houseList,(function(t,i){return s("div",{key:i,staticClass:"item",on:{click:function(s){return e.goDetail(t.HOUSE_CODE)}}},[s("div",{staticClass:"left"},[s("img",{attrs:{src:t.PIC_URL?t.PIC_URL:e.defaultIcon,alt:""},on:{"~error":function(t){return e.showErrorImg(t)}}})]),s("div",{staticClass:"middle"},[s("div",{staticClass:"title"},[e._v(e._s(t.TITLE))]),s("div",{staticClass:"bottom"},[s("div",{staticClass:"area"},[e._v(e._s(t.AREA))]),s("div",{staticClass:"room-box"},[s("div",{staticClass:"room"},[s("span",[e._v(e._s(t.ROOM_HALL||""))]),s("span",[e._v(e._s(t.ACREAGE||"")+"m²")])]),s("div",{staticClass:"price"},[e._v(e._s(t.PRICE)+"万")])])])])])})),0)],1),s("div",{directives:[{name:"show",rawName:"v-show",value:0==e.houseList.length&&!e.loading,expression:"houseList.length == 0 && !loading"}],staticClass:"noData"},[e._v("\n        暂无搜索结果！\n      ")])])],1),e.networkError?s("div",{staticStyle:{height:"300px","padding-top":"50px"}},[s("NetworkError",[s("div",{staticClass:"refresh-btn",attrs:{slot:"refreshMode"},on:{click:function(t){return e.refresh()}},slot:"refreshMode"},[e._v("\n        重新加载\n      ")])])],1):e._e()],1)},r=[],a=s("0de9"),n=s.n(a),o=s("2c65"),c=s.n(o),l=s("c4a0"),u=s.n(l),h=s("608a"),d=(s("da6f"),s("dcbb")),p=s("0aa6"),g={name:"buyHouse",data:function(){return{leftIcon:n.a,downIcon:c.a,defaultIcon:u.a,keyWord:"",houseList:[],loading:!1,isRefresh:!1,finished:!1,cityName:"",cityCode:"",selectedPrice:null,selectedCity:null,selectedType:[],selectedArea:[],priceRangeList:[],cityRangeList:[],typeRangeList:[],areaRangeList:[],priceList:["0","100","150","200","300","500",null],areaList:["0","50","100","150","200","250","9999"],price_start:"",price_end:"",requestData:{page:"1",rows:"10",HOUSE_FLAG:"0",PROVINCE_CODE:"",CITY_CODE:"",COUNTY_CODE:"",PRICE_END:"",PRICE_START:"",ROOM_CNT:[],ACREAGE_LIST:[],KEYWDS:""},networkError:!1,navStyle:{background:"rgb(251, 87, 104)"}}},activated:function(){this.networkError=!1,this.keyWord=this.$store.state.houseRental.areaName,this.requestData.KEYWDS=this.$store.state.houseRental.areaName,this.cityName=this.$store.state.houseRental.city.cityName?this.$store.state.houseRental.city.cityName:this.$userInfo&&this.$userInfo.CITY_NAME?this.$userInfo.CITY_NAME:"青岛市",this.cityCode=this.$store.state.houseRental.city.cityCode,this.requestData.CITY_CODE=this.$store.state.houseRental.city.cityCode,this.requestData.CITY_NAME=this.$store.state.houseRental.city.cityName,this.$store.state.houseRental.reload?(this.reset(),document.querySelector(".box").scrollTop=0,this.$store.dispatch("setReload",!1),this.priceRangeList=h["a"].sales,this.typeRangeList=h["a"].kinds,this.areaRangeList=h["a"].sizes,this.getHouseList()):document.querySelector(".box").scrollTop=this.scrollTop},beforeRouteLeave:function(e,t,s){this.scrollTop=document.querySelector(".box").scrollTop,s()},components:{NetworkError:d["a"],NavigationBar:p["a"]},methods:{showErrorImg:function(e){e.currentTarget.src=this.defaultIcon},goBack:function(){this.reset(),this.$router.go(-1)},reset:function(){this.houseList=[],this.loading=!1,this.isRefresh=!1,this.finished=!1,this.selectedPrice=null,this.selectedCity=null,this.selectedType=[],this.selectedArea=[],this.priceRangeList=[],this.cityRangeList=[],this.typeRangeList=[],this.areaRangeList=[],this.priceList=["0","100","150","200","300","500",null],this.areaList=["0","50","100","150","200","250","9999"],this.price_start="",this.price_end="",this.requestData={page:"1",rows:"10",HOUSE_FLAG:"0",PROVINCE_CODE:"",CITY_CODE:this.requestData.CITY_CODE,CITY_NAME:this.requestData.CITY_NAME,COUNTY_CODE:"",PRICE_END:"",PRICE_START:"",ROOM_CNT:[],ACREAGE_LIST:[],KEYWDS:this.requestData.KEYWDS},this.scrollTop=0},getHouseList:function(){var e=this;this.loading=!0,Object(h["m"])({data:JSON.stringify(this.requestData)}).then((function(t){e.networkError=!1,e.setHouseList(t)}),(function(t){"1"==e.requestData.page&&(e.networkError=!0),e.isRefresh=!1,e.loading=!1,e.finished=!0}))},setHouseList:function(e){this.loading=!1,this.isRefresh=!1,this.finished=e.COUNT<=this.requestData.page*this.requestData.rows,1==this.requestData.page?this.houseList=e.HOUSE_LIST?e.HOUSE_LIST:[]:this.houseList=this.houseList.concat(e.HOUSE_LIST?e.HOUSE_LIST:[])},loadMore:function(){this.requestData.page=1*this.requestData.page+1+"",this.getHouseList()},refresh:function(){this.isRefresh=!0,this.resetRequestData(),this.getHouseList()},resetRequestData:function(){this.requestData={page:"1",rows:"10",HOUSE_FLAG:"0",PROVINCE_CODE:"",CITY_CODE:"",COUNTY_CODE:"",PRICE_END:"",PRICE_START:"",ROOM_CNT:[],ACREAGE_LIST:[],KEYWDS:""},this.selectedType=[],this.selectedArea=[],this.selectedPrice=null,this.selectedCity=null,this.keyWord="",this.price_start="",this.price_end=""},getCountry:function(){var e=this;Object(h["g"])({data:JSON.stringify({CITY_NAME:this.cityName||this.$userInfo.CITY_NAME})}).then((function(t){e.cityRangeList=t}),(function(t){e.cityRangeList=[],e.$toast("获取区域失败")}))},selectPrice:function(e){this.requestData.page="1",this.price_start="",this.price_end="",this.selectedPrice=e,e?(this.requestData.PRICE_START=this.priceList[e.id],this.requestData.PRICE_END=this.priceList[e.id+1]):(this.requestData.PRICE_START="",this.requestData.PRICE_END=""),this.$refs.price.toggle(),this.getHouseList()},selectCity:function(e){this.requestData.page="1",this.selectedCity=e,this.requestData.COUNTY_CODE=e?e.CODE:"",this.$refs.city.toggle(),this.getHouseList()},selectType:function(){this.requestData.page="1",this.requestData.ROOM_CNT=[],this.selectedType=[],this.$refs.type.toggle(),this.getHouseList()},toggleType:function(e){this.$refs.typeCheckboxs[e].toggle()},confirmType:function(){this.requestData.page="1",this.requestData.ROOM_CNT=this.selectedType,this.$refs.type.toggle(),this.getHouseList()},selectArea:function(e){this.requestData.page="1",this.requestData.ACREAGE_LIST=[],this.selectedArea=[],this.$refs.area.toggle(),this.getHouseList()},toggleArea:function(e){this.$refs.areaCheckboxs[e].toggle()},confirmArea:function(){this.requestData.page="1",this.requestData.ACREAGE_LIST=this.getRequestAreaList(),this.$refs.area.toggle(),this.getHouseList()},getRequestAreaList:function(){for(var e=[],t=0;t<this.selectedArea.length;t++){var s={};s.ACREAGE_START=this.areaList[this.selectedArea[t]-1],s.ACREAGE_END=this.areaList[this.selectedArea[t]],e.push(s)}return e},confirm:function(){this.price_start.length>0&&this.price_end.length>0&&this.price_start>this.price_end?this.$toast("最高价格不得小于最低价格"):0!=this.price_start.length||0!=this.price_end.length?(this.requestData.page="1",this.selectedPrice={id:10,value:this.price_end.length>0?this.price_start.length>0?this.price_start+"-"+this.price_end+"元":this.price_end+"元以下":this.price_start+"元以上"},this.requestData.PRICE_START=this.price_start.length>0?this.price_start:"0",this.requestData.PRICE_END=this.price_end.length>0?this.price_end:null,this.$refs.price.toggle(),this.getHouseList()):this.$toast("查询条件不能为空")},search:function(){this.networkError||this.$router.push({name:"houseSearch",params:{cityName:this.cityName,cityCode:this.cityCode,keyWord:this.keyWord}})},changeCity:function(){this.networkError||this.$router.push("houseCity")},goDetail:function(e){this.$router.push({name:"houseDetail",params:{HouseCode:e,cityName:this.cityName,cityCode:this.cityCode,keyWord:this.keyWord}})}}},f=g,v=(s("dd26"),s("2877")),_=Object(v["a"])(f,i,r,!1,null,"2159ed3a",null);t["default"]=_.exports}}]);
//# sourceMappingURL=chunk-96459cd6.2020111114.js.map