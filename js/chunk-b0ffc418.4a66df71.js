(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b0ffc418"],{"0e4c":function(t,e,o){"use strict";var n=o("8099"),s=o.n(n);s.a},"11e8":function(t,e,o){"use strict";o.r(e);var n=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"reducedPackaging flex-page"},[n("navigation-bar",{attrs:{pageName:t.title},on:{onLeftClick:t.goBack}},[t._t("right",[n("div",{staticClass:"rightBar",on:{click:t.goToShopCart}},[n("img",{ref:"cartIcon",staticClass:"shopIcon",attrs:{src:o("3a83"),alt:""}}),n("div",{directives:[{name:"show",rawName:"v-show",value:0!=t.skuTypeNum,expression:"skuTypeNum!=0"}],staticClass:"goodsNum",class:t.skuTypeNum>=100?"goodsNumMax":""},[t._v(t._s(t.skuTypeNum<=99?t.skuTypeNum:"99+"))])])],{slot:"nav-right"})],2),n("div",{ref:"contentScroll",staticClass:"post-wrapper"},[n("div",{staticClass:"goodsList"},t._l(t.goodsList,(function(e,s){return n("div",{key:"goodsItem"+s,staticClass:"goodsItem",on:{click:function(o){return t.goToProduct(e)}}},[n("div",{staticClass:"goodsImg"},[n("img",{attrs:{src:e.spuPicUrl,alt:""}}),n("div",{directives:[{name:"show",rawName:"v-show",value:0==e.storeNumber,expression:"goodsItem.storeNumber==0"}],staticClass:"outSellBox"},[t._v("补货中")]),n("div",{directives:[{name:"show",rawName:"v-show",value:e.storeNumber<=e.threshold&&0!=e.storeNumber,expression:"goodsItem.storeNumber<=goodsItem.threshold&&goodsItem.storeNumber!=0"}],staticClass:"jinshengNum"},[t._v("仅剩"+t._s(e.storeNumber)+"件")]),e.listLabel?n("div",{staticClass:"fullIcon"},[t._v(t._s(e.listLabel))]):t._e()]),n("div",{staticClass:"goodsInfo"},[n("div",{staticClass:"goodsName"},[t._v(t._s(e.spuName))]),n("div",{staticClass:"goodsDesc"},[t._v(t._s(e.spuSalePoint))]),n("div",{staticClass:"goodsSale"},[t._v("月售"+t._s(t._f("threshold")(e.virtualSale)))]),n("div",{staticClass:"goodsPriceBx"},[n("div",{staticClass:"goodsPriceInfo"},[n("div",{staticClass:"goodsPrice"},[n("div",{staticClass:"goodsPriceIcon"},[t._v("￥")]),n("div",{staticClass:"goodsPriceNum"},[t._v(t._s(t._f("priceFilters")(e.skuPrice)))])]),e.priceLine?n("div",{staticClass:"goodsLinePrice"},[t._v("￥"+t._s(t._f("priceFilters")(e.priceLine)))]):t._e()]),n("div",{staticClass:"addMinusBtn"},[n("div",{staticClass:"clickBox",on:{click:function(o){return o.stopPropagation(),t.addGoodsNum(e,s)}}}),n("div",{directives:[{name:"show",rawName:"v-show",value:0!=e.cartCount,expression:"goodsItem.cartCount!=0"}],staticClass:"cartNumBox"},[n("div",{staticClass:"cartNum"},[t._v(t._s(e.cartCount))])]),n("img",{ref:"addBtn",refInFor:!0,staticClass:"addBtn",attrs:{src:o("d325"),alt:""}})])])])])})),0),n("div",{staticClass:"fixedHeight",style:{height:74+this.$footBarHeight+"px"}})]),n("transition",{on:{"before-enter":t.beforeEnter,enter:t.enter,"after-enter":t.afterEnter}},[n("img",{directives:[{name:"show",rawName:"v-show",value:t.isShowCircle,expression:"isShowCircle"}],staticClass:"circle",attrs:{src:o("d325"),alt:""}})])],1)},s=[],i=(o("7f7f"),o("bd86")),c=o("5863"),r=o("5c36"),a=o("0aa6"),u=(o("2f62"),o("d399")),l=o("dcbb"),d={data:function(){var t;return t={templateId:"",title:"",sourceList:{title:""},ifNetWorkError:!1,skuTypeNum:null},Object(i["a"])(t,"templateId",""),Object(i["a"])(t,"goodsList",null),Object(i["a"])(t,"scrollContentTop",null),Object(i["a"])(t,"addBtnIcon",null),Object(i["a"])(t,"addGoodsLoading",!1),Object(i["a"])(t,"isShowCircle",!1),t},components:{netWorkError:l["a"],NavigationBar:a["a"]},filters:{threshold:function(t){return t>=1e4?t/1e4>=10?"9万+":Math.floor(t/1e4)+"万+":t},priceFilters:function(t){return t>=1e4?Math.floor(t/1e4*100)/100+"万":t}},methods:{getActivityTepmlate:function(){var t=this,e={id:this.templateId};Object(c["g"])(e).then((function(e){t.getActSpuList(),t.sourceList=e.data,t.title=t.sourceList.title,t.ifNetworkError=!1})).catch((function(e){t.ifNetworkError=!0}))},getActSpuList:function(){var t=this,e={id:this.templateId,ownerCode:this.$userInfo.OWNER_CODE,areaCode:this.$userInfo.AREA_CODE};Object(r["E"])(e).then((function(e){"0"==e.resultCode?t.goodsList=e.data:t.$toast(e.msg)})).catch((function(e){t.$toast(e)}))},getSkuTypeNum:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],o={ownerCode:this.$userInfo.OWNER_CODE};Object(r["D"])(o).then((function(o){0==o.resultCode&&(e&&Object(u["a"])({message:"添加购物车成功",duration:1e3}),t.skuTypeNum=o.data.skuTypeNum)})).catch((function(t){}))},beforeEnter:function(t){console.log(this.addBtnIcon.getBoundingClientRect()),t.style.left=this.addBtnIcon.getBoundingClientRect().left+"px",t.style.top=this.addBtnIcon.getBoundingClientRect().top+"px",t.style.transform="scale(1)"},enter:function(t,e){t.offsetWidth,t.style.left=this.$refs.cartIcon.getBoundingClientRect().left+"px",t.style.top=this.$refs.cartIcon.getBoundingClientRect().top+"px",t.style.transform="scale(.5)",e()},afterEnter:function(t){this.isShowCircle=!this.isShowCircle},addGoodsNum:function(t,e){var o=this;if(console.log(t),!this.addGoodsLoading&&!this.isShowCircle){this.addBtnIcon=this.$refs.addBtn[e],this.isShowCircle=!0,this.addGoodsLoading=!0;var n={ownerCode:this.$userInfo.OWNER_CODE,spuCode:t.spuCode,skuNo:t.skuNo,shopCode:t.shopCode,activitySpuId:t.activitySpuId,skuCount:1,mark:1};Object(r["a"])(n).then((function(e){"0"==e.resultCode?(Object(u["a"])({message:"添加购物车成功",duration:1e3}),t.cartCount+=1,o.getSkuTypeNum()):"20100"==e.resultCode&&"0"==e.data.result&&o.$toast("您所添加商品超过最大购买量了哦"),o.addGoodsLoading=!1})).catch((function(t){o.addGoodsLoading=!1}))}},goToProduct:function(t){this.$router.push({name:"goodsDetail",params:{spuCode:t.spuCode,goodsUrl:t.spuPicUrl}})},goToShopCart:function(){this.$router.push({name:"shoppingCart",params:{}})},goBack:function(){this.$router.back(-1)}},mounted:function(){},activated:function(){console.log(this.sourceList),this.$route.params.templateId?(this.goodsList=[],this.title="",this.sourceList={title:""},this.$refs.contentScroll.scrollTop=0,this.templateId=this.$route.params.templateId):this.$refs.contentScroll.scrollTop=this.scrollContentTop,this.getActivityTepmlate(),this.getActSpuList(),this.getSkuTypeNum()},beforeRouteLeave:function(t,e,o){this.scrollContentTop=this.$refs.contentScroll.scrollTop,"goodsDetail"!=t.name&&"shoppingCart"!=t.name&&"goodsDetailThemeL"!=t.name&&"flashSaleGoodsThemeL"!=t.name&&t.name,o()}},f=d,A=(o("0e4c"),o("2877")),h=Object(A["a"])(f,n,s,!1,null,"0eceb8f1",null);e["default"]=h.exports},"3a83":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAQKADAAQAAAABAAAAQAAAAABGUUKwAAAFF0lEQVR4Ae2ZXWhcRRTHs4kxAbdKlaIihKwWfZNqvliSKPUjkETBhwZaH3zxTX1QX3yTtEVREYWSgt9PBYuhj1sRosaswaQm+tQHbUUpjdIoQe1SNiGb+Du6c5m9udvMvXf2btbOwGXmnJ17/uf858ydj21qcsUx4BhwDDgGHAOOAceAY8AxcE0ykDKNuqura4y+x3n2pFKplc3NzW9oH11cXJw3tbET+zWHcGqCvnukP8HfTDXKM9PT0/O46Bq1GBPAqP8ZEOT1kPHe0NDQDQG/NYTKmACiOQgJn1Iv8hRUdBBw28rKSsNmgfE3QAUsdXd39wECn9R1dW6vMThn8eFkOp1+a3p6et3UnzAZ4Nlsa2v7DGHNU9S/IVPxPp7XC4XCaWrjgY1EwOzs7GUYn6l/3Fs9IPhHydCnt/4SrLkuWG2kzdHrEdUTQmRp/FnJCdc3gbdXwxyi/YEmV21GJqClpSW3vr7+tmb5AnuCbk1OrNnX13cjvvylABmMW1V7uzrSFBCj8/Pz56jOKwBGf182m71DyUnWGxsb+3x4Sz65qhiZgLJFmQZeYRRGPCHBBgQ8p8ORAV/r8tXasQgAqIIAskB2h4kW0v9eAA9ooGvt7e3GS3QsAjKZzFcA65uih4eHh9s0Z2reJOsOA+ItewzK+/l8/ndT4FgETE5Oyl5gSgNLLy8vP6jJNW1yQLsfgCcUCMEX2aO8qmSTOhYBZYCKaYAuyWlwxBfkO+xRfvXprirGJoD5dtqHkMiHkNHvA1cn+wpL82s+X7YVYxMgjJN632tIe3t7e+/W5Fo1K0YfH46zNF8KCxabAAEEvGIasCzpIxPWp237s9Xtp5Ps9lQpsAK9oYQwtS0C/NOgpgQQ7FE9SAbgGLvQP3SdadsKASMjI3It5jmAg4P9/f27TJ0I04/p9Rj996t3CP5vvkNvKjls7a2fYV/09+ej9Am6Mb++1jIEHF5YWBiPimMlAxiVW3DAOxlGdSbsewR/iWzTD2RhTTRZIYCPnmw+dodGj/ECwV8m+EPMfe8UGMVc7ClQ3o19C7gic5O2LItS16JcweiZ1tbWibm5uV/iAkS+D1DAjMQxRkIFL0viCebkU+r3nV57jkdxVE5iBC9r8r+lnJYvKbkR6lgEcBK7Uw8SMk4xJ3/TdTu9HesbwI5MbmK/q2eQZN2P4B9k2unbcWOXYmVAGbSuBDAAcu54xThiX8dYBIgtRuBJnos+u0mLQX/bGfkQawooBNkIMRLPsh+QD6JsihIrkH8O7Bcb7duTGEHbAVnJAB1E7ujJhOcZlSz6DM9ZRunzzs7Od7lCK+l9Tdq27fkxrRLAVMiWSqWTgHRsAUqlzkDKGKl6wf9bNdm2vSCc2B9BZXRgYGA3wZ9C3hK89CH4XqoT4+PjRpi27YkPQcXImaAX/bpisfgyutt9eu/KvKwfzOVyh3x9AkXb9gJBUFojgBEeVCDMeZnrD5Huu2i/oPRS0+8BXa7Wtm2vGo41AgC4RwP5ieC/FJl7+g81vTRNL0xt2/O58Z9ok4AfNIS7OCbvF3l1ddX/X71sXU2KbXuBmLGPw8oqqZ4nbbtEpm6h+gIS5LY2rfpITb8ZXa7Wtm2vGo61DOBi8ggg/pNgRfD8nh8dHf24mjO63rY93bbevub3AZKq1srS0tLFjo6OjzBY5FkljUuS8s3NzROZTOaZqampUIcW2/asBeoMOQYcA44Bx4BjwDHgGHAM/A8Y+AcmaOGWpQW1oQAAAABJRU5ErkJggg=="},5863:function(t,e,o){"use strict";o.d(e,"l",(function(){return s})),o.d(e,"m",(function(){return i})),o.d(e,"b",(function(){return c})),o.d(e,"c",(function(){return r})),o.d(e,"e",(function(){return a})),o.d(e,"o",(function(){return u})),o.d(e,"h",(function(){return l})),o.d(e,"n",(function(){return f})),o.d(e,"f",(function(){return A})),o.d(e,"a",(function(){return h})),o.d(e,"s",(function(){return m})),o.d(e,"r",(function(){return g})),o.d(e,"q",(function(){return d})),o.d(e,"j",(function(){return p})),o.d(e,"p",(function(){return C})),o.d(e,"i",(function(){return v})),o.d(e,"g",(function(){return w})),o.d(e,"k",(function(){return b})),o.d(e,"d",(function(){return k}));var n=o("ba6a"),s=function(t){return new Promise((function(e,o){n["a"].get("xwj-commerce-goods/goods/getGoodsInfoForApp",t).then((function(t){e(t)})).catch((function(t){o(t)}))}))},i=function(t){return new Promise((function(e,o){n["a"].get("xwj-commerce-shop/shopManage/getOneShopTitle",t,"baseUrl",!1).then((function(t){e(t)})).catch((function(t){o(t)}))}))},c=function(t){return new Promise((function(e,o){n["a"].post("xwj-commerce-sale/shopCart/addGoods",t).then((function(t){e(t)})).catch((function(t){o(t)}))}))},r=function(t){return new Promise((function(e,o){n["a"].post("xwj-sys-user/collect/saveCollect",t,!1,"baseUrl",!1).then((function(t){e(t)})).catch((function(t){o(t)}))}))},a=function(t){return new Promise((function(e,o){n["a"].post("xwj-sys-user/collect/deleteCollect",t,!1,"baseUrl",!1).then((function(t){e(t)})).catch((function(t){o(t)}))}))},u=function(t){return new Promise((function(e,o){n["a"].get("xwj-sys-user/collect/getCollectList",t).then((function(t){e(t)})).catch((function(t){o(t)}))}))},l=function(t){return new Promise((function(e,o){n["a"].get("xwj-commerce-sale/shopCart/getSkuTypeNum",t).then((function(t){e(t)})).catch((function(t){o(t)}))}))},d=function(t){return new Promise((function(e,o){n["a"].post("xwj-sys-user/share/shareGoods",t).then((function(t){e(t)})).catch((function(t){o(t)}))}))},f=function(t){return new Promise((function(e,o){n["a"].get("xwj-commerce-sale/shopCart/getGoodsListV32",t).then((function(t){e(t)})).catch((function(t){o(t)}))}))},A=function(t){return new Promise((function(e,o){n["a"].post("xwj-commerce-sale/shopCart/deleteGoods",t,!1).then((function(t){e(t)})).catch((function(t){o(t)}))}))},h=function(t){return new Promise((function(e,o){n["a"].post("xwj-sys-user/collect/saveCollectList",t).then((function(t){e(t)})).catch((function(t){o(t)}))}))},m=function(t){return new Promise((function(e,o){n["a"].post("xwj-commerce-sale/shopCart/updateGoodsSelectAndAct",t,!1,"baseUrl",!1).then((function(t){e(t)})).catch((function(t){o(t)}))}))},g=function(t){return new Promise((function(e,o){n["a"].post("xwj-commerce-sale/shopCart/updateGoodsSelect",t,!1,"baseUrl",!1).then((function(t){e(t)})).catch((function(t){o(t)}))}))},p=function(t){return new Promise((function(e,o){n["a"].get("xwj-commerce-seckill/activitySpu/getActivityGoodsList",t,"baseUrl",!0).then((function(t){e(t)})).catch((function(t){o(t)}))}))},C=function(t){return new Promise((function(e,o){n["a"].post("xwj-commerce-seckill/ownerNotice/subscribeSpuNotice ",t).then((function(t){e(t)})).catch((function(t){o(t)}))}))},v=function(t){return new Promise((function(e,o){n["a"].get("xwj-commerce-seckill/activitySpu/getActivityGoods",t).then((function(t){e(t)})).catch((function(t){o(t)}))}))},w=function(t){return new Promise((function(e,o){n["a"].get("xwj-advert-ssp/advertHtml/queryAdvertPage",t,"baseUrl",!0).then((function(t){e(t)})).catch((function(t){o(t)}))}))},b=function(t){return new Promise((function(e,o){n["a"].post("xwj-sys-user/share/shareSeckill",t).then((function(t){e(t)})).catch((function(t){o(t)}))}))},k=function(t){return new Promise((function(e,o){n["a"].post("xwj-commerce-sale/order/orderValidate",t,!1,"baseUrl",!0).then((function(t){e(t)})).catch((function(t){o(t)}))}))}},8099:function(t,e,o){},d325:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACwAAAAsCAYAAAAehFoBAAAAAXNSR0IArs4c6QAAAthJREFUWAntmT1oFFEQx2fe7kVFsZGAXixTyBV2wTSCaRUEkVS2NgpBsBUkKLaCBBTE1uoQQbC2SHNip3BYpPQSIdhoRLzc7Tj/t+6au+ynuY+3kAfH7b2ZN+93s/N23s5jKthkeXWmx50lDugqkTREuM5MdRE5UdCEVWPmHRHaZJZNIm6LoTe+zL3j5mq3iB3OU5Ll26f7Qfc+Md9QuJN5+v8j1z/xnUReembmATeffs2ykQosKytHelu/7qnCXfXI8Swjo5LpHfspRI/9M8ce8dra7yS7icDwai/Yfa23fjFp0Pj7uOWb2rUkb+8Dluu3zvep91ZIzo4fLH0GJv7iGb7Mzeef9moNAIfxuvth2rARYAhdW9jraRMJbcxqGLgCCy6wIDTBFnHGwFhg04vZCCfpWxZDtlBmQ8KGgnQ3JvU0SMLK6sPTw+OZeYSG9TCes67C4o+AzeYCvWZksL50tseVFLI8V0aG5OLx3KyPdEvB6DKYuXOTzMULliVYf0/BkxdluFJ14dCe6SyZcG+QqueUAKwaw9JwiioTRhoGu65MHYeEYDXYIjrElIkCVvVwuf1spsUxC8EaZ7oxzzUy84fAI3NliiE/pT+xG0khr/G5+VgF10XGlEku5YD/ZrCYKOeCZ08RPnmtDHDlYriUh7E3yGsIg8irsv2N5PNG3pBS8nLABTYyiNkYWGHL3O4i5JULiUPgIrf1IDq6+eGdgxiY5Fh9Af2hmx/Solw1mhBvqYdRRaxGA6suOm5XAxeU3Daoz1YFGKyVe803tvKtxWTnvayMYLWJw1a+tRzkKrQtVWl1HnwWGDUrVL5dBQZbVHK1wABFmV5XYcs9aK3GW7aQrLoFbfDD7R75V1D5nran/x0ZDJ4qxSERAfKrZx89U1uYbnhwCwzD5xtg3AeMTnjarx+9REwPsULRN4lm59I5MXe0yIbnHYjhYSF+V+ZgcRjelaPbP90SOb6Xk90VAAAAAElFTkSuQmCC"}}]);
//# sourceMappingURL=chunk-b0ffc418.4a66df71.js.map