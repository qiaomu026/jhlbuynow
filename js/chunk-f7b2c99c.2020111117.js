(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-f7b2c99c"],{"1e26":function(t,o,s){t.exports=s.p+"img/icon_collect.5104c7e2.png"},"268c":function(t,o){t.exports="data:image/png;base64,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"},"39d9":function(t,o,s){"use strict";s.d(o,"a",(function(){return h}));s("4917"),s("a481");var e=s("5863"),i=s("5c36"),n=s("2241"),a=s("2f62"),c=s("e036"),r=s("5e0f"),l=s("5d2d"),u=(s("4360"),s("226f"),s("363c")),h={name:"goodsDetail",data:function(){return{listLoadingBol:!1,lists:{spuPicUrlList:[]},shopInfo:{},isShowPlaceHolder:!1,skuList:[],skuNum:[],collectCode:[],cutOffTimeStr:[],getPickupList:[],platformList:[],unionPayActList:[],fullReductionList:[],packList:[],icon:{collection:s("6a9a"),afterCollectionBg:s("268c"),collectionBg:s("ebdc"),afterCollection:s("1e26"),shoppingCartBg:s("fedd"),shoppingCart:s("1094"),arrowBg:s("f295"),arrow:s("8d7d"),share:s("f6a1"),topClick:s("cc0e"),callShop:s("ed13"),shop:s("9335"),evaluate:s("d3b8"),shareChart:s("9430"),shareFriends:s("016c"),like:s("b617"),noLike:s("4783"),defaultXWJPic:s("8eda")},show:{normalTitle:!0,activeTitle:!1,titShow:0,weChartShare:!1,couponList:!1,callShop:!1,afterCollect:!1,beforeCollect:!0,firstEvaluate:!1},evalInfo:{evalPicUrl:{}},num:1,detailDescribe:[],ownerPicUrl:s("cf9f"),cartNum:0,goodsNum:0,shareUrl:"",scroll:0,images:[],setTopHeight:{"padding-top":this.$stbHeight+"px"},bottomHeight:0,swipePic:0,ifNetworkError:!1,spuCode:"",isShowTopBtn:!1,bannerChangeBool:!1,productImgs:[],scrollTimerId:0,hasStoragePermission:!1,isShowPreview:!1,defaultImg:'this.src="'+s("8eda")+'"',serviceInfo:null,showServiceItem:!1}},components:{couponItem:r["a"],serviceItem:u["a"],Preview:c["a"]},created:function(){var t=this;this.$nextTick((function(){t.bottomHeight=t.$footBarHeight+1.3333}))},methods:{goToUnionPayActivity:function(t,o){this.$router.push({name:"activityTemplate",params:{templateId:o}})},goToreducedPackaging:function(t,o){this.$router.push({name:"reducedPackaging",params:{typeVal:t,activityId:o}})},productImgDownload:function(){var t=0,o=this;o.lists.spuPicUrlList.map((function(s,e){var i=new Image;i.onload=function(){t+=1,o.lists.spuPicUrlList.length==t&&(o.productImgs=o.lists.spuPicUrlList)},i.src=o.lists.spuPicUrlList[e]}))},bannerChange:function(){var t=this;this.bannerChangeBool=!0,setTimeout((function(){t.bannerChangeBool=!1}),500)},goTopBtn:function(){this.$refs.goodsPageScroll.scrollTop=0},bannerPreview:function(t,o){var s=this;this.bannerChangeBool||(this.images=t,this.isShowPreview=!0,this.$nextTick((function(){s.$refs.myPreview.setIndex(o),s.$refs.myPreview.setIsShowPreview(!0),s.$store.dispatch("setPreviewId",s.$refs.myPreview)})),console.log("-------------"))},preview:function(t,o){var s=this,e=[];t.map((function(t){e.push(t.picUrl)})),this.images=e,this.isShowPreview=!0,this.$nextTick((function(){s.$refs.myPreview.setIndex(o),s.$refs.myPreview.setIsShowPreview(!0),s.$store.dispatch("setPreviewId",s.$refs.myPreview)}))},init:function(){var t=this;t.listLoadingBol=!1;var o={spuCode:t.spuCode};Object(e["l"])(o).then((function(o){if("0"==o.resultCode){t.listLoadingBol=!0,t.lists=o.data,t.lists.cutOffTimeStr&&t.lists.cutOffTimeStr.indexOf("<br/>")&&(t.lists.cutOffTimeStr=t.lists.cutOffTimeStr.replace(/<br\/>/g,"\n")),t.productImgDownload(),t.queryPickupList(),t.ifNetworkError=!1,o.data.detailDescribe=o.data.detailDescribe.replace(/xwjfile.juhaolian.cn/g,"xwjfilea.juhaolian.cn"),t.skuList=o.data.skuList[0],t.evalInfo=o.data.evalInfo;var s=o.data.evalInfo;t.show.firstEvaluate=null!=s,t.getShopInfo(t.lists.shopCode)}else n["a"].alert({message:o.msg}).then((function(){t.$router.go(-1)}))})).catch((function(o){t.$toast("网络异常，请稍后重试"),t.ifNetworkError=!0,t.lists={priceLine:""},t.productImgs=[t.icon.defaultXWJPic],t.skuList={skuPrice:0},console.log(JSON.stringify(t.lists)+"异常数据")}))},queryPickupList:function(){var t=this,o={ownerCode:this.$userInfo.OWNER_CODE,areaCode:this.$userInfo.AREA_CODE,shopCode:this.lists.shopCode,skuNo:this.lists.skuList[0].skuNo,spuCode:this.lists.spuCode,type:"00"};Object(i["K"])(o).then((function(o){0==o.resultCode&&(o.data.couponList?t.getPickupList=o.data.couponList:t.getPickupList=[],o.data.platformList?t.platformList=o.data.platformList:t.platformList=[],o.data.act[1]?t.fullReductionList=o.data.act[1]:t.fullReductionList=[],o.data.act[2]?t.packList=o.data.act[2]:t.packList=[],o.data.act[3]?t.unionPayActList=o.data.act[3]:t.unionPayActList=[])})).catch((function(t){}))},getShopInfo:function(t){var o=this,s={shopCode:t,areaCode:this.$userInfo.AREA_CODE};Object(e["m"])(s).then((function(t){o.shopInfo=t.data}))},handleScroll:function(){var t=this,o=this;o.$nextTick((function(){var s=o.$refs.goodsPageScroll.scrollTop,e=o.$refs.titChange.offsetTop-55,i=o.$refs.detailChange.offsetTop-55;s>t.$stbHeight?(o.show.activeTitle=!0,o.show.normalTitle=!1,o.show.titShow=s>=i?2:s>=e?1:0,o.isShowTopBtn=!0):(o.show.activeTitle=!1,o.show.normalTitle=!0,o.isShowTopBtn=!1)}))},goodsChange:function(){this.$refs.goodsPageScroll.scrollTop=0},titChange:function(){var t=this,o=t.$refs.titChange.offsetTop-55;t.$refs.goodsPageScroll.scrollTop=o},detailChange:function(){var t=this,o=t.$refs.detailChange.offsetTop-55;t.$refs.goodsPageScroll.scrollTop=o,t.$refs.goodsPageScroll.scrollTop<o?t.$toast("详情已全部展示完"):(0!=this.scrollTimerId&&clearTimeout(this.scrollTimerId),"ios"==this.$devicePlatform&&(this.scrollTimerId=setTimeout((function(){t.$refs.goodsPageScroll.scrollTop+=.2}),4e3)))},addNumBtn:function(t){1==this.goodsNum&&0!=t?1==t?this.$toast("已经是极限了"):this.$toast("不能继续减少了哦"):1==this.goodsNum&&0==t?this.$toast("该商品正在努力补货中哦"):this.$toast("你所选中的商品已经到达最大数量了哦")},getCount:function(t){this.goodsNum>t&&this.$toast("你所选中的商品已经到达最大库存了哦")},addToChart:function(){var t=this;if(0!=this.skuList.storeNumber){var o={ownerCode:this.$userInfo.OWNER_CODE,spuCode:this.lists.spuCode,skuNo:this.lists.skuList[0].skuNo,shopCode:this.lists.shopCode,skuCount:this.goodsNum,mark:1};Object(e["b"])(o).then((function(o){"0"==o.resultCode?(t.$toast("添加购物车成功"),t.getCartNum()):"20100"==o.resultCode&&"0"==o.data.result&&t.$toast("您所添加商品超过最大购买量了哦")}))}else this.$toast("该商品正在努力补货中哦")},wechartShare:function(){this.show.weChartShare=!0,console.log("走进了分享")},couponList:function(){this.show.couponList=!0},shareAction:function(t){var o=this;this.hasStoragePermission?this.shareToFriend(t):n["a"].confirm({message:"请您打开存储权限，以正常使用分享功能"}).then((function(){o.requestStoragePermissions(t)})).catch((function(){}))},shareToFriend:function(t){var o=this,s={ownerCode:this.$userInfo.OWNER_CODE,shareTo:t,spuCode:this.lists.spuCode};Object(e["q"])(s).then((function(s){"0"==s.resultCode?(o.show.weChartShare=!1,o.shareUrl=s.data,Wechat.share({message:{title:o.lists.spuName,description:null==o.lists.spuSalePoint?"更多精彩，尽在信我家":o.lists.spuSalePoint,thumb:o.lists.skuList[0].skuPicUrl,media:{type:Wechat.Type.WEBPAGE,webpageUrl:o.shareUrl}},scene:1==t?Wechat.Scene.SESSION:Wechat.Scene.TIMELINE},(function(){}),(function(t){o.$toast(t)}))):o.$toast("分享失败，请稍后重试")}))},checkStoragePermissions:function(t){var o=navigator.userAgent,s=!!o.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),e=this;if(s)this.hasStoragePermission=!0,this.shareAction(t);else{var i="android.permission.WRITE_EXTERNAL_STORAGE",n=cordova.plugins.permissions;n.checkPermission(i,(function(o){o.hasPermission?(e.hasStoragePermission=!0,e.shareAction(t)):(e.hasStoragePermission=!1,e.shareAction(t))}),(function(){e.hasStoragePermission=!1,e.shareAction(t)}))}},requestStoragePermissions:function(t){var o=navigator.userAgent,s=!!o.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),e=this;if(s)this.hasStoragePermission=!0,this.shareAction(t);else{var i=["android.permission.WRITE_EXTERNAL_STORAGE"],n=cordova.plugins.permissions;n.requestPermissions(i,(function(o){o.hasPermission?(e.hasStoragePermission=!0,e.shareAction(t)):e.hasStoragePermission=!1}),(function(){e.hasStoragePermission=!1}))}},onCancel:function(){this.show.weChartShare=!1},hideCoverUp:function(){this.show.couponList=!1},callShop:function(){var t=this;ysf("config",{uid:this.$userInfo.OWNER_CODE,name:this.$userInfo.OWNER_NAME,mobile:this.$userInfo.PHONE,data:JSON.stringify([{type:"crm_param",key:"spuCode",value:t.lists.spuCode}]),success:function(){var o={onlineService:t.shopInfo.serviceInfo.onlineService,shopTel:t.shopInfo.serviceInfo.shopTel,serviceTel:t.shopInfo.serviceInfo.serviceTel,goodsInfo:t.lists};t.serviceInfo=o,t.showServiceItem=!0},error:function(){console.log("homepage.config.error")}})},setServiceInfo:function(t){this.serviceInfo=t},addCollection:function(){var t=this,o={collectType:"01",contentCode:t.lists.spuCode,userCode:t.$userInfo.OWNER_CODE},s={collectCodes:[t.collectCode]};""==t.collectCode?Object(e["c"])(o).then((function(o){t.collectCode=o.data.collectCode,t.$toast("添加收藏成功"),t.show.afterCollect=!0,t.show.beforeCollect=!1})).catch((function(o){t.$toast("网络异常，请稍后重试")})):""!=t.collectCode&&Object(e["e"])(s).then((function(o){t.collectCode="",t.$toast("取消收藏成功"),t.show.afterCollect=!1,t.show.beforeCollect=!0})).catch((function(o){t.$toast("网络异常，请稍后重试")}))},ifCollection:function(){var t=this,o={collectType:"01",userCode:t.$userInfo.OWNER_CODE,contentCode:this.spuCode};Object(e["o"])(o).then((function(o){var s=o.data.list;s.length>0?(t.show.afterCollect=!0,t.show.beforeCollect=!1,t.collectCode=s[0].collectCode):(t.show.afterCollect=!1,t.show.beforeCollect=!0,t.collectCode="")}))},showMoreEval:function(){this.$router.push({name:"evaluateList",params:{spuCode:this.lists.spuCode}})},toShop:function(){this.ifNetworkError?this.$toast("网络异常，请稍后重试"):this.$router.push({name:"shopPage",params:{shopCode:this.lists.shopCode}})},goToBuy:function(){if(0==this.skuList.storeNumber)this.$toast("该商品正在努力补货中哦");else{var t=[];t.push({shopName:this.lists.shopName,shopCode:this.lists.shopCode,shopTotal:this.goodsNum*this.lists.skuList[0].skuPrice,skuList:[{spuCode:this.lists.skuList.spuCode,spuName:this.lists.skuList.spuName,skuNo:this.lists.skuList[0].skuNo,attrValueContent:this.lists.skuList[0].attrValueContent,skuPrice:this.lists.skuList[0].skuPrice,skuCount:this.goodsNum,skuDelivery:0,skuTotal:this.goodsNum*this.lists.skuList[0].skuPrice,skuPicUrl:this.lists.skuList[0].skuPicUrl}]});var o={orderSource:"1",goodsList:t};console.log("跳转结算"+JSON.stringify(o)),"phone"==this.$deciceType?this.$router.push({name:"orderPayNew",params:{goodsData:o}}):n["a"].confirm({title:"支付(免密)",message:"是否确认付款"}).then((function(){n["a"].alert({message:"支付成功"}).then((function(){n["a"].close}))})).catch((function(){n["a"].close}))}},turnToCart:function(){this.$router.push({path:"/shoppingCart"})},onClickLeft:function(){var t=this.$setRouterIndex();t&&this.$router.go(-1),this.$refs.goodsPageScroll.scrollTop=this.scroll=0},receiveBtn:function(t){var o=this,s=this;if(this.$userInfo.ROOM_CODE){var e={id:t.id,ownerCode:this.$userInfo.OWNER_CODE,areaCode:this.$userInfo.AREA_CODE,roomCode:this.$userInfo.ROOM_CODE};Object(i["N"])(e).then((function(o){0==o.resultCode?(s.$toast("领取优惠券成功"),t.isPicked=1):s.$toast(o.msg)})).catch((function(t){s.$toast(t)}))}else n["a"].confirm({title:"您未绑定房间，是否前往绑定？",confirmButtonText:"前往"}).then((function(){o.$router.push("selectArea")})).catch((function(){}))},changeSeeRange:function(t){t.seeRange=!t.seeRange,this.$forceUpdate()},getCartNum:function(){var t=this,o={ownerCode:t.$userInfo.OWNER_CODE};Object(e["h"])(o).then((function(o){t.skuNum=o.data.skuTypeNum,l["a"].setStorage("skuTypeNum",t.skuNum)}))},moveInputIntoView:function(t){var o=this;this.isShowPlaceHolder=!0,this.$nextTick((function(){o.$refs.goodsPageScroll.scrollTop=o.$refs.changeTop.offsetTop-100}))},resetInputIntoView:function(t){this.isShowPlaceHolder=!1}},mounted:function(){},computed:Object(a["c"])({goodsDetailEventBackButtonFlag:function(t){return t.goBack.goodsDetailEventBackButtonFlag},setSpuCode:function(t){return t.productPage.setSpuCode}}),watch:{goodsDetailEventBackButtonFlag:function(t){t&&(1==this.show.weChartShare?this.show.weChartShare=!1:1==this.show.couponList?this.show.couponList=!1:this.onClickLeft(),this.$store.dispatch("setGoodsDetailEventBackButtonFlag",!1))},setSpuCode:{handler:function(t,o){t!=this.spuCode&&-1!=t&&(this.spuCode=t,this.init(),this.$store.commit("setSpuCodeChange",{spuCode:-1}))}}},activated:function(){this.isShowPreview=!1;var t=this.$route.params.goodsUrl;t&&void 0!=t&&(this.productImgs=[t]),window.addEventListener("scroll",this.handleScroll),window.addEventListener("native.keyboardshow",this.moveInputIntoView),window.addEventListener("native.keyboardhide",this.resetInputIntoView),document.querySelector(".goodsDetail").addEventListener("touchmove",(function(t){document.activeElement&&document.activeElement.blur()}),{passive:!1}),this.$route.params.spuCode?(this.lists={},this.$refs.goodsPageScroll.scrollTop=this.scroll=0,this.spuCode=this.$route.params.spuCode,this.init(),this.ifCollection(),this.getCartNum()):(console.log(this.lists.detailDescribe),0!=this.scroll&&(this.$refs.goodsPageScroll.scrollTop=this.scroll,console.log("返回页面的位置"+this.scroll+"-----》"+this.$refs.goodsPageScroll.scrollTop)),this.init(),this.ifCollection(),this.getCartNum())},deactivated:function(){this.getPickupList=[],this.platformList=[],this.fullReductionList=[],this.packList=[],this.unionPayActList=[],this.skuList={},this.goodsNum=1,this.productImgs=[],this.shopInfo={},this.titShow=0,this.show.activeTitle=!1,this.show.normalTitle=!0,this.show.beforeCollect=!0,this.show.afterCollect=!1,this.isShowTopBtn=!1,0!=this.scrollTimerId&&clearTimeout(this.scrollTimerId)},beforeRouteLeave:function(t,o,s){window.removeEventListener("native.keyboardshow",this.moveInputIntoView),window.removeEventListener("native.keyboardhide",this.resetInputIntoView),window.removeEventListener("scroll",this.handleScroll,!0),this.scroll=this.$refs.goodsPageScroll.scrollTop,console.log("离开页面的位置"+this.scroll),s()}}},"507b":function(t,o){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAICAYAAADJEc7MAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAADqADAAQAAAABAAAACAAAAAAysMxaAAAA60lEQVQYGY2QvYrCUBCFvQnp8wZ2sV6w04CVrU8ggiQBH0C0F7ewErHJn42ynZ3NwnaxtlDLPIggSfabIqIuiw6EmXtyvjmXq3zfPyqlhp7nfVfeKPxtbEuNmjFswzC0X3FRFDXES9BEc113UxTFMM/zXRzH9f9goA/xEDTmdmtVGoMgGMkCXddbjuOcS106C2tZliUkzQn6FO0GyoH7T2l9YBs4FY2kKkl7xi+SRqJJPYAikLwguWMYRpOEK5Ug/wAN5H9Zf0AgxUOt6PIQF74TUJcleQlJ1+4PMmMoTNN0GA/MqWVZvWdIfL8WKF1X4hn1KgAAAABJRU5ErkJggg=="},"5e0f":function(t,o,s){"use strict";var e=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{staticClass:"couponList"},t._l(t.lists,(function(o,i){return e("div",{key:"couponItem"+i,staticClass:"couponItem",class:o.isShowScope?"couponItemMinMargin":"couponItemMaxMargin"},[e("div",{staticClass:"couponBg"}),e("div",{staticClass:"couponContent",class:t.setCouponBg(o)},[e("div",{staticClass:"couponPriceBox"},[e("div",{staticClass:"couponPrice"},[e("div",{staticClass:"couponPriceIcon"},[t._v("￥")]),e("div",{staticClass:"couponPriceNum"},[t._v(t._s(o.couponTotal))])]),e("div",{directives:[{name:"show",rawName:"v-show",value:0!=o.limitTotal,expression:"couponItem.limitTotal!=0"}],staticClass:"couponPriceTxt"},[t._v("满"+t._s(o.limitTotal)+"元可用")]),e("div",{directives:[{name:"show",rawName:"v-show",value:0==o.limitTotal,expression:"couponItem.limitTotal==0"}],staticClass:"couponPriceTxt"},[t._v("无门槛")])]),e("div",{staticClass:"couponInfoBox"},[e("div",{staticClass:"couponInfo"},[e("div",{directives:[{name:"show",rawName:"v-show",value:"02"!=o.type,expression:"couponItem.type!='02'"}],staticClass:"couponName"},[t._v(t._s(o.name))]),e("div",{directives:[{name:"show",rawName:"v-show",value:"02"==o.type,expression:"couponItem.type=='02'"}],staticClass:"couponName"},[t._v(t._s(o.shopName)+"优惠券")]),"1"==o.effType||o.effBeginDay?e("div",{staticClass:"couponTime"},[t._v(t._s(o.effBeginDay)+"-"+t._s(o.effEndDay))]):t._e(),"2"!=o.effType||1!=o.effDays||o.effBeginDay?t._e():e("div",{staticClass:"couponTime"},[t._v("\n                            领取后当天有效\n                        ")]),"2"!=o.effType||1==o.effDays||o.effBeginDay?t._e():e("div",{staticClass:"couponTime"},[t._v("\n                            领取后"+t._s(o.effDays)+"天内有效\n                        ")]),e("div",{staticClass:"couponScope",on:{click:function(s){return t.showAndHideScope(o)}}},[e("div",{staticClass:"couponScopeTxt"},[t._v("适用范围")]),e("img",{directives:[{name:"show",rawName:"v-show",value:"02"!=o.type,expression:"couponItem.type!='02'"}],staticClass:"couponScopeIcon",class:o.isShowScope?"rotateImg":"",attrs:{src:s("ed05"),alt:""}}),e("img",{directives:[{name:"show",rawName:"v-show",value:"02"==o.type,expression:"couponItem.type=='02'"}],staticClass:"couponScopeIcon",class:o.isShowScope?"rotateImg":"",attrs:{src:s("507b"),alt:""}})])]),e("div",{staticClass:"couponBtnBox"},[1!=o.isPicked&&"01"!=o.status||!t.lists.isShowBtn?t._e():e("div",{staticClass:"couponBtn",on:{click:function(s){return t.goToShopPage(o)}}},[t._v("立即使用")]),0==o.isPicked&&0==o.isFinished?e("div",{staticClass:"couponBtn",on:{click:function(s){return t.receiveBtn(o)}}},[t._v("立即领取")]):t._e()])])]),e("div",{directives:[{name:"show",rawName:"v-show",value:o.isShowScope,expression:"couponItem.isShowScope"}],staticClass:"couponTypeBox"},[e("div",{staticClass:"couponTypeTxt"},[e("div",[t._v(t._s(o.shopScope))])])])])})),0)},i=[],n=s("5c36"),a=s("2241"),c=s("d399"),r={name:"couponItem",data:function(){return{}},props:{lists:{type:Array,default:function(){return[]}}},mounted:function(){console.log(this.lists),this.lists.map((function(t){t.isShowScope=!1}))},activated:function(){},deactivated:function(){},watch:{},computed:{setCouponBg:function(){return function(t){return"02"==t.type?t.status?"01"==t.status?"stayCouponBg":"02"==t.status?"beenUsedCouponBg":"pastdueCouponBg":1==t.isFinished&&1!=t.isPicked?"staleCouponBg":1==t.isPicked?"getCouponBg":"stayCouponBg":t.status?"01"==t.status?"terraceBg":"02"==t.status?"beenUsedTerraceBg":"pastdueTerraceBg":1==t.isFinished&&1!=t.isPicked?"staleTerraceBg":1==t.isPicked?"getTerraceBg":"terraceBg"}}},methods:{receiveBtn:function(t){var o=this;if(this.$userInfo.ROOM_CODE){var s={id:t.id,ownerCode:this.$userInfo.OWNER_CODE,areaCode:this.$userInfo.AREA_CODE,roomCode:this.$userInfo.ROOM_CODE};Object(n["N"])(s).then((function(o){0==o.resultCode?(Object(c["a"])("领取优惠券成功"),t.isPicked=1):Object(c["a"])(o.msg)})).catch((function(t){Object(c["a"])(t)}))}else a["a"].confirm({title:"您未绑定房间，是否前往绑定？",confirmButtonText:"前往"}).then((function(){o.$router.push("selectArea")})).catch((function(){}))},goToShopPage:function(t){if("01"==t.type){var o=[];this.$router.push({name:"goodsCollection",params:{couponName:0!=t.limitTotal?"满".concat(t.limitTotal,"减").concat(t.couponTotal):"无门槛立减".concat(t.couponTotal,"元"),shopCodeList:o}})}else if("02"==t.type)this.$router.push({name:"shopPage",params:{shopCode:t.shopCode}});else{var s="";t.couponShopList.map((function(t,o){s=0==o?t.shopCode:s+","+t.shopCode})),this.$router.push({name:"goodsCollection",params:{couponName:0!=t.limitTotal?"满".concat(t.limitTotal,"减").concat(t.couponTotal):"无门槛立减".concat(t.couponTotal,"元"),shopCodeList:s}})}},showAndHideScope:function(t){console.log(t),t.isShowScope=!t.isShowScope,this.$forceUpdate()}}},l=r,u=(s("9e60"),s("2877")),h=Object(u["a"])(l,e,i,!1,null,"c66b8140",null);o["a"]=h.exports},9335:function(t,o){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAAXNSR0IArs4c6QAABTpJREFUWAntmH9oW1UUx5s0aV2rnUGdGYUJorg1/jHrOmS1rjhRmLRNOzqx2D+kLjhnJ+j0n42aQafzBwjuj7mof4xS6lZt01QQy8AOROgQcWLFX4OKP1ripu2szs609XPu3n157yUjTesS/+iFm3vuOd93zjfn3Xvfec9V4GjNzc1rZmZm9qG+i752fn7e64D8p1OXy/UPDr8mzojX6+3s6+v7wRrAZZ3U19c/wjwCeIVVnysZsheItTMWix3VMU2CkLsH5QnJGMAfkQ8xjjJe1OArMRLDS8zA3NxcO/7X0BPo7ofkRxLPIz9Ge9kg93lxcXFNb2/vtDbkYPygtbX18NTU1Ek43Em8V+gbJK7KINm7BcN3onC73dUDAwOfiJzrFgwGN87Ozo5IXLK4lix+4zYmNQaZs/kiJ/Gj0egphgmDiyy5AkVQ1oCh/NIY8zaQOc1BcdIEK4QRRtkU+W6aQ5IgjBRBRm3MG8mUDHIwXw0b2d7S8k6QTao4sOxWt7S0+NzsmnUQU7u5tLT0K0Uzjz8lJSVmkqanpyvciURCr794T0/P2TxyU6G7u7vPc5t/MngEZJPoHWwyzzdJ4qudLKeLEPzfbBBLYlSyyGSFPOoyZpATfj1r9TUW8EEO8g8tjmwiT6QjKAp5AjxmM1gmDQ0N9/Hc3Uvl8gyVy2cWkynKcUf2ZK4yeKNh+cVEOAQc7kRVy/isw2ROGxsb1+E0RG9Dvt00OATDRy1rf5fDZE4hqJ4m+Cpz8zNmWKpNRKqgbVXt7e3FqeaCAjJ8t9Yj60enVqmRI60IocpQVhPbrKasQPQKA9Ezsgb7DGNIbqUVKDK35Aku0MugbGxs7EUnhsA3oAtrPfgOsrhKz/VIIdyJ7JM5mNuIJyWWrbFMNmDbI0oIvueSw5DzRu75anRyzBwoLCwcZn49fTt9hwGeRL5WZFqUi9/yeDzjZKsK/fN0uX6GLovnKvoEmP1gToHxY2+jN6GXwKYv5LdRHWN9/wqulvk+cNeh+7msrKxCpbipqamSNTFkGMSHrXHRCKQfxMGbYBptxuTkbzAPg5GC8zi4tFU5thj15qNkcxDMpuTlSQnMOXxt6e/vP62KBdlNgIeTkEsSwDP05/x+fw3gc+zgbczbsJ7WWOZSph8rKiq6g3IpOjg4+D7O16PvMWwKivwFWdqBjyDF8G+VlZWb0e2hf699WcaPhZzMzUVaV1f3LvNt9CPclg4ycYHj4g8BpWusO8nQykAgEA+Hw3PpMOjdo6Ojq3w+3/lIJPJXOozoWHfX8KdWELODRO2C9ACxg2JLIYjxDYxyrOS8QfQQBJ+0ElS3OOdMsgi4TDCLZKWFyrN4US0UCpXE4/HNrJlMPmY5z052dXX9uZhAmZxf1uf4+Hgvxq2XBVgMk5OTQ0wfsKgWLC6aIBFulSjsOPm2khA5TfOQYflSobBp7BlVSyGonT/FsXRYT6wjx4Y8JiNWXbby8i7ONmNO/HIGnRnJdm7NoH6YSy2Wr6ZjS4WkmkmQo+Bb0XAsbDJK80uIJfziU735LMQFB798yFT1IaPiIteZBCl3juPwIrpyismXAJmVzkICLBXDwf8CPm6iJyj33tH+bCR4/9jLW1enYRymwBSgFK0pmaB2O4qtnP46fy5mXGMb8LWVP/o0ygkw8v3b1iQJ9JtRPsR4rxiJtZ9zNSyyNNtBTVV8kOyVA34cm7xm1gooQ9sN2d0ZMH4wJzJghFyE6v2AFWfLoDbwtrVF3l8huhGdegvTtisw/g6xT7lbr/LGMOT0/y8d0iH4dsjcSQAAAABJRU5ErkJggg=="},"9e60":function(t,o,s){"use strict";var e=s("ae66"),i=s.n(e);i.a},ae66:function(t,o,s){},b617:function(t,o){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAYAAAByDd+UAAAAAXNSR0IArs4c6QAAAs5JREFUSA21Vs1rU0EQn32NiY2WmMaQ1NhAW2tLA/WmHjxoDqL/gJ4UDV48eFARxJN4EE+Ch5KLiII3r0L8oD2pYMGKqa/4AZUmBg0l5qNpE/uRdWYlse+574ukCyE7s7+Z3868mWUY6Fb42VSMA7/AOBznjEWB8506iLnIWJVxnuEMXjBg93+eiKubDVhTiKmqu5DN3+WcX0Sd0tS3+d9gjCUD/aEraiy2Sr4EoSDL5FMYWbxNAqk5RjoViIZOEqmIRES2RWR0AwqEOGjPxDfjPI1722n0uVxQXl8neyeL0juuUIGglW0yYkgeiMFh/y4nZIQVXApVoxPLo7t7IR4MwK3RYSdmAktciih9m6aUhpsj+wR63NcDp/aEbVr+hRGX4qTPzvRHYLTnX1ve2D8E3i4HXwN72ja6z+OBa8MDmojC2z1weWgAulirnTXnMoGFUpNcdjDo7YZDWBgH/T7xP7jDK4MJ3crGBrwrlWG6WIa3xRLuK7CMOtmSEiaiEbg9NiLD29LlanU49noaKpLWkab0QSYHT3I/bDnXg2oYWeL9rJSMsFJCOrj68ROmqERb2wvfYbiUnoMPlSVDG0PCVTQ+PzMLCys1Q2P9wZ2v8/A0v6hXa2RDQkIV1tbg7EwaO0daVxpHz5Ho3vyCRicTTAnJIIsFgG+gzFaj+17/rZGNBEvCoNttZKvRBz32cNaENh0F3ds0FzASrAl1jr5Ul+G6+hkeZ3NQ39TcdjPhwg9UNXtPm6l686sIyW8ZeLlYaF2eqjIR3Qvn8NfEtQ5lG5p3wqlJFWtwTHZOuiO9fljCF8Ost7oVBU5H+uARRm1Wz1h6cy6arhBlSPgKI7NatUYDHiKZ1SIuhUY5BDaswB04bxCXQnMjjXIdcGjqgjiIS1QpzY00yplatHEoxkTkIBeCkOZFmhvxFhOo62R6aVKbaM6kRPjfm7XVo/4fQHAGwxFwhQQAAAAASUVORK5CYII="},cc0e:function(t,o){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAGCAYAAACB1M0KAAAAAXNSR0IArs4c6QAAAGxJREFUOBFj1L56le3t4xdN/xkY4xj+/5dkGEqAkfE5I8P/RcKyEnWMEjv2dvz/z1A+lNyP7lZGRoZOJnBMoMsMMT7ID0xDzM04ncsESmM4ZYeIBMgPTOCMAkxjDMCMM0TcjXAmKLMD3Q7yAwC2uhtvkUhjewAAAABJRU5ErkJggg=="},ed05:function(t,o){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAICAYAAADJEc7MAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAADqADAAQAAAABAAAACAAAAAAysMxaAAAAnklEQVQYGY3QLwoCQRQH4PXPISxiESwWwSZWvYQeQDyAYDdYLUaTYPIwxjWJQRBBRPv6ubCwK7vowDfz5r3flAmiKDowDP5csgPCwDbiRf/XW5keT8ZxVjHhQbfosVmHO9NMRmPGjXZm4KLX4sr8exbfDRZcaCYBdYMzy6SXewqsOFGnxpF1bjjdFCqxIeTz41vK6UxhLVhhx55qXvANpAaZho+5RScAAAAASUVORK5CYII="}}]);
//# sourceMappingURL=chunk-f7b2c99c.2020111117.js.map