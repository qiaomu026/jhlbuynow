(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-80eccb82"],{"1f1a":function(t,s){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADgAAAA4CAYAAACohjseAAAAAXNSR0IArs4c6QAAAwFJREFUaAXtms9rE0EUx2eKMQasR4/ePHioiCDYkwoxIEoO/hHtIe3FVg/iTbz4C6TtQf8JQcRAkkMpSA9WPAi9eBA9epKWkuAh4/eFzJJ05011sjs7xhkIu/Nm5r33efNmd3azQsQSIxAjECMQI5COgFps3MHverplXCLHq+O1er0+2+v1VpRS8/jNjrfmU5NSbrfb7RWbdrXQuNsX6jGc76F/Xb7caHP9j3ENBNftdj8C7CzXJyf5T5teDUd9lBAnhFJvMJMs5AynDHCrBcBx7gzko3C6I0HCT4I0pis7g1Awr5UgDX7gfEfXcz4a7ZjgtB8EiXSdQz2VqjbAZM0hQh86nc4trdD30QZHvswIeQ/r8LnJLzZFTZ2LkP0R3KuNJ5xvQQNOCkfQwQJmARcsYFZwQQJmCRccYNZwBGi7TVA7W6rV6jm20dxwgFvNd3MTdiXD7RfXPrgVWK6W3DhnQCjc5ZQy8g7kxt1GXnDkxySADMffiV3hkEEPYekCWcNO6zM26PdNlgsFdIUbglzGsUrn2GmdHMpSB2dARO12SptdQPvZpEwIl+g56sQZECnx+ijlXLsvOLLvfSfjE847oG84r4BFwHkDLArOC6BaXj6FJ+4GGTMV1x2KSZdJ5nwVxY0WfvMFt5EtXGmvyLW1PbW0dE38EptKqDOjI/KGI1terqJyff2rPC6vSiGTvagPOG+AZGgE8psvOLLrnKIY+4AUWEoyW7oPQWJNnqe01bK8j86AePR55OKcTzjyz8sadAlEVmMiYFaRLErP1M+g80WmVqvd8DkrrVar6WLPGbDf779zMTjBGOt/mZzeqU/RqQd0TtFSqXSRS4uQ5M6AzWbzU0ggnC9Tn6IRkJv6f0VuW4P7GgJP55fwBP9W1wM5Dl7bky/wL/H1sG82wG10HvxZglfjp3F+8/DgUOoAJF+NhV2DlUrlKQZ+MY4KS7hbLpdfcC5Ztz/Dr51WMZi+mUk+K+GUeZbTW4H3mIRn2KceeLYdzcUIxAjECPwnEfgNPFUpXJdxQ/kAAAAASUVORK5CYII="},2328:function(t,s,i){},3782:function(t,s,i){"use strict";var e=function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",{staticClass:"submit"},[i("div",{class:{submitBtn:!0,submitDown:t.isDown,forbidBtn:t.isForbid,submitBtnThemeL:t.bindThemeL},attrs:{id:"submit"},on:{click:t.submit,touchstart:t.touchStart,touchend:t.touchEnd}},[t._v(t._s(t.submitName))])])},n=[],a={props:{submitName:{type:String,default:"提交"},isForbid:{type:Boolean,default:!1}},data:function(){return{isDown:!1,bindThemeL:0!=this.$curTheme}},methods:{submit:function(){this.$emit("save","33")},touchStart:function(){0==this.isForbid&&(this.isDown=!0)},touchEnd:function(){0==this.isForbid&&(this.isDown=!1)}}},o=a,c=(i("850e"),i("2877")),E=Object(c["a"])(o,e,n,!1,null,"c3db0a32",null);s["a"]=E.exports},"55a5":function(t,s,i){"use strict";var e=i("96db"),n=i.n(e);n.a},"850e":function(t,s,i){"use strict";var e=i("2328"),n=i.n(e);n.a},"96db":function(t,s,i){},be10:function(t,s,i){"use strict";i.r(s);var e=function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",{staticClass:"questionnaireNotFinish"},[i("navigation-bar",{attrs:{pageName:t.title},on:{onLeftClick:t.onLeftClick}}),i("section",{staticClass:"list"},[i("form",{attrs:{id:"question"}},[0==t.isDisplayed?i("div",{staticClass:"item"},[i("div",{staticClass:"questionnaireTitle"},[i("div",{staticClass:"leftImg"},[i("img",{staticClass:"iconImg",attrs:{src:t.iconImg}})]),i("div",{staticClass:"rightCon"},[t._v(t._s(t.titleName))])]),i("div",{staticClass:"questionHeader"},[t._v("Q"+t._s(t.titleNo)+" : "+t._s(t.questName)+" ("+t._s(t.questionType)+") ")]),0==t.list.QUEST_TYPE_FLAG?i("div",{staticClass:"questionCon questionInput"},[i("van-cell-group",[i("van-field",{attrs:{rows:"1",autosize:"",maxlength:"100",type:"textarea",placeholder:"请输入"},model:{value:t.message,callback:function(s){t.message=s},expression:"message"}}),i("div",{staticClass:"txtLimit"},[t._v(t._s(t.message.length)+"/100")])],1)],1):t._e(),1==t.list.QUEST_TYPE_FLAG&&1==t.list.SELECT_TYPE_FLAG?i("div",[i("van-radio-group",{model:{value:t.radio,callback:function(s){t.radio=s},expression:"radio"}},t._l(t.list.optionList,(function(s,e){return i("van-radio",{key:e,attrs:{"checked-color":"#17B7BD",name:s.ITEM_CODE}},[t._v(t._s(s.ITEM_NAME))])})),1)],1):t._e(),1==t.list.QUEST_TYPE_FLAG&&0==t.list.SELECT_TYPE_FLAG?i("div",[i("div",[i("van-checkbox-group",{model:{value:t.result,callback:function(s){t.result=s},expression:"result"}},t._l(t.list.optionList,(function(s,e){return i("van-checkbox",{key:e,attrs:{"checked-color":"#17B7BD",name:s.ITEM_CODE}},[t._v(t._s(s.ITEM_NAME))])})),1)],1)]):t._e()]):t._e(),1==t.isDisplayed?i("div",{staticClass:"item"},[i("div",{staticClass:"questionnaireTitle"},[i("div",{staticClass:"leftImg"},[i("img",{staticClass:"iconImg",attrs:{src:t.iconImg}})]),i("div",{staticClass:"rightCon"},[t._v(t._s(t.titleName))])]),i("div",{staticClass:"questionHeader"},[t._v("Q"+t._s(t.titleNo)+" : "+t._s(t.questName)+" ("+t._s(t.questionType)+") ")]),0==t.list.QUEST_TYPE_FLAG?i("div",{staticClass:"questionCon questionInput"},[i("van-cell-group",[i("van-field",{attrs:{rows:"1",autosize:"",disabled:"",type:"textarea",placeholder:"请输入"},model:{value:t.message,callback:function(s){t.message=s},expression:"message"}})],1)],1):t._e(),1==t.list.QUEST_TYPE_FLAG&&1==t.list.SELECT_TYPE_FLAG?i("div",[i("van-radio-group",{model:{value:t.radio,callback:function(s){t.radio=s},expression:"radio"}},t._l(t.list.optionList,(function(s,e){return i("van-radio",{key:e,attrs:{"checked-color":"#17B7BD",name:s.ITEM_CODE}},[t._v(t._s(s.ITEM_NAME))])})),1)],1):t._e(),1==t.list.QUEST_TYPE_FLAG&&0==t.list.SELECT_TYPE_FLAG?i("div",[i("div",[i("van-checkbox-group",{model:{value:t.result,callback:function(s){t.result=s},expression:"result"}},t._l(t.list.optionList,(function(s,e){return i("van-checkbox",{key:e,attrs:{"checked-color":"#17B7BD",name:s.ITEM_CODE}},[t._v(t._s(s.ITEM_NAME))])})),1)],1)]):t._e()]):t._e()])]),0==t.btnFlag?i("section",{staticClass:"bottomBtn"},[i("submit-btn",{attrs:{submitName:t.btnName},on:{save:t.next}})],1):t._e(),1==t.btnFlag?i("section",{staticClass:"bottomBtn"},[i("submit-btn",{on:{save:t.submit}})],1):t._e()],1)},n=[],a=(i("ac6a"),i("bd86")),o=i("0aa6"),c=i("3782"),E=i("be53"),u=i("d399"),r={name:"questionnaireNotFinish",components:{NavigationBar:o["a"],SubmitBtn:c["a"]},data:function(){var t;return t={title:"问卷详情",btnName:"下一题",btnFlag:0,isDisplayed:0,isNowForbid:!0,questionType:"单选",message:"",radio:"",nowNum:1,isShow:!0,list:{},result:[],item:{},con:{},questData:[],titleName:"",titleNo:"",questName:""},Object(a["a"])(t,"btnFlag",0),Object(a["a"])(t,"isSaveing",!1),Object(a["a"])(t,"iconImg",i("1f1a")),t},mounted:function(){this.item=this.$route.query,this.initData(),this.isRead()},methods:{onLeftClick:function(){this.$store.dispatch("changeActiveFlag",0),this.$router.go(-1)},isRead:function(){var t={PUBLISH_CODE:this.item.PUBLISH_CODE,PAPER_CODE:this.item.PAPER_CODE,USER_CODE:this.$userInfo.OWNER_CODE||"",USER_NAME:this.$userInfo.OWNER_NAME||"",USER_NICK_NAME:this.$userInfo.OWNER_NAME||"",ROOM_CODE:this.$userInfo.ROOM_CODE||""};t={data:JSON.stringify(t)},Object(E["savePaperReader"])(t).then((function(t){}),(function(t){}))},next:function(){var t,s=this,i=0;if(console.log(this.con),"单选"==this.questionType){if(this.radio<=0)return void Object(u["a"])("请做出您的选择...");var e={};this.con.optionList.forEach((function(e){e.ITEM_CODE==s.radio&&(i=e.LINK_QUEST_FLAG,t=e.LINK_QUEST_CODE)})),e.QUEST_CODE=this.con.subjectMap.QUEST_CODE,e.ITEM_CODE=this.radio||"",e.CONTENT="",e.POINT=0,this.questData.push(e)}else if("多选"==this.questionType){if(this.result<=0)return void Object(u["a"])("请做出您的选择...");if(this.result.length>this.con.subjectMap.MUTI_CNT)return void Object(u["a"])("最多选择"+this.con.subjectMap.MUTI_CNT+"个选项");this.con.optionList.forEach((function(e){e.ITEM_CODE==s.result[0]&&(i=e.LINK_QUEST_FLAG,t=e.LINK_QUEST_CODE)}));for(var n=0;n<this.result.length;n++){var a={};a.QUEST_CODE=this.con.subjectMap.QUEST_CODE,a.ITEM_CODE=this.result[n],a.CONTENT="",a.POINT=0,this.questData.push(a)}}else{if(this.message.length<=0)return void Object(u["a"])("请输入您的意见...");this.con.optionList.length>0&&(i=this.con.optionList[0].LINK_QUEST_FLAG,t=this.con.optionList[0].LINK_QUEST_CODE);var o={};o.QUEST_CODE=this.con.subjectMap.QUEST_CODE,o.CONTENT=this.message,this.questData.push(o)}console.log(this.questData);var c={};0==i?(c.PAPER_CODE=this.item.PAPER_CODE,c.SORT_NO=this.nowNum):c.QUEST_CODE=t,this.isShow=!1,c={data:JSON.stringify(c)},Object(E["getQuestionNotItem"])(c).then((function(t){if(0==t.optionList.length&&!t.subjectMap)return Object(u["a"])("请提交您的问卷，感谢您的参与，祝您生活愉快!"),s.btnFlag=1,void(s.isDisplayed=1);s.radio="",s.result=[],s.message="",s.con=t,s.nowNum=s.con.subjectMap.SORT_NO+1,s.isShow=!1,s.isShow=!0,s.titleName=s.con.subjectMap.PAPER_NAME,s.titleNo=s.con.subjectMap.SORT_NO,s.questName=s.con.subjectMap.QUEST_NAME,s.list.optionList=t.optionList,s.list.QUEST_TYPE_FLAG=t.subjectMap.QUEST_TYPE_FLAG,s.list.SELECT_TYPE_FLAG=t.subjectMap.SELECT_TYPE_FLAG,s.$forceUpdate(),s.isTypeQus()}),(function(t){}))},initData:function(){var t=this,s={PUBLISH_CODE:this.item.PUBLISH_CODE,QUEST_CODE:this.item.QUEST_CODE,PAPER_CODE:this.item.PAPER_CODE,PUBLISH_TYPE:this.item.PUBLISH_TYPE,SORT_NO:this.nowNum,TYPE_FLAG:1,ENROL_CODE:""};this.isShow=!1,s={data:JSON.stringify(s)},Object(E["getQuestionNotItem"])(s).then((function(s){t.con=s,t.isShow=!0,t.nowNum=t.con.subjectMap.SORT_NO+1,t.titleName=t.con.subjectMap.PAPER_NAME,t.titleNo=t.con.subjectMap.SORT_NO,t.questName=t.con.subjectMap.QUEST_NAME,t.list.optionList=s.optionList,t.list.QUEST_TYPE_FLAG=s.subjectMap.QUEST_TYPE_FLAG,t.list.SELECT_TYPE_FLAG=s.subjectMap.SELECT_TYPE_FLAG,t.isTypeQus()}),(function(t){}))},submit:function(){var t=this;if(!this.isSaveing){var s={PUBLISH_CODE:this.item.PUBLISH_CODE,PAPER_CODE:this.item.PAPER_CODE,USER_CODE:this.$userInfo.OWNER_CODE||"",USER_NICK_NAME:this.$userInfo.OWNER_NICK_NAME||"",USER_NAME:this.$userInfo.OWNER_NAME||"",ROOM_CODE:this.$userInfo.ROOM_CODE||"",AREA_CODE:this.$userInfo.AREA_CODE||"",ENROL_CODE:""},i={PAPER_CODE:this.item.PAPER_CODE,SORT_NO:this.nowNum,moreQuestion:1};i={data:JSON.stringify(i)},Object(E["getQuestionNotItem"])(i).then((function(t){}),(function(t){})),this.isSaveing=!0;var e={data:JSON.stringify(s),questData:JSON.stringify(this.questData)};Object(E["saveQuestion"])(e).then((function(s){t.isSaveing=!1,t.$store.dispatch("changeActiveFlag",0),s.success&&s.data&&""!=s.data&&t.$toast("恭喜问卷调查获取"+s.data+"积分"),t.$router.go(-1)}),(function(s){t.isSaveing=!1}))}},isTypeQus:function(){1==this.list.QUEST_TYPE_FLAG&&1==this.list.SELECT_TYPE_FLAG?this.questionType="单选":1==this.list.QUEST_TYPE_FLAG&&0==this.list.SELECT_TYPE_FLAG?this.questionType="多选":0==this.list.QUEST_TYPE_FLAG&&(this.questionType="问答")}}},l=r,_=(i("55a5"),i("2877")),h=Object(_["a"])(l,e,n,!1,null,null,null);s["default"]=h.exports},be53:function(t,s,i){"use strict";i("ba6a"),i("d399")}}]);
//# sourceMappingURL=chunk-80eccb82.a7967347.js.map