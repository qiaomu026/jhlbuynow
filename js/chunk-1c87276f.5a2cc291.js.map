{"version":3,"sources":["webpack:///./src/assets/images/home/property/advancePayment/bg_cut.png","webpack:///./src/assets/images/home/property/advancePayment/bg_add.png","webpack:///./src/page/property/propertyFee/propertyPreOrderPay.vue?699f","webpack:///./src/page/property/propertyFee/propertyPreOrderPay.vue?0197","webpack:///src/page/property/propertyFee/propertyPreOrderPay.vue","webpack:///./src/page/property/propertyFee/propertyPreOrderPay.vue?b48d","webpack:///./src/page/property/propertyFee/propertyPreOrderPay.vue"],"names":["module","exports","render","_vm","this","_h","$createElement","_c","_self","staticClass","class","themeL","bindThemeL","attrs","title","headerItemWidth","on","onClickLeft","staticStyle","houseImg","style","fontSize","roomNameFont","_v","_s","orderDetail","roomName","customerNameFont","customerName","months","_m","_l","item","cycleIndex","key","payOptionName","discount","_e","advanceMoney","useDiscount","chargeMoney","noCycleOptionList","length","nocycleIndex","pointFont","cutImg","$event","pointReduce","directives","name","rawName","value","pointVO","expression","domProps","target","composing","$set","addImg","pointAdd","integralInstructionFn","pointAviable","isAllPoints","switchOnImg","switchOffImg","useAllPoints","_f","totalAmount","deductionMoney","discountMoney","unionPayMoney","goToPay","payParam","isAlipay","isWechart","closePopup","checkOrderStatus","staticRenderFns","data","billNo","cycleOptionList","payWindowShow","needRefresh","$curTheme","components","NavigationBar","propertyOrderGotoPay","propertyPayPopup","beforeRouteLeave","to","next","activated","window","addEventListener","pointValid","cordova","plugins","Keyboard","hideKeyboardAccessoryBar","$route","params","deductionPoints","getPreOrderDetail","methods","updateOptionList","i","detailList","feeType","push","dismoney","listmoney","getUseOrderLimitFn","reqData","ownerCode","$userInfo","OWNER_CODE","money","$toast","calculateUnionPayMoney","isNaN","console","log","$router","parseFloat","toFixed","Math","floor","removeEventListener","go","payCallBack","broadcaster","component"],"mappings":"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","file":"js/chunk-1c87276f.5a2cc291.js","sourcesContent":["module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAYAAAByDd+UAAAAAXNSR0IArs4c6QAAAHNJREFUSA1jYBgFoyEwGgKjITAaApSGACPIgIULFwqzsrKC2ZQaiEv/79+//8fHx79lnD179vb///974FJITXFGRsYdTEADaeozNAczgi2bN2+eKAsLC00t/vPnz/+kpKTXaA4Y5Y6GwGgIjIbAaAiQEQIAUioWkKGq9UQAAAAASUVORK5CYII=\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAYAAAByDd+UAAAAAXNSR0IArs4c6QAAAQpJREFUSA3tVkEKgzAQNFVRwZu1byh9Sd/gRfBbguDFL7T4kNI3tPUmqKikWamSS0g2eChiQFx2Mzu7o1liGBorTdMbPBpQg2BBRVEc67p+A873/TCKog8mxwGzGfa2bbsUyduqedCEqolF+3ZCkTLa/l1SbelEwO1LOk2NPM8D27aXCSKSA/xN0wTjOD7BNk3z7HleBbZs9X1P4ziuCAxhSulVBlgjTgi5wzdU6mwNQuCayLIsCy3LUiLuui5gijygAFbxxXEcJUmHYaBJkryVSPjuoDgGfoGPFXmCJHxcZm//WOwdyv4BdHyXFC2ZDPD/krquS+cueHv2yd7oDn837ZIlLrG3bijmCy9TSTQY3o5rAAAAAElFTkSuQmCC\"","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./propertyPreOrderPay.vue?vue&type=style&index=0&id=cc62934a&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./propertyPreOrderPay.vue?vue&type=style&index=0&id=cc62934a&scoped=true&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"propertyPreOrderPay\",class:{themeL:_vm.bindThemeL}},[_c('navigation-bar',{attrs:{\"pageName\":_vm.title,\"bothWidth\":_vm.headerItemWidth},on:{\"onLeftClick\":_vm.onClickLeft}}),_c('div',{staticClass:\"propertyPreOrderPayContent\"},[_c('div',{staticStyle:{\"background-color\":\"#f2f2f2\"}}),_c('div',{staticClass:\"list\"},[_c('div',{staticClass:\"item\",staticStyle:{\"border\":\"none\"}},[_c('div',{staticStyle:{\"display\":\"flex\"}},[_c('van-image',{attrs:{\"width\":\"54\",\"height\":\"54\",\"src\":_vm.houseImg}}),_c('div',{staticStyle:{\"left\":\"16px\",\"flex\":\"1\"}},[_c('div',{staticStyle:{\"min-height\":\"27px\",\"line-height\":\"27px\",\"font-size\":\"16px\",\"color\":\"black\"},style:({fontSize:_vm.roomNameFont})},[_vm._v(_vm._s(_vm.orderDetail.roomName))]),_c('p',{staticStyle:{\"height\":\"27px\",\"line-height\":\"27px\",\"font-size\":\"12px\",\"color\":\"#9a9a9a\"},style:({fontSize:_vm.customerNameFont})},[_vm._v(\"房主：\"+_vm._s(_vm.orderDetail.customerName))])]),_c('div')],1)]),_c('div',{staticClass:\"item\"},[_vm._v(\"\\n        预缴周期\\n        \"),_c('span',{staticClass:\"item-note\",staticStyle:{\"color\":\"black\"}},[_c('span',[_vm._v(_vm._s(_vm.months))]),_vm._v(\"个月\\n        \")])]),_vm._m(0),_c('div',{staticClass:\"item\",staticStyle:{\"padding-top\":\"0px\",\"border\":\"none\"}},_vm._l((_vm.cycleOptionList),function(item,cycleIndex){return _c('div',{key:cycleIndex,staticStyle:{\"vertical-align\":\"center\",\"margin-top\":\"16px\",\"height\":\"20px\",\"display\":\"flex\"}},[_c('div',{staticStyle:{\"display\":\"flex\"}},[_c('div',{staticStyle:{\"height\":\"20px\"}},[_vm._v(_vm._s(item.payOptionName))]),(item.discount<100)?_c('div',{staticClass:\"saleTag\"},[_vm._v(_vm._s(item.discount/10)+\"折\")]):_vm._e()]),_c('div',{staticClass:\"item-note\",staticStyle:{\"height\":\"20px\",\"display\":\"flex\",\"justify-content\":\"flex-end\",\"flex-grow\":\"1\"}},[(item.discount<100)?_c('div',{staticClass:\"fs12\",staticStyle:{\"height\":\"20px\",\"margin-right\":\"4px\",\"text-decoration\":\"line-through\"}},[_vm._v(\"￥\"+_vm._s(item.advanceMoney))]):_vm._e(),(_vm.orderDetail.useDiscount==1)?_c('div',{staticClass:\"fs16\",staticStyle:{\"height\":\"20px\",\"color\":\"black\"}},[_vm._v(\"￥\"+_vm._s(item.chargeMoney))]):_vm._e(),(_vm.orderDetail.useDiscount==0)?_c('div',{staticClass:\"fs16\",staticStyle:{\"height\":\"20px\",\"color\":\"black\"}},[_vm._v(\"￥\"+_vm._s(item.advanceMoney))]):_vm._e()])])}),0),(_vm.noCycleOptionList.length>0)?_c('div',{staticClass:\"item\"},[_c('div',{staticStyle:{\"color\":\"#9a9a9a\"}},[_vm._v(\"非固定费用项\")])]):_vm._e(),(_vm.noCycleOptionList.length>0)?_c('div',{staticClass:\"item\",staticStyle:{\"padding-top\":\"0px\",\"border\":\"none\"}},_vm._l((_vm.noCycleOptionList),function(item,nocycleIndex){return _c('div',{key:nocycleIndex,staticClass:\"pt16\"},[_c('span',{staticStyle:{\"height\":\"22px\"}},[_vm._v(_vm._s(item.payOptionName))]),_c('span',{staticClass:\"item-note\",staticStyle:{\"color\":\"black\"}},[_vm._v(\"￥\"+_vm._s(item.chargeMoney))])])}),0):_vm._e(),_c('div',{staticClass:\"item\"},[_c('div',{staticStyle:{\"display\":\"flex\"}},[_c('div',{staticStyle:{\"width\":\"50%\"}},[_c('div',[_c('p',{staticStyle:{\"color\":\"black\",\"font-size\":\"16px\"},style:({fontSize:_vm.pointFont})},[_vm._v(\"积分抵扣\")]),_c('p',{staticStyle:{\"color\":\"#9a9a9a\",\"font-size\":\"12px\"}},[_vm._v(\"100积分可抵1元\")])])]),_c('div',{staticStyle:{\"width\":\"50%\"},attrs:{\"align\":\"right\"}},[_c('div',{staticClass:\"change_point\",staticStyle:{\"border\":\"1px solid\",\"border-radius\":\"3px\",\"border-color\":\"#bdbdbd\",\"margin-top\":\"6px\"}},[_c('van-image',{staticClass:\"delete_icon\",attrs:{\"src\":_vm.cutImg},on:{\"click\":function($event){return _vm.pointReduce()}}}),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.pointVO.deductionPoints),expression:\"pointVO.deductionPoints\"}],staticClass:\"point_num\",attrs:{\"type\":\"number\"},domProps:{\"value\":(_vm.pointVO.deductionPoints)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.pointVO, \"deductionPoints\", $event.target.value)}}}),_c('van-image',{staticClass:\"add_icon\",attrs:{\"src\":_vm.addImg},on:{\"click\":function($event){return _vm.pointAdd()}}})],1)])])]),_c('div',{staticClass:\"item\",staticStyle:{\"display\":\"flex\"}},[_c('div',{on:{\"click\":function($event){return _vm.integralInstructionFn()}}},[_c('div',{staticStyle:{\"display\":\"flex\"}},[_c('p',{staticStyle:{\"color\":\"black\",\"font-size\":\"16px\",\"height\":\"20px\"},style:({fontSize:_vm.pointFont})},[_vm._v(\"使用全部积分抵扣\")]),_c('p',{staticClass:\"pointRule\"},[_vm._v(\"?\")])]),_c('p',{staticStyle:{\"color\":\"#9a9a9a\",\"font-size\":\"12px\",\"height\":\"20px\"}},[_vm._v(\"本次可用最高积分为\"+_vm._s(_vm.pointAviable))])]),_c('div',{staticClass:\"item-note\",staticStyle:{\"height\":\"31px\",\"right\":\"0px\",\"flex-grow\":\"1\"}},[_c('img',{staticClass:\"choose_is_point\",attrs:{\"src\":_vm.isAllPoints?_vm.switchOnImg:_vm.switchOffImg},on:{\"click\":function($event){return _vm.useAllPoints()}}})])]),_c('div',{staticClass:\"item\",staticStyle:{\"padding-bottom\":\"0px\",\"font-size\":\"12px\",\"color\":\"#3a3a3a\"},style:({fontSize:_vm.pointFont})},[_c('span',{staticClass:\"btTitle\"},[_vm._v(\"订单总额\")]),_c('span',{staticClass:\"item-note\",staticStyle:{\"color\":\"black\"}},[_vm._v(\"￥\"+_vm._s(_vm._f(\"keepTwoNum\")(_vm.totalAmount)))])]),_c('div',{staticClass:\"item\",staticStyle:{\"border\":\"none\",\"padding-bottom\":\"0px\",\"padding-top\":\"8px\",\"font-size\":\"12px\",\"color\":\"#3a3a3a\"},style:({fontSize:_vm.pointFont})},[_c('span',{staticClass:\"btTitle\"},[_vm._v(\"积分抵扣\")]),_c('span',{staticClass:\"item-note\",staticStyle:{\"color\":\"#fd666a\"}},[_vm._v(\"-￥\"+_vm._s(_vm._f(\"keepTwoNum\")(_vm.pointVO.deductionMoney)))])]),(_vm.discountMoney>0)?_c('div',{staticClass:\"item\",staticStyle:{\"border-top\":\"none\",\"padding-top\":\"8px\",\"font-size\":\"12px\",\"color\":\"#3a3a3a\"},style:({fontSize:_vm.pointFont})},[_c('span',{staticClass:\"btTitle\"},[_vm._v(\"折扣优惠\")]),_c('span',{staticClass:\"item-note\",staticStyle:{\"color\":\"#fd666a\"}},[_vm._v(\"-￥\"+_vm._s(_vm._f(\"keepTwoNum\")(_vm.discountMoney)))])]):_vm._e()])]),_c('div',{staticStyle:{\"height\":\"87px\"}}),_c('property-order-goto-pay',{attrs:{\"amount\":_vm.unionPayMoney},on:{\"goToPay\":_vm.goToPay}}),(_vm.payWindowShow)?_c('property-pay-popup',{attrs:{\"payParam\":_vm.payParam,\"isAlipay\":_vm.isAlipay,\"isWechart\":_vm.isWechart},on:{\"closePopup\":_vm.closePopup,\"checkOrderStatus\":_vm.checkOrderStatus}}):_vm._e()],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"item\",staticStyle:{\"padding-bottom\":\"0px\",\"border-bottom\":\"none\"}},[_c('div',{staticStyle:{\"color\":\"#9a9a9a\"}},[_vm._v(\"固定费用项\")])])}]\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"propertyPreOrderPay\" :class=\"{themeL:bindThemeL}\">\r\n    <!-- 头部 -->\r\n    <navigation-bar  @onLeftClick=\"onClickLeft\" :pageName=\"title\" :bothWidth=\"headerItemWidth\" >\r\n    </navigation-bar>\r\n    <div class=\"propertyPreOrderPayContent\">\r\n      <div style=\"background-color: #f2f2f2;\"></div>\r\n      <div class=\"list\">\r\n        <div class=\"item\" style=\"border:none;\">\r\n          <div style=\"display:flex\">\r\n            <van-image width=\"54\" height=\"54\" :src=\"houseImg\" />\r\n            <div style=\"left:16px;flex: 1\">\r\n              <div\r\n                style=\"min-height:27px;line-height: 27px;font-size: 16px;color: black;\"\r\n                :style=\"{fontSize:roomNameFont}\"\r\n              >{{orderDetail.roomName}}</div>\r\n              <p\r\n                style=\"height:27px;line-height: 27px;font-size: 12px;color: #9a9a9a;\"\r\n                :style=\"{fontSize:customerNameFont}\"\r\n              >房主：{{orderDetail.customerName}}</p>\r\n            </div>\r\n            <div></div>\r\n          </div>\r\n        </div>\r\n        <div class=\"item\">\r\n          预缴周期\r\n          <span class=\"item-note\" style=\"color:black\">\r\n            <span>{{months}}</span>个月\r\n          </span>\r\n        </div>\r\n        <div class=\"item\" style=\"padding-bottom:0px;border-bottom: none;\">\r\n          <div style=\"color: #9a9a9a;\">固定费用项</div>\r\n        </div>\r\n\r\n        <div class=\"item\" style=\"padding-top:0px;border: none\">\r\n          <div\r\n            v-for=\"(item,cycleIndex) in cycleOptionList\"\r\n            :key=\"cycleIndex\"\r\n            style=\"vertical-align: center;margin-top: 16px;height: 20px;display: flex;\"\r\n          >\r\n            <div style=\"display: flex;\">\r\n              <div style=\"height: 20px;\">{{item.payOptionName}}</div>\r\n              <div v-if=\"item.discount<100\" class=\"saleTag\">{{item.discount/10}}折</div>\r\n            </div>\r\n\r\n            <div\r\n              class=\"item-note\"\r\n              style=\"height: 20px;display: flex;justify-content: flex-end;flex-grow:1;\"\r\n            >\r\n              <div\r\n                class=\"fs12\"\r\n                v-if=\"item.discount<100\"\r\n                style=\"height: 20px;margin-right:4px;text-decoration:line-through;\"\r\n              >￥{{item.advanceMoney}}</div>\r\n              <div\r\n                class=\"fs16\"\r\n                v-if=\"orderDetail.useDiscount==1\"\r\n                style=\"height: 20px;color:black\"\r\n              >￥{{item.chargeMoney}}</div>\r\n              <div\r\n                class=\"fs16\"\r\n                v-if=\"orderDetail.useDiscount==0\"\r\n                style=\"height: 20px;color:black\"\r\n              >￥{{item.advanceMoney}}</div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"item\" v-if=\"noCycleOptionList.length>0\">\r\n          <div style=\"color: #9a9a9a;\">非固定费用项</div>\r\n        </div>\r\n\r\n        <div class=\"item\" style=\"padding-top:0px;border: none;\" v-if=\"noCycleOptionList.length>0\">\r\n          <div class=\"pt16\"  v-for=\"(item,nocycleIndex) in noCycleOptionList\"\r\n            :key=\"nocycleIndex\">\r\n            <span style=\"height: 22px;\">{{item.payOptionName}}</span>\r\n            <span class=\"item-note\" style=\"color:black;\">￥{{item.chargeMoney}}</span>\r\n          </div>\r\n        </div>\r\n        <div class=\"item\">\r\n          <div style=\"display: flex;\">\r\n            <div style=\"width: 50%;\">\r\n              <div>\r\n                <p style=\"color:black;font-size:16px;\" :style=\"{fontSize:pointFont}\">积分抵扣</p>\r\n                <p style=\"color:#9a9a9a;font-size:12px;\">100积分可抵1元</p>\r\n              </div>\r\n            </div>\r\n            <div style=\"width: 50%;\" align=\"right\">\r\n              <div\r\n                class=\"change_point\"\r\n                style=\"border: 1px solid; border-radius: 3px; border-color: #bdbdbd;margin-top: 6px;\"\r\n              >\r\n                <van-image class=\"delete_icon\" :src=\"cutImg\" @click=\"pointReduce()\" />\r\n                <input type=\"number\" class=\"point_num\" v-model=\"pointVO.deductionPoints\" />\r\n                <van-image class=\"add_icon\" :src=\"addImg\" @click=\"pointAdd()\" />\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"item\" style=\"display:flex;\">\r\n          <div @click=\"integralInstructionFn()\">\r\n            <div style=\"display:flex;\">\r\n              <p style=\"color:black;font-size:16px;height: 20px;\" :style=\"{fontSize:pointFont}\">使用全部积分抵扣</p>\r\n              <p\r\n                class=\"pointRule\"\r\n              >?</p>\r\n            </div>\r\n            <p style=\"color:#9a9a9a;font-size:12px;height: 20px;\">本次可用最高积分为{{pointAviable}}</p>\r\n          </div>\r\n          <div class=\"item-note\" style=\"height:31px;right: 0px;flex-grow:1;\">\r\n            <img\r\n              class=\"choose_is_point\"\r\n              :src=\"isAllPoints?switchOnImg:switchOffImg\"\r\n              @click=\"useAllPoints()\"\r\n            />\r\n          </div>\r\n        </div>\r\n        <div class=\"item\" style=\"padding-bottom:0px;font-size:12px;color:#3a3a3a\" :style=\"{fontSize:pointFont}\">\r\n          <span class=\"btTitle\">订单总额</span>\r\n          <span class=\"item-note\" style=\"color:black\">￥{{totalAmount| keepTwoNum}}</span>\r\n        </div>\r\n        <div\r\n          class=\"item\"\r\n          style=\"border: none;padding-bottom:0px;padding-top:8px;font-size:12px;color:#3a3a3a\"\r\n          :style=\"{fontSize:pointFont}\"\r\n        >\r\n          <span class=\"btTitle\">积分抵扣</span>\r\n          <span class=\"item-note\" style=\"color:#fd666a\">-￥{{pointVO.deductionMoney| keepTwoNum}}</span>\r\n        </div>\r\n        <div\r\n          class=\"item\"\r\n          v-if=\"discountMoney>0\"\r\n          style=\"border-top:none;padding-top:8px;font-size:12px;color:#3a3a3a\"\r\n          :style=\"{fontSize:pointFont}\"\r\n        >\r\n          <span class=\"btTitle\">折扣优惠</span>\r\n          <span class=\"item-note\" style=\"color:#fd666a\">-￥{{discountMoney| keepTwoNum}}</span>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <div style=\"height:87px;\"></div>\r\n    <property-order-goto-pay :amount=\"unionPayMoney\" @goToPay=\"goToPay\"></property-order-goto-pay>\r\n    <property-pay-popup\r\n      v-if=\"payWindowShow\"\r\n      :payParam=\"payParam\"\r\n      :isAlipay=\"isAlipay\"\r\n      :isWechart=\"isWechart\"\r\n      @closePopup=\"closePopup\"\r\n      @checkOrderStatus=\"checkOrderStatus\"\r\n    ></property-pay-popup>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {\r\n  getPrepayOrderDetailService,\r\n  prepareToPayPreOrderService,\r\n  getUseLimitService\r\n} from \"../../../services/propertyBillService\";\r\nimport propertyOrderGotoPay from \"./propertyOrderGotoPay\";\r\nimport propertyPayPopup from \"./propertyPayPopup\";\r\nimport NavigationBar from '@/common/currency/NavigationBar.vue';\r\nimport Vue from \"vue\";\r\nimport { Dialog } from \"vant\";\r\nVue.use(Dialog);\r\nexport default {\r\n  name: \"propertyPreOrderPay\",\r\n  data() {\r\n    return {\r\n      billNo: \"\",\r\n      orderDetail: {}, //订单详情\r\n      isAllPoints: 0, //使用全部积分标识\r\n      pointAviable: 0, //可用积分\r\n      totalAmount: 0.0,\r\n      unionPayMoney: 0.0,\r\n      discountMoney: 0.0,\r\n      pointVO: { deductionPoints: 0, deductionMoney: 0 },\r\n      months: 0,\r\n      cycleOptionList: [],\r\n      noCycleOptionList: [],\r\n      payWindowShow: false, //支付弹窗\r\n      isAlipay: false,\r\n      isWechart: false,\r\n      needRefresh: true,\r\n      headerItemWidth:{\r\n          width:'84px'\r\n      },\r\n      title:'订单支付',\r\n      switchOnImg: require(\"../../../assets/images/home/property/payment/switch_on.png\"),\r\n      switchOffImg: require(\"../../../assets/images/home/property/payment/switch_off.png\"),\r\n      addImg: require(\"../../../assets/images/home/property/advancePayment/bg_add.png\"),\r\n      cutImg: require(\"../../../assets/images/home/property/advancePayment/bg_cut.png\"),\r\n      houseImg: require(\"../../../assets/images/home/property/payment/house_house.png\"),\r\n      /*大字模式*/\r\n      bindThemeL: this.$curTheme==0?false:true,\r\n      customerNameFont: this.$curTheme==0?\"12px\":\"15px\",\r\n      roomNameFont: this.$curTheme==0?\"16px\":\"18px\",\r\n      pointFont: this.$curTheme==0?\"16px\":\"17px\",\r\n    };\r\n  },\r\n  components: {\r\n    NavigationBar,\r\n    \"property-order-goto-pay\": propertyOrderGotoPay,\r\n    \"property-pay-popup\": propertyPayPopup\r\n  },\r\n  /* 跳转积分时缓存页面数据 */\r\n  beforeRouteLeave(to, from, next) {\r\n    if (to.name == \"readTextPage\") {\r\n      this.needRefresh = false;\r\n    } else {\r\n      this.needRefresh = true;\r\n    }\r\n    next();\r\n  },\r\n  activated() {\r\n    if (this.needRefresh) {\r\n      window.addEventListener(\"native.keyboardhide\", this.pointValid);\r\n      cordova.plugins.Keyboard.hideKeyboardAccessoryBar(false);\r\n      this.cycleOptionList = [];\r\n      this.noCycleOptionList = [];\r\n      this.billNo = this.$route.params.billNo;\r\n      this.pointVO.deductionPoints = 0;\r\n      this.pointVO.deductionMoney = 0;\r\n      this.isAllPoints = 0;\r\n      this.getPreOrderDetail();\r\n    }\r\n  },\r\n  methods: {\r\n    /* 预缴订单详情 */\r\n    getPreOrderDetail() {\r\n      let reqData = { billNo: this.billNo };\r\n      getPrepayOrderDetailService(reqData)\r\n        .then(result => {\r\n          if (result.resultCode == 200) {\r\n            this.orderDetail = result.data;\r\n            //获得每个收费项目\r\n            this.updateOptionList(result.data.detailList);\r\n\r\n            this.totalAmount = parseFloat(result.data.payMoneyTotal).toFixed(2);\r\n            this.unionPayMoney = parseFloat(result.data.unionPayMoney).toFixed(\r\n              2\r\n            );\r\n            if (\r\n              result.data.deductionPoints != null &&\r\n              result.data.deductionPoints != \"\"\r\n            ) {\r\n              this.pointVO.deductionMoney = parseFloat(\r\n                result.data.deductionMoney\r\n              ).toFixed(2);\r\n              this.pointVO.deductionPoints = result.data.deductionPoints;\r\n            } else {\r\n              this.pointVO.deductionPoints = 0;\r\n            }\r\n            this.months = result.data.months;\r\n\r\n            // 获取用户积分\r\n            this.getUseOrderLimitFn();\r\n          } else {\r\n            this.$toast(result.msg ? result.msg : \"网络异常，请稍后重试！\");\r\n          }\r\n        })\r\n        .catch(error => {\r\n          //加载失败后，关闭加载等待的文字\r\n          this.$toast(\"网络异常，请稍后重试！\");\r\n        });\r\n    },\r\n    /* 组装每个收费项目 */\r\n    updateOptionList(detailList) {\r\n      for (var i = 0; i < detailList.length; i++) {\r\n        if (detailList[i].feeType == 0) {\r\n          this.cycleOptionList.push(detailList[i]);\r\n        } else {\r\n          this.noCycleOptionList.push(detailList[i]);\r\n        }\r\n\r\n        //计算物业折扣优惠金额\r\n        var dismoney = this.discountMoney;\r\n        var listmoney = detailList[i].discountMoney;\r\n        this.discountMoney = dismoney + listmoney;\r\n      }\r\n    },\r\n    /* 获取用户可用积分 */\r\n    getUseOrderLimitFn() {\r\n      var reqData = {\r\n        ownerCode: this.$userInfo.OWNER_CODE,\r\n        money: this.totalAmount\r\n      };\r\n      getUseLimitService(reqData)\r\n        .then(result => {\r\n          if (result.code == 200) {\r\n            //true表示返回成功\r\n            this.pointAviable = Math.floor(result.data / 100) * 100;\r\n          } else {\r\n            this.pointAviable = 0;\r\n          }\r\n        })\r\n        .catch(error => {\r\n          //加载失败后，关闭加载等待的文字\r\n          this.$toast(\"网络异常，请稍后重试！\");\r\n        });\r\n    },\r\n    //积分加\r\n    pointAdd() {\r\n      if (this.pointVO.deductionPoints+100 > this.pointAviable) {\r\n        this.$toast(\"本单最高抵扣\" + this.pointAviable + \"积分\");\r\n      } else {\r\n        this.pointVO.deductionPoints += 100;\r\n        this.pointVO.deductionMoney += 1;\r\n        if (this.pointVO.deductionPoints == this.pointAviable) {\r\n          this.isAllPoints = 1;\r\n        }\r\n        this.calculateUnionPayMoney();\r\n      }\r\n    },\r\n\r\n    //积分减\r\n    pointReduce() {\r\n      this.isAllPoints = 0;\r\n      if (this.pointVO.deductionPoints <= 0) {\r\n        this.$toast(\"抵扣积分不能为负数\");\r\n      } else {\r\n        this.pointVO.deductionPoints -= 100;\r\n        this.pointVO.deductionMoney -= 1;\r\n        this.calculateUnionPayMoney();\r\n      }\r\n    },\r\n    pointValid(){\r\n      let value = this.pointVO.deductionPoints;\r\n      if (isNaN(value)) {\r\n        this.pointVO.deductionPoints=0;\r\n        return;\r\n      }\r\n      if (value > this.pointAviable) {\r\n          this.pointVO.deductionPoints = Math.floor(this.pointAviable / 100) * 100;\r\n          this.$toast('本单最高抵扣' + this.pointAviable + '积分');\r\n      } else if (value < 0) {\r\n          this.pointVO.deductionPoints = 0;\r\n          this.$toast('抵扣积分不能为负数');\r\n      } else {\r\n          var num = value;\r\n          this.pointVO.deductionPoints = Math.floor(value / 100) * 100;\r\n          if (num != this.pointVO.deductionPoints) {\r\n              this.$toast('抵扣积分为整百');\r\n          }\r\n      }\r\n      console.log(this.pointVO.deductionPoints);\r\n      this.pointVO.deductionMoney = this.pointVO.deductionPoints / 100;\r\n      this.calculateUnionPayMoney();\r\n    },\r\n    /* 跳转积分说明 */\r\n    integralInstructionFn() {\r\n      this.$router.push({\r\n        name: \"readTextPage\",\r\n        params: { pageType: 5 }\r\n      });\r\n    },\r\n    /* 计算订单金额 */\r\n    calculateUnionPayMoney() {\r\n      this.unionPayMoney =\r\n        parseFloat(this.totalAmount).toFixed(2) -\r\n        parseFloat(this.discountMoney).toFixed(2) -\r\n        parseFloat(this.pointVO.deductionMoney).toFixed(2);\r\n\r\n      //add for ZHSQYYPT-8133\r\n      this.unionPayMoney = parseFloat(this.unionPayMoney).toFixed(2)\r\n      console.log(\"【订单总额】this.unionPayMoney = \"+this.unionPayMoney)\r\n    },\r\n    /* 使用全部积分 */\r\n    useAllPoints() {\r\n      this.isAllPoints == 1 ? (this.isAllPoints = 0) : (this.isAllPoints = 1);\r\n\r\n      if (this.isAllPoints == 1) {\r\n        this.pointVO.deductionPoints = Math.floor(this.pointAviable / 100) * 100;\r\n      } else {\r\n        this.pointVO.deductionPoints = 0;\r\n      }\r\n      this.pointVO.deductionMoney = this.pointVO.deductionPoints / 100;\r\n      this.calculateUnionPayMoney();\r\n    },\r\n    onClickLeft() {\r\n      window.removeEventListener(\"native.keyboardhide\", this.pointValid);\r\n      cordova.plugins.Keyboard.hideKeyboardAccessoryBar(true);\r\n      this.$router.go(-2);\r\n    },\r\n    /* 立即支付 */\r\n    goToPay() {\r\n      if(this.unionPayMoney < 0){\r\n        this.$toast(\"订单生成错误，金额不能为负数\");\r\n        return;\r\n      }\r\n      let reqData = {\r\n        billNo: this.billNo,\r\n        deductionPoints: this.pointVO.deductionPoints,\r\n        deductionMoney: this.pointVO.deductionMoney,\r\n        unionPayMoney: this.unionPayMoney\r\n      };\r\n      prepareToPayPreOrderService(reqData)\r\n        .then(result => {\r\n          if (result.resultCode == 200) {\r\n            /* 获取支付参数 */\r\n            this.payParam = result.data;\r\n            /* 判断支持的支付方式 */\r\n            if (result.data.IS_ALI_PAY == \"1\") {\r\n              this.isAlipay = true;\r\n            }\r\n            if (result.data.IS_WX_PAY == \"1\") {\r\n              this.isWechart = true;\r\n            }\r\n            /* 支付弹窗 */\r\n            this.payWindowShow = true;\r\n            // /*监听ios支付结果 检测当前订单状态*/\r\n            window.broadcaster.addEventListener(\"paymentBack\", this.payCallBack);\r\n          } else {\r\n            this.$toast(result.msg ? result.msg : \"网络异常，请稍后重试！\");\r\n          }\r\n        })\r\n        .catch(error => {\r\n          //加载失败后，关闭加载等待的文字\r\n          this.$toast(\"网络异常，请稍后重试！\");\r\n        });\r\n    },\r\n    /* 原生回调 */\r\n    payCallBack() {\r\n      this.checkOrderStatus();\r\n    },\r\n    /* 检查订单状态 */\r\n    checkOrderStatus() {\r\n      /* 取消监听，避免重复监听 */\r\n      window.broadcaster.removeEventListener(\"paymentBack\",this.payCallBack);\r\n      /* 获取订单数据 */\r\n      let reqData = { billNo: this.billNo };\r\n      getPrepayOrderDetailService(reqData)\r\n        .then(result => {\r\n          if (result.resultCode == 200) {\r\n            if (result.data.billStatus == 1) {\r\n              //订单状态为已支付，跳转支付成功界面\r\n              this.$router.push({\r\n                name: \"paymentPaySuccess\",\r\n                params: { orderData: result.data }\r\n              });\r\n            } else {\r\n              //支付失败，返回列表页\r\n              this.$toast({\r\n                duration: 500,\r\n                message: \"支付失败\",\r\n                onClose: () => {\r\n                  this.$router.go(-2);\r\n                }\r\n              });\r\n            }\r\n          } else {\r\n            this.$toast(result.msg ? result.msg : \"网络异常，请稍后重试！\");\r\n          }\r\n        })\r\n        .catch(error => {\r\n          //加载失败后，关闭加载等待的文字\r\n          this.$toast(\"网络异常，请稍后重试！\");\r\n        });\r\n    },\r\n    /* 关闭支付弹窗 */\r\n    closePopup() {\r\n      this.payWindowShow = false;\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n.propertyPreOrderPay{\r\n  height: 100%;\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n.propertyPreOrderPayContent {\r\n  margin: 0 20px 0 20px;\r\n  flex: 1;\r\n  overflow-y: scroll;\r\n}\r\n.propertyPreOrderPayContent::-webkit-scrollbar {\r\n  display: none;\r\n}\r\n.propertyPreOrderPay .list {\r\n  position: relative;\r\n  padding-top: 1px;\r\n  padding-bottom: 1px;\r\n  padding-left: 0;\r\n  margin-bottom: 20px;\r\n}\r\n.propertyPreOrderPay .item {\r\n  border-color: #ddd;\r\n  background-color: #fff;\r\n  color: #444;\r\n  position: relative;\r\n  z-index: 2;\r\n  display: block;\r\n  margin: -1px 0;\r\n  padding: 16px 0;\r\n  border-width: 1px;\r\n  border-style: solid;\r\n  font-size: 12px;\r\n  border-left: none;\r\n  border-right: none;\r\n}\r\n.themeL .item {\r\n  font-size: 17px;\r\n}\r\n.propertyPreOrderPay .item-note {\r\n  float: right;\r\n  font-size: 12px;\r\n  color: #333333;\r\n  text-align: right;\r\n  letter-spacing:0.8px;\r\n  /* margin-right: 16px; */\r\n}\r\n.themeL .item-note {\r\n  font-size: 17px;\r\n}\r\n/* 积分 */\r\n.propertyPreOrderPay .change_point {\r\n  overflow: hidden;\r\n  width: 104px;\r\n  float: right;\r\n  height: 28px;\r\n  background: #ffffff;\r\n  display: flex;\r\n  position: relative;\r\n}\r\n.propertyPreOrderPay .add_icon {\r\n  float: right;\r\n  /* height: 28px;\r\n    line-height: 28px;\r\n    width: 28px;\r\n    right: 16px; */\r\n  color: #9a9a9a;\r\n  font-size: 22px;\r\n  text-align: center;\r\n  padding: 6px;\r\n}\r\n\r\n.propertyPreOrderPay .delete_icon {\r\n  float: left;\r\n  /* height: 28px;\r\n    line-height: 28px;\r\n    width: 28px; */\r\n  color: #9a9a9a;\r\n  font-size: 22px;\r\n  text-align: center;\r\n  padding: 6px;\r\n}\r\n\r\n.propertyPreOrderPay .point_num {\r\n  width: 48px;\r\n  font-family: PingFangSC-Regular;\r\n  font-size: 14px;\r\n  color: black;\r\n  background-color: white;\r\n  text-align: center;\r\n  border-radius: 2px;\r\n  height: 28px;\r\n  line-height: 28px;\r\n  padding: 0px;\r\n  border: none;\r\n}\r\n.pointRule{\r\n  text-align: center;\r\n  font-size:10px;\r\n  background-color:#bdbdbd;\r\n  color:white;\r\n  border-radius:7px;\r\n  height: 14px;\r\n  line-height: 15px; \r\n  width: 14px;\r\n  margin-right: 10px;\r\n  margin-top: 2px;\r\n}\r\n\r\n.propertyPreOrderPay .choose_is_point {\r\n  float: right;\r\n  width: 59px;\r\n  height: 32px;\r\n}\r\np {\r\n  margin: 0;\r\n}\r\n\r\n/* 支付弹窗 */\r\n\r\n.vanPopup {\r\n  max-height: 257px;\r\n  background: transparent;\r\n  padding: 0 8px 8px;\r\n  /* padding-bottom: 8px; */\r\n  box-sizing: border-box;\r\n\r\n  .payModeBox {\r\n    width: 359px;\r\n    max-height: 181px;\r\n    background: #fff;\r\n    margin: 0 auto;\r\n    border-radius: 4px;\r\n    margin-bottom: 8px;\r\n\r\n    .payModeTitle {\r\n      padding: 0;\r\n      text-align: center;\r\n      height: 61px;\r\n      line-height: 61px;\r\n      border-bottom: 1px solid #ececec;\r\n      font-family: PingFangSC-Medium;\r\n      font-size: 16px;\r\n      color: #3a3a3a;\r\n      letter-spacing: 0.06px;\r\n    }\r\n\r\n    .payModeItem {\r\n      display: flex;\r\n      justify-content: center;\r\n      align-items: center;\r\n      height: 60px;\r\n      border-color: #ececec;\r\n      border-bottom: 1px solid #e5e5e5;\r\n\r\n      img {\r\n        width: 26px;\r\n        height: 26px;\r\n      }\r\n\r\n      div {\r\n        font-family: PingFangSC-Regular;\r\n        font-size: 16px;\r\n        color: #3a3a3a;\r\n        letter-spacing: 0.06px;\r\n        margin-left: 6px;\r\n      }\r\n    }\r\n\r\n    .payModeItem:last-child {\r\n      border-bottom: 0px;\r\n    }\r\n  }\r\n\r\n  .cancelBtn {\r\n    width: 359px;\r\n    height: 60px;\r\n    line-height: 60px;\r\n    text-align: center;\r\n    border-radius: 4px;\r\n    background: #fff;\r\n    margin: 0 auto;\r\n    font-family: PingFangSC-Regular;\r\n    font-size: 16px;\r\n    color: #3a3a3a;\r\n    letter-spacing: 0.06px;\r\n  }\r\n  /* 底部样式 */\r\n  .btTitle{\r\n    font-size:12px;\r\n    color:#3a3a3a\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./propertyPreOrderPay.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./propertyPreOrderPay.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./propertyPreOrderPay.vue?vue&type=template&id=cc62934a&scoped=true&\"\nimport script from \"./propertyPreOrderPay.vue?vue&type=script&lang=js&\"\nexport * from \"./propertyPreOrderPay.vue?vue&type=script&lang=js&\"\nimport style0 from \"./propertyPreOrderPay.vue?vue&type=style&index=0&id=cc62934a&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"cc62934a\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}