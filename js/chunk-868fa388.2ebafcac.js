(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-868fa388"],{1358:function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"propertyBillAmount"},[i("div",{staticClass:"order_pay"},[i("div",{staticClass:"order_word"},[t.isShowCheck?i("img",{style:{marginTop:t.imgMarginTop},attrs:{width:"25",src:t.isAllCheck?t.billCheckedImg:t.billCheckingImg},on:{click:function(e){return t.checkAllFn()}}}):t._e()]),t.isShowCheck?i("div",{staticClass:"orderNum",class:{orderNumThemeL:t.bindThemeL}},[t._v("全选")]):t._e(),i("div",{staticClass:"order_amount",class:{order_amount_themeL:t.bindThemeL}},[t._v("\n      总计:\n      "),i("span",{staticStyle:{"font-size":"16px","font-weight":"bolder"}},[t._v("￥"+t._s(t._f("keepTwoNum")(t.amount)))])]),i("div",{staticClass:"soonPay",class:{soonPayThemeL:t.bindThemeL},on:{click:function(e){return t.createOrderPay()}}},[t._v("缴费")])])])},o=[],n=(i("c5f6"),{name:"propertyBillAmount",props:{amount:Number,isAllCheck:{type:Boolean,default:!1},isShowCheck:{type:Boolean,default:!1},propertyBillList:Array},data:function(){return{billCheckingImg:i("d636"),billCheckedImg:i("ea53"),bindThemeL:0!=this.$curTheme,imgMarginTop:0==this.$curTheme?"14px":"12px"}},methods:{checkAllFn:function(){this.$emit("checkAllFn")},createOrderPay:function(){this.$emit("createOrderPay")}}}),r=n,a=(i("9bb5"),i("2877")),l=Object(a["a"])(r,s,o,!1,null,"5d555125",null);e["a"]=l.exports},"2d19":function(t,e,i){},"55b4":function(t,e,i){"use strict";var s=i("df8a"),o=i.n(s);o.a},"56e6":function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"propertyBillNone"},[i("div",{staticClass:"propertyBillNoneContent",class:{themeL:t.bindThemeL}},[i("van-image",{attrs:{width:"150",src:t.defalutImg}}),i("div",{staticClass:"propertyBillNoneContentFont"},[t._v("暂无待缴账单")]),t.isShowPrePay?i("div",{staticClass:"goPrePay",on:{click:function(e){return t.gotoAdvancePayment()}}},[t._v("我要预缴")]):t._e(),t.isShowPrePay?i("div",{staticClass:"goCommonPhone",on:{click:function(e){return t.gotoCommonPhone()}}},[t._v("有疑问？点此联系物业")]):t._e()],1)])},o=[],n={name:"propertyBillNone",props:{isShowPrePay:Boolean},data:function(){return{defalutImg:i("96cd"),bindThemeL:0!=this.$curTheme}},methods:{gotoAdvancePayment:function(){this.$emit("gotoAdvancePayment")},gotoCommonPhone:function(){this.$router.push({name:"commonPhone"})}}},r=n,a=(i("93c0"),i("2877")),l=Object(a["a"])(r,s,o,!1,null,"18904432",null);e["a"]=l.exports},"67bc":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAaCAYAAAHeTXxYAAAAAXNSR0IArs4c6QAAAhBJREFUSA3NVt1KAkEUdjV327QuBH0RBW+9MoyiTJa66a4H8SmCuqmLrKzoSljSfhbDFgKfQeleCNb+he0bcGR0dpxVFFo4zNnz9805c+bsBgKiJ5vNRoguSA06nc4d5SVrJpNZGG8SomrDMNREIhFut9s9KuNWGA0chpTJZPJ+SCB9gYcrNJpcCY9jLlwqlbrihL4ECHeby+W0ccaKlxKOYch/VFVdsm37c9TG04kakeNyHOd3GY9lWV0qHxw9FbArDHuKohzC0WLlQh5bLIHqQgNWgRJeg0xWNh8eW7qRReYKgcRDU22PoMGxJkPk9P2CPHIKmQCIZdCTzI7TA/Ecjg+sgisEq3RdVwHt6rpeYOVCvlgsBoHgptPpFaERqyBzgDigYaOsnPJcl9POhkGk2Wx+UEN25XLqXwVd5MA6/0+eq8PoNkk34agK6GMzHo/nTdP8HrXx8y4FIkFwYmQ2XYK2QFVMmU1Mjy/wvh9fQDQaAURmF8hwGzLSwRt+D3MiIArYb7MzvBsArsdisbVqtfpO9V7rVEA0ELkIrVarhAx3ANjQNC3XaDQcqp/pChAFJT0gNw+N8ywKPnVGBACBjxB4H9m8RKPRVTTI28yAyKCpVConANqbpFy+MyIN0O12T/vnYaEB1mUNwGYn+Vsa3KEyZlMeGdRE33k2qBcvBYKTDXrFP9nitFPBC3husj8TibziNdGLagAAAABJRU5ErkJggg=="},"93c0":function(t,e,i){"use strict";var s=i("b090"),o=i.n(s);o.a},"96cd":function(t,e,i){t.exports=i.p+"img/img_default@2x.ca10d5a7.png"},"9bb5":function(t,e,i){"use strict";var s=i("2d19"),o=i.n(s);o.a},b090:function(t,e,i){},cdde:function(t,e,i){},d636:function(t,e){t.exports="data:image/png;base64,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"},df8a:function(t,e,i){},e1fa:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAABWWlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iWE1QIENvcmUgNS40LjAiPgogICA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPgogICAgICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgICAgICAgICB4bWxuczp0aWZmPSJodHRwOi8vbnMuYWRvYmUuY29tL3RpZmYvMS4wLyI+CiAgICAgICAgIDx0aWZmOk9yaWVudGF0aW9uPjE8L3RpZmY6T3JpZW50YXRpb24+CiAgICAgIDwvcmRmOkRlc2NyaXB0aW9uPgogICA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgpMwidZAAABhklEQVRYCe1Uu0rEQBTdxASSMthY2IgQ9AOsUiTYCjZaWwt+iqXb+QNC/IQQA4b8gVgJKRQWLFQQhTyI96w7IWs22czsds4tMjN37j3ncDIzo5EM6YB04L87oDADXNc9KIriqqqqV8MwzsMwfGF76xg9z9PyPL8krEPiGCdJcg3cWoDjODFtONOkojzpuu5FUfSM9aoxI78h/BNgKYpSmqa5GQTBh9oAn7A5Fe6S2ogat1lOdPxLDhzCf7cs6xvzWgDZfkHrRyQR6xCxiJygv1RVPfV9PwNP/QuwoIatLMtCmu5jjSC7hH5HD/lRHMfRFBz4bMLGmYg7Wu+xHK+IoeTAbwlAchURPOSdAkRF8JL3CuAVIUK+VMBQEaLkgwQsE0H7E3oz6kcG9RS4anOn/Tfd/i48hO2y7oNJtQ/0Zhw3egaTo2ewABST1Xgn5q4o8o3gIkcflwA09IjgJhcS0CFCiBxYG/jwRpqmn7Zt35ZluUOv5JumaWf3FLw4sl46IB2QDsCBHzyNG66CP/WgAAAAAElFTkSuQmCC"},e3c8:function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"propertyBillList"},[i("navigation-bar",{attrs:{pageName:t.title,bothWidth:t.headerItemWidth},on:{onLeftClick:t.onClickLeft},scopedSlots:t._u([{key:"nav-right",fn:function(){return[i("div",{staticClass:"rightBtn",class:{rightBtnThemeL:t.bindThemeL},on:{click:t.onClickRight}},[t._v(t._s(t.rightName))])]},proxy:!0}])}),i("div",{staticClass:"propertyBillListContent"},[i("property-order-unpay",{ref:"unpay"}),t.propertyBillList.length>0?i("div",{staticClass:"billAlert",class:{billAlertThemeL:t.bindThemeL}},[t._v("您有新的待缴账单，请及时处理！")]):t._e(),t.isShowDefault?i("property-bill-none",{attrs:{isShowPrePay:t.isShowPrePay},on:{gotoAdvancePayment:function(e){return t.gotoAdvancePayment()}}}):t._e(),t.propertyBillList.length>0?i("div",[t._l(t.propertyBillList,(function(e,s){return i("div",{key:s,staticClass:"order_itme_list"},[i("div",{staticClass:"orderHeader"},[i("div",{staticStyle:{width:"10%","text-align":"center","margin-left":"8px"}},[i("img",{attrs:{width:"25",src:e.isCheckAll?t.billCheckedImg:t.billCheckingImg},on:{click:function(i){return t.checkAllFn(e)}}})]),i("div",{staticStyle:{width:"90%"}},[i("div",{staticClass:"user_title",class:{user_title_themeL:t.bindThemeL}},[t._v(t._s(e.room_name))]),i("div",{staticClass:"user_name",class:{user_name_themeL:t.bindThemeL}},[t._v("房主："+t._s(e.owner_name))])])]),i("div",{staticStyle:{"-webkit-overflow-scrolling":"touch","overflow-y":"false"}},t._l(e.monthList,(function(o,n){return i("div",{key:n},[i("div",{class:n==e.monthList.length-1?"monthUnderRadius":"",staticStyle:{display:"flex",height:"56px","line-height":"56px",border:"1px solid #EFEFEF","border-top":"none","background-color":"white"}},[i("div",{staticStyle:{width:"50%",display:"flex"},on:{click:function(i){return t.checkFn(o,e)}}},[i("div",{staticStyle:{width:"20%","text-align":"center",height:"53px","line-height":"53px","margin-left":"8px"}},[i("img",{staticStyle:{"margin-top":"14px"},attrs:{width:"25",src:o.isCheck?t.billCheckedImg:t.billCheckingImg}})]),i("div",{staticStyle:{width:"80%","font-size":"14px"},style:{fontSize:t.monthFontSize}},[t._v(t._s(o.month_name))])]),i("div",{staticStyle:{width:"50%",position:"relative"},on:{click:function(e){return t.showTime(s,n)}}},[i("div",{staticStyle:{width:"80%","text-align":"right","font-size":"14px"},style:{fontSize:t.amountFontSize}},[t._v("￥"+t._s(t._f("keepTwoNum")(o.month_amount)))]),i("div",{staticStyle:{position:"absolute",right:"8%",top:"-1px"}},[i("img",{staticStyle:{"vertical-align":"middle"},attrs:{width:"14",src:o.isShow?t.arrowDownImg:t.arrowRightImg}})])])]),o.isShow?i("div",t._l(o.billDetailList,(function(e,s){return i("div",{key:s},[i("div",{staticClass:"freeShow"},[i("div",{staticClass:"freeText",class:{freeTextThemeL:t.bindThemeL}},[t._v(t._s(e.payment_type))]),i("div",{staticClass:"freeText",class:{freeTextThemeL:t.bindThemeL}},[t._v("￥"+t._s(t._f("keepTwoNum")(e.payment_amount)))])])])})),0):t._e()])})),0)])})),t.isShowPrePay?i("div",{staticClass:"goCommonPhone",class:{goCommonPhoneThemeL:t.bindThemeL},on:{click:function(e){return t.gotoCommonPhone()}}},[t._v("有疑问？点此联系物业")]):t._e()],2):t._e()],1),t.propertyBillList.length<=0?i("div",{staticClass:"bottomPanel"},[i("div",{staticClass:"addRoom",class:{addRoomThemeL:t.bindThemeL},on:{click:t.addNewRoom}},[t._v("+ 新增缴费")])]):t._e(),t.propertyBillList.length>0?i("property-bill-amount",{attrs:{amount:t.amount,isAllCheck:t.isAllCheck,propertyBillList:t.propertyBillList,isShowCheck:!0},on:{checkAllFn:function(e){return t.allCheckFn()},createOrderPay:function(e){return t.createOrderPay()}}}):t._e()],1)},o=[],n=i("22ae"),r=i("56e6"),a=i("f9b8"),l=i("1358"),c=i("0aa6"),h={name:"propertyBillList",mounted:function(){},beforeRouteLeave:function(t,e,i){this.$refs.unpay.clearPayTimer(),i()},activated:function(){this.amount=0,this.isAllCheck=!1,this.saveList=[],this.propertyBillList=[],this.isShowPrePay=!0,this.isShowDefault=!1,this.areaCode=this.$route.params.areaCode?this.$route.params.areaCode:this.areaCode,this.$refs.unpay.refreshOrder(),this.propertyfee()},data:function(){return{amount:0,isAllCheck:!1,areaCode:this.$userInfo.AREA_CODE,saveList:[],propertyBillList:[],isShowPrePay:!0,isShowDefault:!1,headerItemWidth:{width:"110px"},title:"待缴账单",rightName:"缴费记录",billCheckingImg:i("d636"),billCheckedImg:i("ea53"),arrowRightImg:i("67bc"),arrowDownImg:i("e1fa"),bindThemeL:0!=this.$curTheme,monthFontSize:0==this.$curTheme?"14px":"18px",amountFontSize:0==this.$curTheme?"14px":"17px"}},components:{NavigationBar:c["a"],"property-bill-none":r["a"],"property-order-unpay":a["a"],"property-bill-amount":l["a"]},methods:{propertyfee:function(){var t=this,e={owner_code:this.$userInfo.OWNER_CODE,area_code:this.areaCode};Object(n["n"])({data:JSON.stringify(e)}).then((function(e){if(e.result){for(var i in e.data.roomList)for(var s in e.data.roomList[i].isCheckAll=!1,e.data.roomList[i].monthList)e.data.roomList[i].monthList[s].isCheck=!1,e.data.roomList[i].monthList[s].isShow=!1;console.log(JSON.stringify(e)),t.propertyBillList=e.data.roomList,t.propertyBillList.length<=0&&(t.isShowDefault=!0)}else t.isShowDefault=!0,"暂无账单~"!=e.msg&&(t.isShowPrePay=!1,t.$toast(e.msg))})).catch((function(e){t.$toast("网络异常，请稍后重试！")}))},queryBillDetail:function(t,e){var i=this,s={owner_code:this.$userInfo.OWNER_CODE,area_code:this.$userInfo.AREA_CODE,room_code:this.propertyBillList[t].room_code,month_code:this.propertyBillList[t].monthList[e].month_code};Object(n["p"])({data:JSON.stringify(s)}).then((function(s){s.result&&s.data.billDetailList?(i.propertyBillList[t].monthList[e].billDetailList=s.data.billDetailList,i.propertyBillList[t].monthList[e].isShow=!i.propertyBillList[t].monthList[e].isShow):i.$toast(s.msg?s.msg:"网络异常，请稍后重试！")})).catch((function(t){i.$toast("网络异常，请稍后重试！")}))},showTime:function(t,e){null==this.propertyBillList[t].monthList[e].billDetailList||"undefined"==this.propertyBillList[t].monthList[e].billDetailList?this.queryBillDetail(t,e):this.propertyBillList[t].monthList[e].isShow=!this.propertyBillList[t].monthList[e].isShow},checkAllFn:function(t){t.isCheckAll=!t.isCheckAll;for(var e=0;e<t.monthList.length;e++)t.monthList[e].isCheck=t.isCheckAll,0==t.monthList[e].isCheck&&(t.isCheckAll=!1);for(e=0;e<this.propertyBillList.length;e++){if(1!=this.propertyBillList[e].isCheckAll){this.isAllCheck=!1;break}this.propertyBillList.length-1==e&&(this.isAllCheck=!0)}this.moneyAll()},checkFn:function(t,e){this.paymentCycle(t,e);for(var i=0;i<e.monthList.length;i++){if(1!=e.monthList[i].isCheck){e.isCheckAll=!1,this.isAllCheck=!1;break}i==e.monthList.length-1&&(e.isCheckAll=!0)}for(var s=0,o=0;o<this.propertyBillList.length;o++)1==this.propertyBillList[o].isCheckAll?(s++,s==this.propertyBillList.length&&(this.isAllCheck=!0)):this.isAllCheck=!1;this.moneyAll()},allCheckFn:function(){for(var t in this.isAllCheck=!this.isAllCheck,this.propertyBillList)for(var e in this.propertyBillList[t].isCheckAll=this.isAllCheck,this.propertyBillList[t].monthList)this.propertyBillList[t].monthList[e].isCheck=this.isAllCheck;this.moneyAll()},paymentCycle:function(t,e){for(var i=t.isCheck,s=parseInt(t.month_code.substring(t.month_code.length-2)),o=parseInt(t.month_code.substring(0,4)),n=0;n<e.monthList.length;n++){var r=parseInt(e.monthList[n].month_code.substring(t.month_code.length-2)),a=parseInt(e.monthList[n].month_code.substring(0,4));i?o===a?(s<=r||parseInt((s-1)/e.paymentCycle)===parseInt((r-1)/e.paymentCycle))&&(e.monthList[n].isCheck=!i):o<a&&(e.monthList[n].isCheck=!i):o===a?(s>=r||parseInt((s-1)/e.paymentCycle)===parseInt((r-1)/e.paymentCycle))&&(e.monthList[n].isCheck=!i):o>a&&(e.monthList[n].isCheck=!i)}},moneyAll:function(){this.amount=0;for(var t=this.propertyBillList,e=0;e<t.length;e++){for(var i=t[e].monthList,s=0;s<i.length;s++){var o=i[s];o.isCheck&&(this.amount+=o.month_amount)}this.amount=Math.round(100*this.amount)/100}console.log(this.amount)},saveListFn:function(){this.saveList=[];for(var t=[],e={},i=0;i<this.propertyBillList.length;i++){if(e={},1==this.propertyBillList[i].isCheckAll)e=this.propertyBillList[i];else{t=[];for(var s=0,o=0;o<this.propertyBillList[i].monthList.length;o++)1==this.propertyBillList[i].monthList[o].isCheck&&(t.push(this.propertyBillList[i].monthList[o]),s++);s>0&&(e.owner_name="6797_yz",e.paymentCycle=this.propertyBillList[i].paymentCycle,e.room_code=this.propertyBillList[i].room_code,e.room_name=this.propertyBillList[i].room_name,e.monthList=t)}this.saveList.push(e)}},createOrderPay:function(){var t=this;if(this.saveListFn(),!(this.saveList.length<=0)){for(var e=this.saveList.length-1;e>=0;e--)void 0==this.saveList[e].monthList&&this.saveList.splice(e,1);var i={area_code:this.areaCode,owner_code:this.$userInfo.OWNER_CODE,bill_amount:this.amount,billDetail:{roomList:this.saveList}};Object(n["a"])({data:JSON.stringify(i)}).then((function(e){e.result?e.bill_code?(console.log("生成订单"+JSON.stringify(e)),t.$router.push({name:"propertyOrderPay",params:{areaCode:e.data.area_code,billCode:e.data.billNo}})):t.$toast("没有查询到数据！"):t.$toast(e.msg?e.msg:"网络异常，请稍后重试！")})).catch((function(e){t.$toast("网络异常，请稍后重试！")}))}},gotoRoomManager:function(){this.$router.push({name:"paymentRoomManager"})},gotoAdvancePayment:function(){this.$router.push({name:"propertyPreBill",params:{areaCode:this.areaCode}})},onClickLeft:function(){this.$router.back()},onClickRight:function(){this.$router.push({name:"propertyOrderList"})},addNewRoom:function(){this.$router.push("./selectArea")},gotoCommonPhone:function(){this.$router.push({name:"commonPhone"})}}},m=h,d=(i("e4e2"),i("2877")),p=Object(d["a"])(m,s,o,!1,null,"f33ded60",null);e["default"]=p.exports},e4e2:function(t,e,i){"use strict";var s=i("cdde"),o=i.n(s);o.a},ea53:function(t,e,i){t.exports=i.p+"img/list_btn_check.fa8d67ce.png"},f9b8:function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"propertyOrderUnpay"},[1==t.CountDown?i("div",{staticClass:"propertyOrderUnpayContent",class:{propertyOrderUnpayContentThemeL:t.bindThemeL}},[i("div",{staticClass:"pay",class:{payThemeL:t.bindThemeL}},[i("div",{staticClass:"payNew",class:{payNewThemeL:t.bindThemeL}},[i("div",{staticClass:"payText",class:{payTextThemeL:t.bindThemeL}},[t._v("您有新的待支付订单！")]),i("div",{staticClass:"payText",class:{payTimeThemeL:t.bindThemeL}},[t._v("剩余时间："+t._s(t.payCountDown))])]),i("div",{staticClass:"goPay",class:{goPayThemeL:t.bindThemeL},on:{click:function(e){return t.gotoPaid()}}},[t._v("去支付")])])]):t._e()])},o=[],n=(i("a481"),i("22ae")),r={name:"propertyOrderUnpay",data:function(){return{orderList:[],payCountDown:"",CountDown:!1,timePromise:null,bindThemeL:0!=this.$curTheme}},mounted:function(){this.getAllOrderList()},methods:{refreshOrder:function(){this.orderList=[],this.clearPayTimer(),this.getAllOrderList()},clearPayTimer:function(){this.payCountDown="",this.CountDown=!1,console.log("清除timePromise = "+this.timePromise),clearInterval(this.timePromise)},getAllOrderList:function(){var t=this,e={userCode:this.$userInfo.OWNER_CODE,orderStatus:0};Object(n["d"])(e).then((function(e){200==e.resultCode?(t.orderList=e.data.billList,t.orderList.length>0&&(clearInterval(t.timePromise),t.setCountDown(t.orderList[0].createdTime,t.orderList[0].serverTime))):t.$toast("网络异常，请稍后重试！")})).catch((function(e){console.log(JSON.stringify(e)),t.$toast("网络异常，请稍后重试！")}))},setCountDown:function(t,e){var i=this,s="",o="",n=0;null!=t?(s=new Date(t.replace(/\-/g,"/")).getTime(),o=new Date(e.replace(/\-/g,"/")).getTime(),n=Math.round((s+9e5-o)/1e3)):n=900,this.timePromise=setInterval((function(){if(i.CountDown=!0,n>=0){var t=Math.floor(n/60),e=t<10?"0"+t:t,s=n-60*t,o=s<10?"0"+s:s;n-=1,i.payCountDown=e+"分钟"+o+"秒"}else i.CountDown=!1,console.log("此时触发的timePromise = "+i.timePromise),clearInterval(i.timePromise)}),1e3),console.log("设置timePromise = "+this.timePromise)},gotoPaid:function(){var t=this.orderList[0];"预缴费"==t.billType?this.$router.push({name:"propertyPreOrderPayDetail",params:{billNo:t.billNo}}):this.$router.push({name:"propertyOrderPayDetail",params:{billCode:t.billNo,areaCode:t.areaCode}})},orderCancel:function(){var t=this,e=this.orderList[0];if("预缴费"==e.billType){var i={billNo:e.billNo,cancelWay:"01"};Object(n["l"])(i).then((function(e){t.refreshOrder()})).catch((function(t){}))}else{i={bill_code:e.billNo};Object(n["j"])({data:JSON.stringify(i)}).then((function(e){t.refreshOrder()})).catch((function(t){}))}}}},a=r,l=(i("55b4"),i("2877")),c=Object(l["a"])(a,s,o,!1,null,"ad96e04e",null);e["a"]=c.exports}}]);
//# sourceMappingURL=chunk-868fa388.2ebafcac.js.map