(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7ca23b4a"],{"08ff":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAYAAAByDd+UAAAAAXNSR0IArs4c6QAAAHNJREFUSA1jYBgFoyEwGgKjITAaApSGACPIgIULFwqzsrKC2ZQaiEv/79+//8fHx79lnD179vb///974FJITXFGRsYdTEADaeozNAczgi2bN2+eKAsLC00t/vPnz/+kpKTXaA4Y5Y6GwGgIjIbAaAiQEQIAUioWkKGq9UQAAAAASUVORK5CYII="},"0d8a":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAYAAAByDd+UAAAAAXNSR0IArs4c6QAAAQpJREFUSA3tVkEKgzAQNFVRwZu1byh9Sd/gRfBbguDFL7T4kNI3tPUmqKikWamSS0g2eChiQFx2Mzu7o1liGBorTdMbPBpQg2BBRVEc67p+A873/TCKog8mxwGzGfa2bbsUyduqedCEqolF+3ZCkTLa/l1SbelEwO1LOk2NPM8D27aXCSKSA/xN0wTjOD7BNk3z7HleBbZs9X1P4ziuCAxhSulVBlgjTgi5wzdU6mwNQuCayLIsCy3LUiLuui5gijygAFbxxXEcJUmHYaBJkryVSPjuoDgGfoGPFXmCJHxcZm//WOwdyv4BdHyXFC2ZDPD/krquS+cueHv2yd7oDn837ZIlLrG3bijmCy9TSTQY3o5rAAAAAElFTkSuQmCC"},"3d38":function(t,e,i){},"6a02":function(t,e,i){"use strict";var a=i("3d38"),s=i.n(a);s.a},c8db:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"propertyPreOrderPayDetail",class:{themeL:t.bindThemeL}},[i("navigation-bar",{attrs:{pageName:t.title,bothWidth:t.headerItemWidth},on:{onLeftClick:t.onClickLeft},scopedSlots:t._u([{key:"nav-right",fn:function(){return[t.isDisplayRightName?i("div",{staticClass:"rightBtn",on:{click:t.callProperty}},[t._v(t._s(t.rightName))]):t._e()]},proxy:!0}])}),i("div",{staticClass:"propertyPreOrderPayDetailContent"},[i("div",{staticClass:"propertyPreOrderPayDetailCard"},[i("div",{staticClass:"user_info"},[i("van-image",{staticClass:"user_img",attrs:{src:t.houseImg}}),i("div",{staticClass:"user_word"},[i("div",{staticClass:"user_home"},[t._v(t._s(t.orderDetail.roomName))]),i("div",{staticClass:"user_name"},[t._v("房主："+t._s(t.orderDetail.customerName))])])],1),t._m(0),i("div",{staticClass:"list"},[i("div",{staticClass:"item",staticStyle:{border:"none","font-size":"14px"},style:{fontSize:t.largeFontSize}},[t._v("\n        预缴周期\n        "),i("span",{staticClass:"item-note",staticStyle:{color:"black","font-size":"14px"},style:{fontSize:t.largeFontSize}},[i("span",[t._v(t._s(t.months))]),t._v("个月\n        ")])]),t._m(1),i("div",{staticClass:"item",staticStyle:{"padding-bottom":"0px",border:"none"}},[i("div",{staticStyle:{color:"#9a9a9a","font-size":"14px"},style:{fontSize:t.largeFontSize}},[t._v("固定费用项")])]),i("div",{staticClass:"item",staticStyle:{"padding-top":"0px",border:"none"}},t._l(t.cycleOptionList,(function(e,a){return i("div",{key:a,staticStyle:{"vertical-align":"center","margin-top":"16px",height:"20px",display:"flex"}},[i("div",{staticStyle:{display:"flex"}},[i("div",{staticClass:"fs14",staticStyle:{height:"20px"}},[t._v(t._s(e.payOptionName))]),e.discount<100?i("div",{staticClass:"saleTag"},[t._v(t._s(e.discount/10)+"折")]):t._e()]),i("div",{staticClass:"item-note",staticStyle:{height:"20px",display:"flex","justify-content":"flex-end","flex-grow":"1"}},[e.discount<100?i("div",{staticClass:"fs12",staticStyle:{height:"20px","margin-right":"4px","text-decoration":"line-through"}},[t._v("￥"+t._s(t._f("keepTwoNum")(e.advanceMoney)))]):t._e(),1==t.orderDetail.useDiscount?i("div",{staticClass:"fs14",staticStyle:{height:"20px",color:"black"}},[t._v("￥"+t._s(t._f("keepTwoNum")(e.chargeMoney)))]):t._e(),0==t.orderDetail.useDiscount?i("div",{staticClass:"fs14",staticStyle:{height:"20px",color:"black"}},[t._v("￥"+t._s(t._f("keepTwoNum")(e.advanceMoney)))]):t._e()])])})),0),t.noCycleOptionList.length>0?i("div",{staticStyle:{display:"flex",position:"relative",height:"10px",width:"100%"}},[i("div",{staticClass:"lineStyle"})]):t._e(),t.noCycleOptionList.length>0?i("div",{staticClass:"item",staticStyle:{border:"none"}},[i("div",{staticStyle:{color:"#9a9a9a","font-size":"14px"},style:{fontSize:t.largeFontSize}},[t._v("非固定费用项")])]):t._e(),t.noCycleOptionList.length>0?i("div",{staticClass:"item",staticStyle:{"padding-top":"0px",border:"none"}},t._l(t.noCycleOptionList,(function(e,a){return i("div",{key:a,staticClass:"pt16"},[i("span",{staticClass:"optionTitle"},[t._v(t._s(e.payOptionName))]),i("span",{staticClass:"item-note",staticStyle:{color:"black"}},[t._v("￥"+t._s(t._f("keepTwoNum")(e.chargeMoney)))])])})),0):t._e(),t._m(2),i("div",{staticClass:"navContent"},[i("div",{staticClass:"nav"},[i("div",{staticClass:"orderDiv"},[i("div",{staticClass:"orderDetail"},[i("div",{class:{orderDivSonThemeL:t.bindThemeL},staticStyle:{"font-size":"12px"}},[i("span",{staticClass:"orderDivSon"},[t._v("订单编号")]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.billNo,expression:"billNo"}],staticClass:"orderNumber",staticStyle:{position:"absolute",left:"-100%",bottom:"-5%"},attrs:{type:"text",name:"selectCopy",id:"selectCopy",readonly:""},domProps:{value:t.billNo},on:{input:function(e){e.target.composing||(t.billNo=e.target.value)}}}),t._v("\n                "+t._s(t.billNo)+"\n              ")]),i("button",{staticClass:"orderCopy",on:{click:function(e){return t.copy()}}},[t._v("复制")])]),i("div",{staticClass:"orderDivSon"},[t._v("\n              订单类型\n              "),i("span",{staticClass:"orderSpan"},[t._v(t._s(t.orderDetail.billType))])]),1==t.orderDetail.payWay?i("div",{staticClass:"orderDivSon"},[t._v("\n              支付方式\n              "),i("span",{staticClass:"orderSpan"},[t._v("微信")])]):t._e(),2==t.orderDetail.payWay?i("div",{staticClass:"orderDivSon"},[t._v("\n              支付方式\n              "),i("span",{staticClass:"orderSpan"},[t._v("支付宝")])]):t._e(),1==t.orderDetail.billStatus?i("div",{staticClass:"orderDivSon"},[t._v("\n              支付时间\n              "),i("span",{staticClass:"orderSpan"},[t._v(t._s(t.orderDetail.payTime))])]):t._e(),i("div",{staticClass:"orderDivSon"},[t._v("\n              创建时间\n              "),i("span",{staticClass:"orderSpan"},[t._v(t._s(t.orderDetail.createdTime))])]),t.orderDetail.getPoints?i("div",{staticClass:"orderDivSon"},[t._v("\n              可获积分\n              "),i("span",{staticClass:"orderSpan"},[t._v("+"+t._s(t.orderDetail.getPoints))])]):t._e()])]),i("van-divider",{attrs:{dashed:"true"}}),i("div",{staticClass:"total_and_deduction"},[i("div",{staticClass:"total_money"},[i("div",{staticClass:"total_name"},[t._v("订单总额")]),i("div",{staticClass:"total_num"},[t._v("￥"+t._s(t._f("keepTwoNum")(t.totalAmount)))])]),i("div",{staticClass:"deduction_point"},[i("div",{staticClass:"deduction_name"},[t._v("积分抵扣")]),i("div",{staticClass:"deduction_num"},[t._v("-￥"+t._s(t._f("keepTwoNum")(t.deductionMoney)))])])]),i("van-divider",{attrs:{dashed:"true"}}),i("div",{staticClass:"payBottom"},[1==t.orderDetail.billStatus?i("div",{staticClass:"payBottomStatueBlue"},[t._v("已支付")]):t._e(),0==t.orderDetail.billStatus?i("div",{staticClass:"payBottomStatueRed"},[t._v("待支付")]):t._e(),2==t.orderDetail.billStatus?i("div",{staticClass:"payBottomStatueBlack"},[t._v("已取消")]):t._e(),i("div",{staticClass:"payBottomText"},[i("span",{staticClass:"payBottomSpan"},[t._v("实付：")]),i("span",{staticClass:"payBottomMoney"},[t._v("￥"+t._s(t._f("keepTwoNum")(t.orderDetail.unionPayMoney)))])])])],1)])])]),0==t.orderDetail.billStatus?i("div",{staticStyle:{height:"87px"}}):t._e(),0==t.orderDetail.billStatus?i("div",{staticClass:"order_pay"},[i("div",{staticClass:"order_num",on:{click:function(e){return t.cancelOrder()}}},[t._v("取消订单")]),i("div",{staticClass:"soon_pay",on:{click:function(e){return t.goToPay()}}},[t._v("去支付")])]):t._e(),t.payWindowShow?i("property-pay-popup",{attrs:{payParam:t.payParam,isAlipay:t.isAlipay,isWechart:t.isWechart},on:{closePopup:t.closePopup,checkOrderStatus:t.checkOrderStatus}}):t._e()],1)},s=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticStyle:{display:"flex",position:"relative",height:"20px",width:"100%"}},[i("div",{staticClass:"circleLeft"}),i("div",{staticClass:"lineStyle"}),i("div",{staticClass:"circleRight"})])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticStyle:{display:"flex",position:"relative",height:"10px",width:"100%"}},[i("div",{staticClass:"lineStyle"})])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticStyle:{display:"flex",position:"relative",height:"20px",width:"100%"}},[i("div",{staticClass:"circleLeft"}),i("div",{staticClass:"lineStyle"}),i("div",{staticClass:"circleRight"})])}],o=i("22ae"),n=i("3ecb"),l=i("ba25"),r=i("0aa6"),c=i("2b0e"),d=i("2241");c["a"].use(d["a"]);var p={name:"propertyPreOrderPayDetailDetail",data:function(){return{billNo:"",orderDetail:{},isAllPoints:0,pointAviable:1e3,totalAmount:0,unionPayMoney:0,discountMoney:0,deductionMoney:0,deductionPoints:0,months:0,cycleOptionList:[],noCycleOptionList:[],payWindowShow:!1,isAlipay:!1,isWechart:!1,numShow:!1,headerItemWidth:{width:"110px"},title:"订单支付",rightName:"联系物业",isDisplayRightName:!1,switchOnImg:i("62e5"),switchOffImg:i("7e4b"),addImg:i("0d8a"),cutImg:i("08ff"),houseImg:i("64cc"),bindThemeL:0!=this.$curTheme,largeFontSize:0==this.$curTheme?"14px":"17px"}},components:{NavigationBar:r["a"],"property-order-goto-pay":n["a"],"property-pay-popup":l["a"]},mounted:function(){this.billNo=this.$route.params.billNo,this.getPreOrderDetail()},methods:{getPreOrderDetail:function(){var t=this,e={billNo:this.$route.params.billNo};this.cycleOptionList=[],this.noCycleOptionList=[],Object(o["f"])(e).then((function(e){200==e.resultCode?(t.orderDetail=e.data,t.isDisplayRightName="物业电话尚未配置"!=t.orderDetail.propertyPhoneNumber,t.updateOptionList(e.data.detailList),t.totalAmount=parseFloat(e.data.payMoneyTotal).toFixed(2),t.unionPayMoney=parseFloat(e.data.unionPayMoney).toFixed(2),t.months=e.data.months,null!=e.data.deductionPoints&&""!=e.data.deductionPoints?(t.deductionMoney=parseFloat(e.data.deductionMoney).toFixed(2),t.deductionPoints=e.data.deductionPoints):t.deductionPoints=0):t.$toast(e.msg?e.msg:"网络异常，请稍后重试！")})).catch((function(e){t.$toast("网络异常，请稍后重试！")}))},updateOptionList:function(t){for(var e=0;e<t.length;e++){0==t[e].feeType?this.cycleOptionList.push(t[e]):this.noCycleOptionList.push(t[e]);var i=this.discountMoney,a=t[e].discountMoney;this.discountMoney=i+a}},cancelOrder:function(){var t=this;d["a"].confirm({title:"提示",message:"确认要取消订单吗？"}).then((function(){console.log("取消确认回调");var e={billNo:t.billNo,cancelWay:"01"};Object(o["l"])(e).then((function(e){200==e.resultCode?t.$toast({duration:500,message:"取消成功",onClose:function(){t.getPreOrderDetail()}}):t.$toast(e.msg?e.msg:"取消失败，请稍后重试！")})).catch((function(e){t.$toast("网络异常，请稍后重试！")}))})).catch((function(){}))},onClickLeft:function(){this.$router.back()},goToPay:function(){var t=this,e={billNo:this.billNo,deductionPoints:this.deductionPoints,deductionMoney:this.deductionMoney,unionPayMoney:this.unionPayMoney};Object(o["m"])(e).then((function(e){200==e.resultCode?(t.payParam=e.data,"1"==e.data.IS_ALI_PAY&&(t.isAlipay=!0),"1"==e.data.IS_WX_PAY&&(t.isWechart=!0),t.payWindowShow=!0,window.broadcaster.addEventListener("paymentBack",t.payCallBack)):t.$toast(e.msg?e.msg:"网络异常，请稍后重试！")})).catch((function(e){t.$toast("网络异常，请稍后重试！")}))},payCallBack:function(){this.checkOrderStatus()},checkOrderStatus:function(){var t=this;window.broadcaster.removeEventListener("paymentBack",this.payCallBack);var e={billNo:this.billNo};Object(o["f"])(e).then((function(e){200==e.resultCode?1==e.data.billStatus?t.$router.push({name:"paymentPaySuccess",params:{orderData:e.data}}):t.$toast({duration:500,message:"支付失败",onClose:function(){t.$router.back()}}):t.$toast(e.msg?e.msg:"网络异常，请稍后重试！")})).catch((function(e){t.$toast("网络异常，请稍后重试！")}))},closePopup:function(){this.payWindowShow=!1},copy:function(){var t=this;cordova.plugins.clipboard.copy(this.billNo,(function(){t.$toast("复制成功")}),(function(){console.log("error")}))},callProperty:function(){var t=this;"Android"==device.platform?d["a"].confirm({title:"拨打电话",message:this.orderDetail.propertyPhoneNumber}).then((function(){window.location.href="tel:"+t.orderDetail.propertyPhoneNumber})):window.location.href="tel:"+this.orderDetail.propertyPhoneNumber}}},u=p,y=(i("6a02"),i("2877")),v=Object(y["a"])(u,a,s,!1,null,"05bcb606",null);e["default"]=v.exports}}]);
//# sourceMappingURL=chunk-7ca23b4a.75ce94e0.js.map