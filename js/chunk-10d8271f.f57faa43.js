(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-10d8271f"],{"02db":function(n,t,e){"use strict";e.d(t,"j",(function(){return i})),e.d(t,"d",(function(){return c})),e.d(t,"i",(function(){return r})),e.d(t,"h",(function(){return a})),e.d(t,"b",(function(){return u})),e.d(t,"e",(function(){return f})),e.d(t,"a",(function(){return d})),e.d(t,"g",(function(){return l})),e.d(t,"f",(function(){return m})),e.d(t,"c",(function(){return s})),e.d(t,"k",(function(){return h})),e.d(t,"l",(function(){return p}));var o=e("ba6a"),i=function(n){return new Promise((function(t,e){o["a"].post("xwj-point-lottery/promotion/selectConsumed",{areaCode:n},!0).then((function(n){t(n)})).catch((function(n){e(n)}))}))},c=function(n){return new Promise((function(t,e){o["a"].post("xwj-commerce-goods/goods/modifySkuInfo",n,!1).then((function(n){t(n)})).catch((function(n){e(n)}))}))},r=function(n){return new Promise((function(t,e){o["a"].post("xwj-commerce-sale/address/refreshSaleInfo",n,!1).then((function(n){t(n)})).catch((function(n){e(n)}))}))},s=function(n){return new Promise((function(t,e){o["a"].post("xwj-point-rule/pointrule/getUseLimit",n,!0).then((function(n){"200"==n.code?t(n):e(n.msg)})).catch((function(n){e(n)}))}))},a=function(n){return new Promise((function(t,e){o["a"].post("xwj-commerce-sale/address/quickAddRecAddr",n,!1).then((function(n){console.log(n),t(n)})).catch((function(n){e(n)}))}))},u=function(n){return new Promise((function(t,e){o["a"].post("xwj-commerce-sale/order/createOrder",n,!1).then((function(n){console.log(n),t(n)})).catch((function(n){e(n)}))}))},f=function(n){return new Promise((function(t,e){o["a"].post("xwj-commerce-sale/address/orderConfirmV33",n,!1).then((function(n){console.log(n),t(n)})).catch((function(n){e(n)}))}))},d=function(n){return new Promise((function(t,e){o["a"].post("xwj-commerce-sale/address/changeRecAddr",n,!1).then((function(n){console.log(n),t(n)})).catch((function(n){e(n)}))}))},l=function(n){return new Promise((function(t,e){o["a"].post("xwj-commerce-sale/order/prepareToPayOrder",n,!1).then((function(n){console.log(n),"0"==n.resultCode?t(n):e(n.msg)})).catch((function(n){e(n)}))}))},m=function(n){return new Promise((function(t,e){console.log(n),o["a"].get("xwj-commerce-sale/myOrder/orderDetail",n).then((function(n){"0"==n.resultCode?t(n):e(n.msg)})).catch((function(n){e(n)}))}))},h=function(n){return new Promise((function(t,e){o["a"].post("xwj-commerce-sale/unionPayPrepare/unionOrderPrepay",n,!1).then((function(n){t(n)})).catch((function(n){e(n)}))}))},p=function(n){return new Promise((function(t,e){o["a"].post("xwj-commerce-sale/unionPayPrepare/unionOrderPrepayV34",n,!1).then((function(n){t(n)})).catch((function(n){e(n)}))}))}},"2beb":function(n,t,e){"use strict";e.r(t);var o=function(){var n=this,t=n.$createElement,e=n._self._c||t;return e("div",{staticClass:"paySuccess"},[e("navigation-bar",{attrs:{pageName:"支付成功"},on:{onLeftClick:n.goBack}}),e("div",{staticClass:"headerColor"},[n._m(0),e("div",{staticClass:"content"},[e("div",{staticClass:"contentSecond"},[e("span",{staticClass:"moneyIcon"},[n._v("￥")]),e("span",{staticClass:"moneyNum"},[n._v(n._s(n.orderDetail.realPayTotal))])]),e("div",{staticClass:"contentThird"},[n.orderDetail.pointIncome>0?e("span",[n._v("恭喜获得"),e("span",[n._v(n._s(n.orderDetail.pointIncome))]),n._v("积分！")]):n._e(),0==n.awardShow?e("span",{staticStyle:{color:"#CE9D6A","text-decoration":"underline"},on:{click:function(t){return n.goToActivity()}}},[n._v("点此参与大转盘活动")]):n._e()])]),e("div",{staticClass:"finishDiv"},[e("div",{staticClass:"finishButton",on:{click:function(t){return n.finishCommit()}}},[n._v("回到首页")]),e("div",{staticClass:"finishButton seeOrder",on:{click:function(t){return n.seeOrder()}}},[n._v("查看订单")])])])],1)},i=[function(){var n=this,t=n.$createElement,o=n._self._c||t;return o("div",{staticClass:"headImg"},[o("img",{attrs:{src:e("5476")}})])}],c=e("2f62"),r=e("02db"),s=e("0aa6"),a={name:"paySuccess",components:{NavigationBar:s["a"]},data:function(){return{orderDetail:{},promotion:{},awardShow:1,fromFlag:!1}},mounted:function(){},activated:function(){this.orderDetail=this.$route.params.orderData,this.getOrderDetail(),this.getAreaActivity()},beforeRouteEnter:function(n,t,e){e((function(n){"/orderPayNew"==t.path&&(n.fromFlag=!0)}))},computed:Object(c["c"])({paysuccessEventBackButtonFlag:function(n){return n.goBack.paysuccessEventBackButtonFlag}}),watch:{paysuccessEventBackButtonFlag:function(n){console.log("paysuccessEventBackButtonFlag"),n&&(console.log("eventBackButtonFlagpyesuccess"),this.$store.dispatch("setPaysuccessEventBackButtonFlag",!1),this.goBack())}},methods:{seeOrder:function(){this.$router.push({name:"myOrderList",query:{flag:10,ifPayReturn:!0}})},finishCommit:function(){if("YouPin"==this.$enterPage)this.$router.push({name:"productPage"});else{console.log("需要原生处理退出！！！");var n={encoder:"base64"},t=666;n=JSON.stringify(n),"ios"==this.$devicePlatform?window.webkit.messageHandlers.JSCtrl.postMessage(["send_backSignal_xinwojia",t,n]):"android"==this.$devicePlatform&&window.store.send_backSignal_xinwojia(t,n)}},goToActivity:function(){this.$router.push({path:"/pointActivity",query:{promotionId:this.promotion.promotionId,title:this.promotion.promotionName,pointConsumed:this.promotion.pointConsumed}})},getAreaActivity:function(){var n=this;Object(r["j"])(this.$userInfo.AREA_CODE).then((function(t){n.awardShow=t.delFlag,n.promotion=t})).catch((function(n){}))},getOrderDetail:function(){var n=this,t={billNo:this.orderDetail.billNo,ownerCode:this.$userInfo.OWNER_CODE};Object(r["f"])(t).then((function(t){"0"==t.resultCode&&(console.log("支付页查看订单状态"+JSON.stringify(t)),n.orderDetail=t.data)})).catch((function(n){}))},goBack:function(){console.log("paysuccessback"),console.log(this.fromFlag),this.fromFlag?(this.fromFlag=!1,this.$router.go(-2)):this.$router.back()}}},u=a,f=(e("6730"),e("2877")),d=Object(f["a"])(u,o,i,!1,null,null,null);t["default"]=d.exports},5476:function(n,t,e){n.exports=e.p+"img/img_payment_successful.4c0ccdde.png"},6730:function(n,t,e){"use strict";var o=e("f0d7"),i=e.n(o);i.a},f0d7:function(n,t,e){}}]);
//# sourceMappingURL=chunk-10d8271f.f57faa43.js.map