(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-67efeb79"],{"0b2c":function(e,t){e.exports="data:image/png;base64,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"},2087:function(e,t,i){"use strict";var s=i("f971"),a=i.n(s);a.a},"301e":function(e,t,i){"use strict";i.r(t);var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"editCar"},[i("navigation-bar",{attrs:{pageName:"修改车位"},on:{onLeftClick:e.goBack}}),i("div",{staticClass:"house-box"},[i("div",{staticClass:"box"},[i("van-cell-group",[i("van-field",{staticStyle:{"padding-left":"0.42667rem"},attrs:{required:"",label:"发布类型","input-align":"right"}},[i("van-radio-group",{staticClass:"houseType",attrs:{slot:"input","checked-color":"#17B7BD"},slot:"input",model:{value:e.isRent,callback:function(t){e.isRent=t},expression:"isRent"}},[i("van-radio",{attrs:{name:"0","checked-color":"#17B7BD",disabled:""}},[e._v("出售")]),i("van-radio",{attrs:{name:"1","checked-color":"#17B7BD",disabled:""}},[e._v("出租")])],1)],1),i("van-field",{staticStyle:{"padding-left":"0.42667rem"},attrs:{value:e.selectedArea?e.selectedProvince.NAME+e.selectedCity.NAME+e.selectedArea.NAME:"",required:"",label:"所在地区",placeholder:"请选择地区","input-align":"right",disabled:""},on:{click:e.showAreaSheet}}),i("van-field",{staticStyle:{"padding-left":"0.42667rem"},attrs:{required:"",label:"小区",placeholder:"请输入您的小区","input-align":"right"},model:{value:e.houseArea,callback:function(t){e.houseArea=t},expression:"houseArea"}}),i("van-field",{staticStyle:{"padding-left":"0.42667rem"},attrs:{required:"",label:"面积",placeholder:"请输入面积","input-align":"right",type:"tel"},on:{input:function(t){e.acreage=(e.acreage.match(/\d+(\.\d{0,2})?/)||[""])[0]}},model:{value:e.acreage,callback:function(t){e.acreage=t},expression:"acreage"}},[i("div",{attrs:{slot:"button"},slot:"button"},[e._v("平米")])]),i("van-field",{directives:[{name:"show",rawName:"v-show",value:"0"==e.isRent,expression:"isRent == '0'"}],staticStyle:{"padding-left":"0.42667rem"},attrs:{required:"",label:"售价",placeholder:"请输入您的房价","input-align":"right",type:"tel"},on:{input:function(t){e.houseMoney=(e.houseMoney.match(/\d+(\.\d{0,2})?/)||[""])[0]}},model:{value:e.houseMoney,callback:function(t){e.houseMoney=t},expression:"houseMoney"}},[i("div",{attrs:{slot:"button"},slot:"button"},[e._v("万")])]),i("van-field",{directives:[{name:"show",rawName:"v-show",value:"1"==e.isRent,expression:"isRent == '1'"}],staticStyle:{"padding-left":"0.42667rem"},attrs:{required:"",label:"租金","input-align":"right"}},[i("div",{staticClass:"right-item",attrs:{slot:"input"},slot:"input"},[i("div",{staticClass:"part"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.rentMoney,expression:"rentMoney"}],staticStyle:{width:"2.33333rem"},attrs:{type:"tel",placeholder:"请输入租金"},domProps:{value:e.rentMoney},on:{keyup:function(t){e.rentMoney=(e.rentMoney.match(/\d+(\.\d{0,2})?/)||[""])[0]},input:function(t){t.target.composing||(e.rentMoney=t.target.value)}}}),i("div",[e._v("元/月")])]),i("div",{staticClass:"part"},[i("van-dropdown-menu",{attrs:{"active-color":"#17B7BD"}},[i("van-dropdown-item",{attrs:{options:e.payTypeList},model:{value:e.payType,callback:function(t){e.payType=t},expression:"payType"}})],1)],1)])]),i("van-field",{staticStyle:{"padding-left":"0.42667rem"},attrs:{required:"",label:"车位号",placeholder:"请输入您的车位号","input-align":"right"},model:{value:e.carNumber,callback:function(t){e.carNumber=t},expression:"carNumber"}}),i("div",{staticClass:"block"}),i("van-field",{staticStyle:{"padding-left":"0.42667rem"},attrs:{required:"",label:"标题",placeholder:"请输入您的标题","input-align":"right"},model:{value:e.houseTitle,callback:function(t){e.houseTitle=t},expression:"houseTitle"}}),i("van-field",{staticStyle:{"padding-left":"0.42667rem"},attrs:{required:"",label:"联系人",placeholder:"请输入联系人姓名","input-align":"right"},model:{value:e.contact,callback:function(t){e.contact=t},expression:"contact"}}),i("van-field",{staticStyle:{"padding-left":"0.42667rem"},attrs:{required:"",label:"联系方式",placeholder:"请输入联系方式","input-align":"right"},model:{value:e.contactPhone,callback:function(t){e.contactPhone=t},expression:"contactPhone"}})],1),i("div",{staticClass:"bottom"},[i("div",{staticClass:"detail"},[i("div",{staticClass:"title"},[e._v("详细信息")]),i("textarea",{directives:[{name:"model",rawName:"v-model",value:e.detail,expression:"detail"}],attrs:{name:"",id:"",placeholder:"请输入详细信息",maxlength:"100"},domProps:{value:e.detail},on:{input:function(t){t.target.composing||(e.detail=t.target.value)}}})]),i("div",{staticClass:"photo_box"},[e._m(0),i("div",{staticClass:"image-box"},[i("add-image",{ref:"addImageComponent",attrs:{"is-upload":e.isUpload,"select-pictures":e.defaultImgList},on:{imageAddAction:e.showAddSheetControll,imageMapChange:e.upDateImageData,changeUploadStatus:e.changeStatus}})],1)])]),i("div",{staticClass:"agreement"},[i("van-checkbox",{attrs:{shape:"square","checked-color":"#17B7BD"},model:{value:e.isAgree,callback:function(t){e.isAgree=t},expression:"isAgree"}},[i("span",{on:{click:e.goAgreement}},[e._v("请阅读《发布房源》协议")])])],1),i("div",{staticClass:"confirm"},[i("div",{on:{click:function(t){return e.clickRight(1)}}},[e._v("确认发布")])])],1)]),i("van-popup",{attrs:{position:"bottom"},model:{value:e.isShowAreaSheet,callback:function(t){e.isShowAreaSheet=t},expression:"isShowAreaSheet"}},[i("div",{staticClass:"area-box"},[i("div",{staticClass:"title"},[e._v("\n        所在地区\n        "),i("div",{staticClass:"close",on:{click:function(t){e.isShowAreaSheet=!1}}},[i("img",{attrs:{src:e.closeIcon,alt:""}})])]),i("div",{staticClass:"area-title"},[i("div",{staticClass:"province",class:0==e.activetab?"active":"",on:{click:e.clickProvince}},[e._v("省")]),i("div",{staticClass:"city",class:1==e.activetab?"active":"",on:{click:e.clickCity}},[e._v("市")]),i("div",{staticClass:"area",class:2==e.activetab?"active":"",on:{click:e.clickArea}},[e._v("区")])]),i("div",{staticClass:"list"},e._l(e.showSelectList,(function(t,s){return i("div",{key:s,staticClass:"item",on:{click:function(i){return e.selectArea(t)}}},[e._v("\n          "+e._s(t.NAME)+"\n        ")])})),0)])]),i("van-action-sheet",{attrs:{actions:e.actions,"cancel-text":"取消",round:!1,"close-on-click-action":""},on:{select:e.addSelect},model:{value:e.showAddSheet,callback:function(t){e.showAddSheet=t},expression:"showAddSheet"}})],1)},a=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"title"},[i("span",{staticClass:"add"},[e._v("车位图")]),i("span",[e._v("(*至多上传4张图片)")])])}],n=(i("ac6a"),i("608a")),o=i("4e4d"),c=i("0de9"),r=i.n(c),l=i("42bf"),u=i.n(l),h=i("0aa6"),d={name:"editCar",data:function(){return{leftIcon:r.a,closeIcon:u.a,showAddSheet:!1,isShowAreaSheet:!1,activetab:0,actions:[{name:"拍照"},{name:"从手机相册选择"}],payTypeList:[],showSelectList:[],isRent:"0",selectedProvince:null,selectedCity:null,selectedArea:null,houseArea:"",acreage:"",houseMoney:"",rentMoney:"",payType:0,houseTitle:"",contact:"",contactPhone:"",detail:"",imgList:[],defaultImgList:[],carNumber:"",isAgree:!0,houseDetail:null,isUpload:!1}},activated:function(){this.$route.params.whichId&&this.getCarDetail()},components:{"add-image":o["a"],NavigationBar:h["a"]},methods:{goBack:function(){this.reset(),this.$router.go(-1)},reset:function(){this.showAddSheet=!1,this.isShowAreaSheet=!1,this.activetab=0,this.payTypeList=[],this.showSelectList=[],this.isRent="0",this.selectedProvince=null,this.selectedCity=null,this.selectedArea=null,this.houseArea="",this.acreage="",this.houseMoney="",this.rentMoney="",this.payType=0,this.houseTitle="",this.contact="",this.contactPhone="",this.detail="",this.imgList=[],this.carNumber="",this.isAgree=!0,this.houseDetail=null,this.isUpload=!1},getPayTypeList:function(){var e=this,t={table_name:"T_CODE_RENTAL",code:" RENTAL_CODE",name:"RENTAL_NAME"};Object(n["p"])({data:JSON.stringify(t)}).then((function(t){for(var i=[],s=0;s<t.length;s++)t[s].CODE==e.houseDetail.RENTAL_CODE&&(e.payType=s),i.push({text:t[s].NAME,value:s,code:t[s].CODE});e.payTypeList=i}),(function(t){e.$toast(t)}))},getCarDetail:function(){var e=this,t={HOUSE_CODE:this.$route.params.whichId,CAR_LOCATION_FLAG:this.$route.params.whichType};Object(n["i"])({data:JSON.stringify(t)}).then((function(t){e.houseDetail=t,e.setDetail(t)}),(function(t){e.$toast(t)}))},setDetail:function(e){this.isRent=e.HOUSE_FLAG+"",this.selectedProvince={NAME:e.PROVINCE_NAME,CODE:e.PROVINCE_CODE},this.selectedCity={NAME:e.CITY_NAME,CODE:e.CITY_CODE},this.selectedArea={NAME:e.COUNTY_NAME,CODE:e.COUNTY_CODE},this.houseArea=e.AREA,this.acreage=e.ACREAGE,"0"==this.isRent?this.houseMoney=e.PRICE:(this.rentMoney=e.PRICE,this.getPayTypeList()),this.houseTitle=e.TITLE,this.contact=e.LINKMAN_NAME,this.contactPhone=e.LINKMAN_PHONE,this.detail=e.CONTENT,this.defaultImgList=this.getDefaultImg(e.PLC_LIST),this.carNumber=e.PARK_NO},getDefaultImg:function(e){var t=[];return e.forEach((function(e){t.push(e.PIC_URL)})),t},showAreaSheet:function(){this.activetab=0,this.isShowAreaSheet=!0,this.getProvinceList()},clickProvince:function(){this.activetab=0,this.getProvinceList()},clickCity:function(){this.selectedProvince?(this.activetab=1,this.getCityList()):this.$toast("请先选择省份")},clickArea:function(){this.selectedCity?(this.activetab=2,this.getAreaList()):this.$toast("请先选择城市")},getProvinceList:function(){var e=this,t={table_name:"T_CODE_PROVINCE",code:"PROVINCE_CODE",name:"PROVINCE_NAME"};Object(n["q"])({data:JSON.stringify(t)}).then((function(t){e.showSelectList=t}),(function(t){e.$toast(t)}))},getCityList:function(){var e=this,t={table_name:"T_CODE_CITY",code:"CITY_CODE",name:"CITY_NAME",where_key:"PROVINCE_CODE",where_value:this.selectedProvince.CODE};Object(n["e"])({data:JSON.stringify(t)}).then((function(t){e.showSelectList=t}),(function(t){e.$toast(t)}))},getAreaList:function(){var e=this,t={table_name:"T_CODE_COUNTY",code:"COUNTY_CODE",name:"COUNTY_NAME",where_key:"CITY_CODE",where_value:this.selectedCity.CODE};Object(n["d"])({data:JSON.stringify(t)}).then((function(t){e.showSelectList=t}),(function(t){e.$toast(t)}))},selectArea:function(e){0==this.activetab?(this.activetab=1,this.selectedProvince=e,this.getCityList()):1==this.activetab?(this.activetab=2,this.selectedCity=e,this.getAreaList()):2==this.activetab&&(this.selectedArea=e,this.isShowAreaSheet=!1)},send:function(){var e=this;this.houseDetail.PROVINCE_CODE=this.selectedProvince.CODE,this.houseDetail.PROVINCE_NAME=this.selectedProvince.NAME,this.houseDetail.CITY_CODE=this.selectedCity.CODE,this.houseDetail.CITY_NAME=this.selectedCity.NAME,this.houseDetail.COUNTY_CODE=this.selectedArea.CODE,this.houseDetail.COUNTY_NAME=this.selectedArea.NAME,this.houseDetail.USER_CODE=this.$userInfo.OWNER_CODE,this.houseDetail.CAR_LOCATION_FLAG="0",this.houseDetail.HOUSE_FLAG=this.isRent,this.houseDetail.AREA=this.houseArea,this.houseDetail.PLC_LIST=this.getImgList(),this.houseDetail.ACREAGE=this.acreage,this.houseDetail.PRICE="0"==this.isRent?this.houseMoney:this.rentMoney,"1"==this.isRent&&(this.houseDetail.RENTAL_CODE=this.payTypeList[this.payType].code),this.houseDetail.TITLE=this.houseTitle,this.houseDetail.LINKMAN_NAME=this.contact,this.houseDetail.LINKMAN_PHONE=this.contactPhone,this.houseDetail.CONTENT=this.detail,this.houseDetail.PARK_NO=this.carNumber,Object(n["c"])({data:JSON.stringify(this.houseDetail)}).then((function(t){e.$toast("发送成功"),e.$store.dispatch("setReloadMine",!0),e.$store.dispatch("setMineActive",1),e.goBack()}),(function(t){e.$toast(t)}))},clickRight:function(e){this.checkRequestData(e)&&(this.isUpload=!0,console.log(2222222222))},changeStatus:function(){this.isUpload=!1},getImgList:function(){var e=[];return this.imgList.forEach((function(t){e.push({PIC_URL:t})})),e},checkRequestData:function(e){return this.isAgree?""==this.$userInfo.OWNER_CODE||""==this.$userInfo.AREA_CODE?(this.$toast("请登录"),!1):this.selectedArea?""==this.houseArea?(this.$toast("请输入小区"),!1):this.acreage?("1"!=this.isRent||this.rentMoney)&&("0"!=this.isRent||this.houseMoney)?""==this.houseTitle?(this.$toast("请输入标题"),!1):""==this.contact?(this.$toast("请输入联系人"),!1):""==this.contactPhone?(this.$toast("请输入联系方式"),!1):1==e&&""==this.carNumber?(this.$toast("请输入车位号"),!1):!!/^1[0-9]{10}$/.test(this.contactPhone)||(this.$toast("请输入正确的手机号码"),!1):(this.$toast("请输入售价/租金"),!1):(this.$toast("请输入面积"),!1):(this.$toast("请选择地区"),!1):(this.$toast("请阅读并同意《发布房源》协议"),!1)},goAgreement:function(){this.$router.push({name:"agreement"})},upDateImageData:function(e){this.imgList=e,this.send()},showAddSheetControll:function(){this.showAddSheet=!this.showAddSheet},addSelect:function(e,t){this.getPictureData(t)},getPictureData:function(e){e?this.$refs.addImageComponent.getPicture():this.$refs.addImageComponent.useCamera()}}},g=d,p=(i("2087"),i("2877")),m=Object(p["a"])(g,s,a,!1,null,"b5cac6d6",null);t["default"]=m.exports},"42bf":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABPUlEQVRYR+2WzW3DMAyFKS/QdJMA1L2jJNmg2SCdJBmhG9QLCM4oyQASAwIxkBqyRNL5O1hXy3ofnvgoOnjxci/WhxngPR0IIXwT0QoAfrz3v1PqpOu6ZYxx75xrEXE7PCvrQAihBYCv6+YNIh4sECyeUvoDgAURnb33CxHAlbp1zn1YIW7FS2eM1sAUCKk4gxWL0AKhEa8C8AYNhFZcBCCFsIiLAWoQVnEVwBhE0zTHPmqWxKg7YaYmTpxzi7jagb6JZCD4k6lhqR3or2Jg+/MAhgXHLXZKx1Q5kKt2LsIYo7ltiwFKUdM0K9FjNNwkybkVouqARLyQjmoyqo+RtslonSg+x1pxixNZAI3tY5OS1ImHj2Q3ET0h4qcoBTyUAsCaiHb3GEpTSjxT8lDK5/5b1RRYhlHNPzPA7MAFzII8MBxyCRwAAAAASUVORK5CYII="},"48d8":function(e,t,i){},"4e4d":function(e,t,i){"use strict";var s=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("ul",{staticClass:"image-list"},[e._l(e.selectPictures,(function(t,a){return s("li",{key:a,style:{width:e.imageWidthAndHeight+"px",height:e.imageWidthAndHeight+"px"}},[s("img",{staticClass:"delete-picture",attrs:{src:i("0b2c"),alt:""},on:{click:function(t){return e.deletePicture(a)}}}),s("img",{attrs:{src:t,alt:""},on:{click:function(t){return e.preview(a)}}})])})),e.accountAddImage&&e.isShowAdd?s("li",[s("div",{staticClass:"add-image",on:{click:e.addAction}},[s("van-icon",{attrs:{name:"plus",color:"rgb(181, 181, 181)"}})],1)]):e._e()],2),s("Preview",{ref:"myPreview",attrs:{images:e.images}})],1)},a=[],n=(i("ac6a"),i("28a5"),i("c5f6"),i("a49b"),i("e036")),o=i("5d2d"),c={name:"AddImage",props:{maxImageCount:{type:Number,default:4},selectPictures:{type:Array,default:function(){return[]}},isShowAdd:{type:Boolean,default:!0},isUpload:{type:Boolean,default:!1}},data:function(){return{images:[],uploadImageList:[],loading:""}},components:{Preview:n["a"]},mounted:function(){var e=document.querySelector(".image-list");this.imageWidthAndHeight=e.offsetWidth/4},computed:{accountAddImage:function(){return this.selectPictures.length<this.maxImageCount},maximumImagesCount:function(){return this.maxImageCount-this.selectPictures.length}},watch:{selectPictures:function(e,t){},isUpload:function(e,t){e&&(console.log(e),this.uploadFile(),this.$emit("changeUploadStatus"))}},methods:{preview:function(e){this.images=this.selectPictures,this.$refs.myPreview.setIndex(e),this.$refs.myPreview.setIsShowPreview(!0),this.$store.dispatch("setPreviewId",this.$refs.myPreview)},addAction:function(){this.$emit("imageAddAction")},deletePicture:function(e){this.selectPictures.splice(e,1),console.log(this.selectPictures)},addSelect:function(e,t){t?this.getPicture():this.useCamera()},useCamera:function(){var e=this,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.$plugin.usePlugin("camera")((function(i){t&&"android"==e.$devicePlatform?e.$plugin.usePlugin("crop")(i,(function(t){console.log("yuanl=> 裁剪url = "+t),t=t.split("?"),e.selectPictures.push(t[0])}),(function(i){console.log("Crop error. "+JSON.stringify(i)),"true"==i.recapture?(console.log("调用相机重拍. "),e.useCamera(t)):"User cancelled"==i.message?console.log("用户取消裁剪操作. "):e.$toast("裁剪图片出现异常，请重试！")})):e.selectPictures.push(i)}),(function(e){}),t,!1)},uploadFile:function(){var e=this;this.uploadImageList=[];var t="".concat(o["b"].get("custUrl.homeUrl"),"xwj-sys-media/media/upload/uploadFile"),i={params:{file:"",source:"yzApp",business:"dicoveryPic"},headers:{contentType:"multipart/form-data"}},s=this.selectPictures.length,a=0;console.log("开始调用图片上传"),0==this.selectPictures.length&&this.$emit("imageMapChange",[]),console.log(this.selectPictures),this.loading=o["b"].get("showLoadingView"),this.loading&&this.loading(!0),this.selectPictures.forEach((function(n){i.params.file=n,e.$plugin.usePlugin("fileTransfer")(t,n,i,(function(t){var i=JSON.parse(t.response);0==i.resultCode&&e.uploadImageList.push(i.data),a++,console.log(s),console.log(a),e.dealResult(s==a)}),(function(t){a++,console.log(s),console.log(a),e.dealResult(s==a)}))}))},dealResult:function(e){this.loading&&this.loading(!1),console.log(this.uploadImageList),e&&this.$emit("imageMapChange",this.uploadImageList)},getPicture:function(){var e=this;this.$plugin.usePlugin("getPictures")(this.maximumImagesCount,(function(t){t.forEach((function(t){e.selectPictures.push(t)}))}),(function(e){}),!0,!1)}}},r=c,l=(i("fc26"),i("2877")),u=Object(l["a"])(r,s,a,!1,null,"3716b700",null);t["a"]=u.exports},"608a":function(e,t,i){"use strict";i.d(t,"o",(function(){return u})),i.d(t,"b",(function(){return h})),i.d(t,"m",(function(){return d})),i.d(t,"i",(function(){return g})),i.d(t,"g",(function(){return p})),i.d(t,"f",(function(){return m})),i.d(t,"k",(function(){return v})),i.d(t,"n",(function(){return f})),i.d(t,"h",(function(){return A})),i.d(t,"j",(function(){return C})),i.d(t,"p",(function(){return y})),i.d(t,"l",(function(){return E})),i.d(t,"q",(function(){return w})),i.d(t,"e",(function(){return S})),i.d(t,"d",(function(){return b})),i.d(t,"r",(function(){return N})),i.d(t,"c",(function(){return P})),i.d(t,"a",(function(){return l}));var s=i("ba6a"),a=[{id:0,value:"三室一厅"},{id:1,value:"两室一厅"},{id:2,value:"三室两厅"},{id:3,value:"一室一厅"}],n=[{id:0,value:"100万以下"},{id:1,value:"100-150万"},{id:2,value:"150-200万"},{id:3,value:"200-300万"},{id:4,value:"300-500万"},{id:5,value:"500万以上"}],o=[{id:0,value:"1000元以下"},{id:1,value:"1000-1500元"},{id:2,value:"1500-2000元"},{id:3,value:"2000-3000元"},{id:4,value:"3000-5000元"},{id:5,value:"5000元以上"}],c=[{id:1,value:"一居"},{id:2,value:"二居"},{id:3,value:"三居"},{id:4,value:"四居"},{id:5,value:"五居"},{id:6,value:"五居以上"}],r=[{id:1,value:"0-50平方米"},{id:2,value:"50-100平方米"},{id:3,value:"100-150平方米"},{id:4,value:"150-200平方米"},{id:5,value:"200-250平方米"},{id:6,value:"250平方米以上"}],l={fwlx:a,sales:n,rentMony:o,kinds:c,sizes:r},u=function(e){return s["a"].post("hisense-systemServer/app/owner/getMyIssue.do",e,!0,"homeUrl")},h=function(e){return s["a"].post("hisense-systemServer/app/owner/delHouseSale.do",e,!0,"homeUrl")},d=function(e,t){return s["a"].post("hisense-systemServer/app/owner/getHouseSale.do",e,!0,"homeUrl",t)},g=function(e){return s["a"].post("hisense-systemServer/app/owner/getHouseSaleDetail.do",e,!0,"homeUrl")},p=function(e){return s["a"].post("hisense-systemServer/app/owner/getCodeCounty.do",e,!0,"homeUrl")},m=function(e){return s["a"].post("hisense-systemServer/app/owner/getCodeCity.do",e,!0,"homeUrl")},v=function(e){return s["a"].post("hisense-systemServer/app/owner/login/getProtocol.do",e,!0,"homeUrl")},f=function(e){return s["a"].post("hisense-systemServer/app/owner/getDictionaryList.do",e,!0,"homeUrl")},A=function(e){return s["a"].post("hisense-systemServer/app/owner/getDictionaryList.do",e,!0,"homeUrl")},C=function(e){return s["a"].post("hisense-systemServer/app/owner/getDictionaryList.do",e,!0,"homeUrl")},y=function(e){return s["a"].post("hisense-systemServer/app/owner/getDictionaryList.do",e,!0,"homeUrl")},E=function(e){return s["a"].post("hisense-systemServer/app/owner/getDictionaryList.do",e,!0,"homeUrl")},w=function(e){return s["a"].post("hisense-systemServer/app/owner/getDictionaryList.do",e,!0,"homeUrl")},S=function(e){return s["a"].post("hisense-systemServer/app/owner/getDictionaryList.do",e,!0,"homeUrl")},b=function(e){return s["a"].post("hisense-systemServer/app/owner/getDictionaryList.do",e,!0,"homeUrl")},N=function(e){return new Promise((function(t,i){s["a"].post("hisense-systemServer/app/owner/addHouseSale.do",e,!0,"homeUrl").then((function(e){e.success?t(e):i(e.msg)})).catch((function(e){i(e)}))}))},P=function(e){return s["a"].post("hisense-systemServer/app/owner/updateHouseSale.do",e,!0,"homeUrl")}},f971:function(e,t,i){},fc26:function(e,t,i){"use strict";var s=i("48d8"),a=i.n(s);a.a}}]);
//# sourceMappingURL=chunk-67efeb79.2020111117.js.map