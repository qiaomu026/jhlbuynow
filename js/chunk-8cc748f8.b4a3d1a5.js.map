{"version":3,"sources":["webpack:///./src/assets/images/mall/image_finish@3x.png","webpack:///./src/page/product/flashSaleCard.vue?91e7","webpack:///./src/services/productInfoService.js","webpack:///./src/assets/images/default/no_shop_con_img.png","webpack:///./src/page/product/flashSaleList.vue?dae6","webpack:///./src/page/product/flashSaleList.vue?8b1d","webpack:///./src/page/product/flashSaleCard.vue?5cc3","webpack:///./src/components/flashSaleCountDown/listCountDown.vue?1e36","webpack:///src/components/flashSaleCountDown/listCountDown.vue","webpack:///./src/components/flashSaleCountDown/listCountDown.vue?bef6","webpack:///./src/components/flashSaleCountDown/listCountDown.vue","webpack:///src/page/product/flashSaleCard.vue","webpack:///./src/page/product/flashSaleCard.vue?b80a","webpack:///./src/page/product/flashSaleCard.vue","webpack:///src/page/product/flashSaleList.vue","webpack:///./src/page/product/flashSaleList.vue?1dca","webpack:///./src/page/product/flashSaleList.vue"],"names":["module","exports","getProductInfo","reqParam","Promise","resolve","reject","http","get","then","result","catch","error","getProductShopInfo","addToCart","post","addToCollection","delectCollection","ifCollection","getCartNum","shareGoods","getUserShoppingCart","delectShoppingCart","addCollectList","updateCartNum","updateGoodsSelect","getFlashSaleList","remindUser","getFlashSaleDetail","getActivityTepmlateGoods","getActivityTepmlate","getActivityUrl","getFlashSaleUrl","render","_vm","this","_h","$createElement","_c","_self","staticClass","style","attrs","on","$event","goToBack","controlTab","model","value","callback","$$v","active","expression","_l","tit","ii","themeCurrent","fontSize","ref","firstTab","controlSwiper","key","bottomAdTouchStart","bottomAdTouchMove","bottomAdTouchEnd","swipeClickedEven","staticRenderFns","onRefresh","mgChildKey","isRefresh","listMinHeight","finished","onLoad","loading","item","goodsIndex","isLists","class","turnToGoods","directives","name","rawName","spuStatus","_v","_e","_s","spuName","salePoint","spuSkPrice","originalPrice","salesPercent","time","isSubsribe","remindBefor","countDownFinish","img","noList","timeBox","component","listCountDown"],"mappings":"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","file":"js/chunk-8cc748f8.b4a3d1a5.js","sourcesContent":["module.exports = __webpack_public_path__ + \"img/image_finish@3x.40a629fe.png\";","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./flashSaleCard.vue?vue&type=style&index=0&id=5ba1476c&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./flashSaleCard.vue?vue&type=style&index=0&id=5ba1476c&scoped=true&lang=scss&\"","import http from \"../http\";\r\n\r\n\r\n//获取商品详情\r\nconst getProductInfo = (reqParam) => {\r\n    return new Promise((resolve, reject) => {\r\n        http.get('xwj-commerce-goods/goods/getGoodsInfoForApp',reqParam).then(result => {\r\n            resolve(result);\r\n        }).catch(error => {\r\n            reject(error);\r\n        })\r\n    });\r\n}\r\n// 获取商品详情内的店铺信息\r\nconst getProductShopInfo = (reqParam) => {\r\n    return new Promise((resolve, reject) => {\r\n        http.get('xwj-commerce-shop/shopManage/getOneShopTitle',reqParam,'baseUrl',false).then(result => {\r\n             resolve(result);\r\n        }).catch(error => {\r\n            reject(error);\r\n        })\r\n    });\r\n}\r\n//从商品详情页添加购物车\r\nconst addToCart = (reqParam) => {\r\n    return new Promise((resolve, reject) => {\r\n        http.post('xwj-commerce-sale/shopCart/addGoods',reqParam ).then(result => {\r\n             resolve(result);\r\n        }).catch(error => {\r\n            reject(error);\r\n        })\r\n    });\r\n}\r\n//添加收藏\r\nconst addToCollection = (reqParam) => {\r\n    return new Promise((resolve, reject) => {\r\n        http.post('xwj-sys-user/collect/saveCollect',reqParam,false,'baseUrl',false).then(result => {\r\n             resolve(result);\r\n        }).catch(error => {\r\n            reject(error);\r\n        })\r\n    });\r\n}\r\n//取消收藏\r\nconst delectCollection = (reqParam) => {\r\n    return new Promise((resolve, reject) => {\r\n        http.post('xwj-sys-user/collect/deleteCollect',reqParam,false,'baseUrl',false).then(result => {\r\n             resolve(result);\r\n        }).catch(error => {\r\n            reject(error);\r\n        })\r\n    });\r\n}\r\n//查看商品是否已收藏\r\nconst ifCollection = (reqParam) => {\r\n    return new Promise((resolve, reject) => {\r\n        http.get('xwj-sys-user/collect/getCollectList',reqParam ).then(result => {\r\n             resolve(result);\r\n        }).catch(error => {\r\n            reject(error);\r\n        })\r\n    });\r\n}\r\n//获取购物车商品数量\r\nconst getCartNum = (reqParam) => {\r\n    return new Promise((resolve, reject) => {\r\n        http.get('xwj-commerce-sale/shopCart/getSkuTypeNum',reqParam ).then(result => {\r\n             resolve(result);\r\n        }).catch(error => {\r\n            reject(error);\r\n        })\r\n    });\r\n}\r\n//获取商品分享的url\r\nconst shareGoods =(reqParam) => {\r\n    return new Promise((resolve, reject) => {\r\n        http.post('xwj-sys-user/share/shareGoods',reqParam ).then(result => {\r\n             resolve(result);\r\n        }).catch(error => {\r\n            reject(error);\r\n        })\r\n    });\r\n}\r\n//获取购物车列表\r\nconst getUserShoppingCart = (reqParam) => {\r\n    return new Promise((resolve, reject) => {\r\n        http.get('xwj-commerce-sale/shopCart/getGoodsList',reqParam ).then(result => {\r\n             resolve(result);\r\n        }).catch(error => {\r\n            reject(error);\r\n        })\r\n    });\r\n}\r\n//获取购物车列表（新）\r\nconst getUserShoppingCartNew = (reqParam) => {\r\n    return new Promise((resolve, reject) => {\r\n        http.get('xwj-commerce-sale/shopCart/getGoodsListV32',reqParam ).then(result => {\r\n             resolve(result);\r\n        }).catch(error => {\r\n            reject(error);\r\n        })\r\n    });\r\n}\r\n\r\n//删除购物车内商品\r\nconst delectShoppingCart = (reqParam) => {\r\n    return new Promise((resolve, reject) => {\r\n        http.post('xwj-commerce-sale/shopCart/deleteGoods',reqParam,false).then(result => {\r\n             resolve(result);\r\n        }).catch(error => {\r\n            reject(error);\r\n        })\r\n    });\r\n}\r\n //从购物车批量添加到收藏夹\r\n const addCollectList =(reqParam) => {\r\n    return new Promise((resolve, reject) => {\r\n        http.post('xwj-sys-user/collect/saveCollectList',reqParam ).then(result => {\r\n             resolve(result);\r\n        }).catch(error => {\r\n            reject(error);\r\n        })\r\n    });\r\n}\r\n//更新购物车内某商品的数量\r\nconst updateCartNum = (reqParam) => {\r\n    return new Promise((resolve, reject) => {\r\n        http.post('xwj-commerce-sale/shopCart/updateGoodsNum',reqParam,false,'baseUrl',false).then(result => {\r\n             resolve(result);\r\n        }).catch(error => {\r\n            reject(error);\r\n        })\r\n    });\r\n}\r\n//更新购物车内某商品的数量及活动列表\r\nconst updateGoodsNumAndAct = (reqParam) => {\r\n    return new Promise((resolve, reject) => {\r\n        http.post('xwj-commerce-sale/shopCart/updateGoodsNumAndAct',reqParam,false,'baseUrl',false).then(result => {\r\n             resolve(result);\r\n        }).catch(error => {\r\n            reject(error);\r\n        })\r\n    });\r\n}\r\n//更新购物车选中标志\r\nconst updateGoodsSelect = (reqParam) => {\r\n    return new Promise((resolve, reject) => {\r\n        http.post('xwj-commerce-sale/shopCart/updateGoodsSelect',reqParam,false,'baseUrl',false).then(result => {\r\n             resolve(result);\r\n        }).catch(error => {\r\n            reject(error);\r\n        })\r\n    });\r\n}\r\n\r\n//获取秒杀商品列表\r\nconst getFlashSaleList = (reqParam) => {\r\n    return new Promise((resolve, reject) => {\r\n        http.get('xwj-commerce-seckill/activitySpu/getActivityGoodsList',reqParam,'baseUrl',true).then(result => {\r\n             resolve(result);\r\n        }).catch(error => {\r\n            reject(error);\r\n        })\r\n    });\r\n}\r\n//秒杀开始前5分钟提醒业主\r\nconst remindUser = (reqParam) => {\r\n    return new Promise((resolve, reject) => {\r\n        http.post('xwj-commerce-seckill/ownerNotice/subscribeSpuNotice ',reqParam ).then(result => {\r\n             resolve(result);\r\n        }).catch(error => {\r\n            reject(error);\r\n        })\r\n    });\r\n}\r\n//获取秒杀详情页\r\nconst getFlashSaleDetail= (reqParam) => {\r\n    return new Promise((resolve, reject) => {\r\n        http.get('xwj-commerce-seckill/activitySpu/getActivityGoods',reqParam ).then(result => {\r\n             resolve(result);\r\n        }).catch(error => {\r\n            reject(error);\r\n        })\r\n    });\r\n}\r\n//秒杀结算时校验商品状态\r\nconst getToPay = (reqParam) => {\r\n    return new Promise((resolve, reject) => {\r\n        http.post('xwj-commerce-seckill//activitySpu/placeOrder',reqParam ).then(result => {\r\n             resolve(result);\r\n        }).catch(error => {\r\n            reject(error);\r\n        })\r\n    });\r\n}\r\n//获取商品活动页商品信息\r\nconst getActivityTepmlateGoods = (reqParam) => {\r\n    return new Promise((resolve, reject) => {\r\n        http.get('xwj-advert-ssp/advertHtml/showGoods',reqParam,'baseUrl',true).then(result => {\r\n             resolve(result);\r\n        }).catch(error => {\r\n            reject(error);\r\n        })\r\n    });\r\n}\r\n////获取商品活动页模板信息\r\nconst getActivityTepmlate = (reqParam) => {\r\n    return new Promise((resolve, reject) => {\r\n        http.get('xwj-advert-ssp/advertHtml/queryAdvertPage',reqParam,'baseUrl',true).then(result => {\r\n             resolve(result);\r\n        }).catch(error => {\r\n            reject(error);\r\n        })\r\n    });\r\n}\r\n//获取商品合辑页分享的url\r\nconst getActivityUrl =(reqParam) => {\r\n    return new Promise((resolve, reject) => {\r\n        http.post('xwj-sys-user/share/shareAdvertGoods',reqParam).then(result => {\r\n             resolve(result);\r\n        }).catch(error => {\r\n            reject(error);\r\n        })\r\n    });\r\n}\r\n//获取秒杀商品分享的url\r\nconst getFlashSaleUrl =(reqParam) => {\r\n    return new Promise((resolve, reject) => {\r\n        http.post('xwj-sys-user/share/shareSeckill',reqParam).then(result => {\r\n             resolve(result);\r\n        }).catch(error => {\r\n            reject(error);\r\n        })\r\n    });\r\n}\r\nexport {\r\n    getProductInfo,\r\n    getProductShopInfo,\r\n    addToCart,\r\n    addToCollection,\r\n    delectCollection,\r\n    ifCollection,\r\n    getCartNum,\r\n    getUserShoppingCart,\r\n    getUserShoppingCartNew,\r\n    delectShoppingCart,\r\n    addCollectList,\r\n    updateCartNum,\r\n    updateGoodsNumAndAct,\r\n    updateGoodsSelect,\r\n    shareGoods,\r\n    getFlashSaleList,\r\n    remindUser,\r\n    getFlashSaleDetail,\r\n    getToPay,\r\n    getActivityTepmlateGoods,\r\n    getActivityTepmlate,\r\n    getActivityUrl,\r\n    getFlashSaleUrl\r\n}","module.exports = __webpack_public_path__ + \"img/no_shop_con_img.7a6f8ec6.png\";","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./flashSaleList.vue?vue&type=style&index=0&id=140a47d9&scoped=scoped&lang=scss&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./flashSaleList.vue?vue&type=style&index=0&id=140a47d9&scoped=scoped&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"flashSaleList\"},[_c('navigation-bar',{staticClass:\"title\",style:(_vm.setTopHeight),attrs:{\"pageName\":\"限时秒杀\"},on:{\"onLeftClick\":function($event){return _vm.goToBack()}}}),_c('div',{staticClass:\"tabTitle\"},[_c('van-tabs',{attrs:{\"swipe-threshold\":6,\"color\":\"#FB5768\",\"line-width\":\"0.67rem\",\"line-height\":\"0.08rem\"},on:{\"click\":_vm.controlTab},model:{value:(_vm.active),callback:function ($$v) {_vm.active=$$v},expression:\"active\"}},_vm._l((_vm.tabTitle),function(tit,ii){return _c('van-tab',{attrs:{\"title\":tit,\"name\":ii,\"title-style\":_vm.themeCurrent == '1' ? {fontSize: '17px'} : {}}})}),1)],1),_c('van-swipe',{ref:\"swipe\",staticClass:\"orderSwipe\",attrs:{\"show-indicators\":false,\"loop\":false,\"initial-swipe\":_vm.firstTab},on:{\"change\":_vm.controlSwiper}},[_c('van-swipe-item',{key:0,on:{\"touchstart\":function($event){return _vm.bottomAdTouchStart()},\"touchmove\":function($event){return _vm.bottomAdTouchMove()},\"touchend\":function($event){return _vm.bottomAdTouchEnd()}}},[_c('div',{style:({'height':'1px'})}),_c('flashSaleCard',{ref:\"mychild0\",attrs:{\"mgChildKey\":\"1\",\"isClickEven\":_vm.swipeClickedEven,\"isActKey\":_vm.active+1}})],1),_c('van-swipe-item',{key:1,on:{\"touchstart\":function($event){return _vm.bottomAdTouchStart()},\"touchmove\":function($event){return _vm.bottomAdTouchMove()},\"touchend\":function($event){return _vm.bottomAdTouchEnd()}}},[_c('div',{style:({'height':'1px'})}),_c('flashSaleCard',{ref:\"mychild1\",attrs:{\"mgChildKey\":\"0\",\"isClickEven\":_vm.swipeClickedEven,\"isActKey\":_vm.active-1}})],1),_c('van-swipe-item',{key:2,on:{\"touchstart\":function($event){return _vm.bottomAdTouchStart()},\"touchmove\":function($event){return _vm.bottomAdTouchMove()},\"touchend\":function($event){return _vm.bottomAdTouchEnd()}}},[_c('div',{style:({'height':'1px'})}),_c('flashSaleCard',{ref:\"mychild2\",attrs:{\"mgChildKey\":\"2\",\"isClickEven\":_vm.swipeClickedEven,\"isActKey\":_vm.active}})],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"flashSaleCard\"},[_c('van-pull-refresh',{on:{\"refresh\":function($event){return _vm.onRefresh(_vm.mgChildKey)}},model:{value:(_vm.isRefresh),callback:function ($$v) {_vm.isRefresh=$$v},expression:\"isRefresh\"}},[_c('van-list',{style:({'min-height': (_vm.listMinHeight+'px')}),attrs:{\"finished\":_vm.finished,\"immediate-check\":false},on:{\"load\":function($event){return _vm.onLoad(_vm.mgChildKey)}},model:{value:(_vm.loading),callback:function ($$v) {_vm.loading=$$v},expression:\"loading\"}},[_vm._l((_vm.lists),function(item,goodsIndex){return (_vm.isLists==false)?_c('div',[_c('div',{class:_vm.themeCurrent == '1' ? 'goodsCard-l':'goodsCard'},[_c('div',{class:_vm.themeCurrent == '1' ? 'seckillPic-l' : 'seckillPic',on:{\"click\":function($event){return _vm.turnToGoods(item)}}},[_c('img',{directives:[{name:\"lazy\",rawName:\"v-lazy\",value:(item.goodsPic),expression:\"item.goodsPic\"}]}),(item.spuStatus==3||item.spuStatus==4)?_c('div',{staticClass:\"noStock\"},[_vm._v(\"补货中\")]):_vm._e()]),_c('div',{staticClass:\"secKillInfo\",on:{\"click\":function($event){return _vm.turnToGoods(item)}}},[_c('div',{class:_vm.themeCurrent == '1' ? 'secKillName-l' : 'secKillName'},[_vm._v(\"\\n                \"+_vm._s(item.spuName)+\"\\n            \")]),_c('div',{class:_vm.themeCurrent == '1' ? 'salePoint-l' : 'salePoint'},[_vm._v(\"\\n                \"+_vm._s(item.salePoint)+\"\\n            \")]),_c('div',{style:({'clear':'both'})}),_c('div',{staticClass:\"salePrice\"},[_c('div',{class:_vm.themeCurrent == '1' ? 'secKillPrice-l' : 'secKillPrice'},[_vm._v(\"￥\"+_vm._s(item.spuSkPrice))]),(item.originalPrice !=null)?_c('div',{class:_vm.themeCurrent == '1' ? 'normalPrice-l' : 'normalPrice'},[_vm._v(\"￥\"+_vm._s(item.originalPrice))]):_vm._e()]),(_vm.mgChildKey=='1')?_c('van-progress',{class:_vm.themeCurrent == '1' ? 'saleProgress-l' : 'saleProgress',attrs:{\"color\":'linear-gradient(-135deg, #FF9BA5 0%, #FB5364 100%)',\"show-pivot\":false,\"percentage\":item.spuStatus==3||item.spuStatus==4?100:item.salesPercent}}):_vm._e()],1),_c('div',[(_vm.mgChildKey=='0' && item.time>=300000)?_c('div',{staticClass:\"secKillStatus\"},[_c('div',{staticClass:\"countDownTxt\"},[_vm._v(\"距开始\"),_c('listCountDown',{style:({'display':'inline-block'}),attrs:{\"timeBox\":item.time}})],1),_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(item.isSubsribe==0),expression:\"item.isSubsribe==0\"}],class:_vm.themeCurrent == '1' ? 'remindMe-l' : 'remindMe',on:{\"click\":function($event){return _vm.remindBefor(item,1)}}},[_vm._v(\"提醒我\")]),_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(item.isSubsribe==1),expression:\"item.isSubsribe==1\"}],class:_vm.themeCurrent == '1' ? 'remindCancle-l' : 'remindCancle',on:{\"click\":function($event){return _vm.remindBefor(item,0)}}},[_vm._v(\"取消订阅\")])]):_vm._e(),(_vm.mgChildKey=='0'&&item.time<300000)?_c('div',{staticClass:\"secKillStatus\"},[_c('button',{staticClass:\"countDownBtn\"},[_c('van-count-down',{style:({'color':'#FF5050'}),attrs:{\"auto-start\":true,\"time\":item.time},on:{\"finish\":_vm.countDownFinish}})],1)]):_vm._e(),(_vm.mgChildKey=='1')?_c('div',{staticClass:\"secKillStatus\"},[_c('div',{staticClass:\"countDownTxt\"},[_vm._v(\"距结束\"),_c('van-count-down',{style:({'display':'contents'}),attrs:{\"time\":item.time},on:{\"finish\":_vm.countDownFinish}})],1),_c('button',{staticClass:\"toBuy\",style:({'background':item.spuStatus==3||item.spuStatus==4?'#999999': 'linear-gradient(143deg, #FF9BA5 0%, #FB5364 82%)'}),on:{\"click\":function($event){return _vm.turnToGoods(item)}}},[_vm._v(\"立即抢购\")]),_c('div',{class:_vm.themeCurrent == '1' ? 'salePercentage-l' : 'salePercentage'},[_vm._v(\"已抢购\"+_vm._s(item.spuStatus==3||item.spuStatus==4?100:item.salesPercent)+\"%\")])]):_vm._e()]),(_vm.mgChildKey=='2')?_c('div',{staticClass:\"secKillFinish\"},[_c('img',{attrs:{\"src\":_vm.img.finished}})]):_vm._e()])]):_vm._e()}),(_vm.isLists==true)?_c('div',{class:_vm.themeCurrent == '1' ? 'noList-l' : 'noList'},[_c('img',{attrs:{\"src\":_vm.img.noList}}),_c('div',[_vm._v(\"暂无秒杀\")])]):_vm._e(),(_vm.ifNetWorkError)?_c('netWorkError'):_vm._e()],2)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('van-count-down',{style:({'display':'inline-block'}),attrs:{\"auto-start\":true,\"time\":_vm.timeBox},on:{\"finish\":_vm.countDownFinish}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <van-count-down :style=\"{'display':'inline-block'}\" :auto-start=\"true\" @finish=\"countDownFinish\" :time=\"timeBox\" />\r\n  </div>\r\n</template>\r\n<style scoped>\r\n\r\n</style>\r\n<script>\r\nexport default {\r\n    name:\"listCountdown\",\r\n    props:['timeBox'],\r\n    data:{\r\n        returun:{\r\n        interValTime:null,\r\n        }\r\n    },\r\n    methods:{\r\n         countDownFinish(){\r\n          this.$parent.$parent.$parent.onRefresh(0);\r\n        }\r\n    },\r\n    mounted(){\r\n          let timeDifference=this.timeBox;\r\n        this.interValTime = setInterval(() => {\r\n             timeDifference -= 1000;\r\n            if(timeDifference==300000){\r\n            this.countDownFinish();\r\n          }\r\n        }, 1000);\r\n    },\r\n    destroyed(){\r\n      clearInterval(this.interValTime)\r\n    }\r\n}\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./listCountDown.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./listCountDown.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./listCountDown.vue?vue&type=template&id=6d75c804&scoped=true&\"\nimport script from \"./listCountDown.vue?vue&type=script&lang=js&\"\nexport * from \"./listCountDown.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6d75c804\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n    <div class=\"flashSaleCard\">\r\n        <van-pull-refresh v-model=\"isRefresh\" @refresh=\"onRefresh(mgChildKey)\">\r\n        <van-list\r\n        v-model=\"loading\"\r\n        :finished=\"finished\"\r\n        @load=\"onLoad(mgChildKey)\"\r\n        :immediate-check=\"false\"\r\n        :style=\"{'min-height': (listMinHeight+'px')}\"\r\n       >\r\n        <div v-for=\"(item,goodsIndex) in lists\" v-if=\"isLists==false\">\r\n            <div :class=\"themeCurrent == '1' ? 'goodsCard-l':'goodsCard'\">\r\n            <!-- 商品图片 -->\r\n            <div :class=\"themeCurrent == '1' ? 'seckillPic-l' : 'seckillPic'\" @click=\"turnToGoods(item)\">\r\n                <img v-lazy=\"item.goodsPic\"/>\r\n                <div class=\"noStock\" v-if=\"item.spuStatus==3||item.spuStatus==4\">补货中</div>\r\n            </div>\r\n\r\n            <!-- 商品描述 -->\r\n            <div class=\"secKillInfo\" @click=\"turnToGoods(item)\">\r\n                <div :class=\"themeCurrent == '1' ? 'secKillName-l' : 'secKillName'\">\r\n                    {{item.spuName}}\r\n                </div>\r\n                <div :class=\"themeCurrent == '1' ? 'salePoint-l' : 'salePoint'\">\r\n                    {{item.salePoint}}\r\n                </div>\r\n                <div :style=\"{'clear':'both'}\"></div>\r\n                <div class=\"salePrice\">\r\n                    <div :class=\"themeCurrent == '1' ? 'secKillPrice-l' : 'secKillPrice'\">￥{{item.spuSkPrice}}</div>\r\n                    <div :class=\"themeCurrent == '1' ? 'normalPrice-l' : 'normalPrice'\" v-if=\"item.originalPrice !=null\">￥{{item.originalPrice}}</div>\r\n                </div>\r\n                <van-progress :class=\"themeCurrent == '1' ? 'saleProgress-l' : 'saleProgress'\" :color=\"'linear-gradient(-135deg, #FF9BA5 0%, #FB5364 100%)'\" :show-pivot='false'  :percentage=\"item.spuStatus==3||item.spuStatus==4?100:item.salesPercent\" v-if=\"mgChildKey=='1'\" />\r\n            </div>\r\n            <!-- 秒杀状态 -->\r\n            <div>\r\n                <!-- 开始前状态，大于5分钟 -->\r\n                <div class=\"secKillStatus\" v-if=\"mgChildKey=='0' && item.time>=300000\">\r\n                    <!-- <div class=\"countDownTxt\">距开始<van-count-down :style=\"{'display':'inline-block'}\" :auto-start=\"true\" @finish=\"countDownFinish\" :time=\"item.time\" /></div>\r\n                     -->\r\n\r\n                     <div class=\"countDownTxt\">距开始<listCountDown :style=\"{'display':'inline-block'}\" :timeBox=\"item.time\">\r\n                </listCountDown>\r\n                     </div>\r\n                    <button :class=\"themeCurrent == '1' ? 'remindMe-l' : 'remindMe'\" @click=\"remindBefor(item,1)\" v-show='item.isSubsribe==0'>提醒我</button>\r\n                    <button :class=\"themeCurrent == '1' ? 'remindCancle-l' : 'remindCancle'\" @click=\"remindBefor(item,0)\" v-show='item.isSubsribe==1' >取消订阅</button>\r\n                </div>\r\n                <!-- 开始前5分钟内 -->\r\n                <div class=\"secKillStatus\" v-if=\"mgChildKey=='0'&&item.time<300000\">\r\n                    <button class=\"countDownBtn\"><van-count-down  :auto-start=\"true\" :style=\"{'color':'#FF5050'}\" :time=\"item.time\" @finish=\"countDownFinish\" /></button>\r\n                </div>\r\n                <!-- 秒杀进行中,包括补货中状态 -->\r\n                <div class=\"secKillStatus\" v-if=\"mgChildKey=='1'\">\r\n                    <div class=\"countDownTxt\">距结束<van-count-down :style=\"{'display':'contents'}\" :time=\"item.time\" @finish=\"countDownFinish\"/></div>\r\n                    <button class=\"toBuy\" :style=\"{'background':item.spuStatus==3||item.spuStatus==4?'#999999': 'linear-gradient(143deg, #FF9BA5 0%, #FB5364 82%)'}\" @click=\"turnToGoods(item)\">立即抢购</button>\r\n                    <div :class=\"themeCurrent == '1' ? 'salePercentage-l' : 'salePercentage'\">已抢购{{item.spuStatus==3||item.spuStatus==4?100:item.salesPercent}}%</div>\r\n                </div>\r\n            </div>\r\n            <!-- 秒杀结束 -->\r\n                <div class=\"secKillFinish\" v-if=\"mgChildKey=='2'\">\r\n                    <img :src=\"img.finished\"/>\r\n                </div>\r\n        </div>\r\n        </div>\r\n        <!--无列表信息时的显示图片-->\r\n    <div :class=\"themeCurrent == '1' ? 'noList-l' : 'noList'\" v-if=\"isLists==true\">\r\n      <img :src=\"img.noList\"/>\r\n      <div>暂无秒杀</div>\r\n    </div>\r\n    <netWorkError v-if=\"ifNetWorkError\"></netWorkError>\r\n    </van-list>\r\n    </van-pull-refresh>\r\n\r\n\r\n    <!-- <transition @before-enter=\"beforeEnter\" @enter=\"enter\" @after-enter=\"afterEnter\">\r\n        <img class=\"circle\" v-show=\"isShowCircle\" src=\"@/assets/images/mall/mall_icon_add.png\" alt=\"\">\r\n    </transition> -->\r\n    </div>\r\n</template>\r\n<style scoped lang=\"scss\">\r\n.flashSaleCard{\r\n    background: #f9f9f9;\r\n    width: 100%;\r\n}\r\n.goodsCard{\r\n    height: 116px;\r\n    margin: 15px;\r\n    background: #FFFFFF;\r\n    box-shadow: 0 0 6px 0 rgba(219,219,219,0.50);\r\n    border-radius: 4px;\r\n    display: flex;\r\n    justify-content:space-between;\r\n    flex-wrap:nowrap;\r\n}\r\n.goodsCard-l{\r\n    height: 126px;\r\n    margin: 15px;\r\n    background: #FFFFFF;\r\n    box-shadow: 0 0 6px 0 rgba(219,219,219,0.50);\r\n    border-radius: 4px;\r\n    display: flex;\r\n    justify-content:space-between;\r\n    flex-wrap:nowrap;\r\n}\r\n.seckillPic{\r\n    width: 90px;\r\n    height: 90px;\r\n    padding: 13px;\r\n}\r\n.seckillPic img{\r\n    width: 90px;\r\n    height: 90px;\r\n    border-radius: 5px;\r\n}\r\n.seckillPic-l{\r\n    width: 100px;\r\n    height: 100px;\r\n    padding: 13px;\r\n}\r\n.seckillPic-l img{\r\n    width: 100px;\r\n    height: 100px;\r\n    border-radius: 5px;\r\n}\r\n.noStock{\r\n    width: 60px;\r\n    height: 60px;\r\n    position: relative;\r\n    top: -85px;\r\n    left: 15px;\r\n    border-radius: 50%;\r\n    background: rgba(0,0,0,0.50);\r\n    font-size: 12px;\r\n    color: #FFFFFF;\r\n    letter-spacing: -0.04px;\r\n    line-height: 70px;\r\n    text-align: center;\r\n}\r\n.secKillInfo{\r\n    width: 126px;\r\n    padding: 13px 3px 13px 0px;\r\n}\r\n.secKillInfo .secKillName  {\r\n    width: 126px;\r\n    height: 40px;\r\n    font-family: PingFangSC-Medium;\r\n    font-size: 14px;\r\n    line-height: 20px;\r\n    color: #333333;\r\n    letter-spacing: -0.06px;\r\n    display: -webkit-box;overflow: hidden;text-overflow: ellipsis;-webkit-line-clamp: 2;-webkit-box-orient: vertical;\r\n}\r\n.secKillInfo .salePoint{\r\n    font-family: PingFangSC-Regular;\r\n    font-size: 12px;\r\n    color: #9A9A9A;\r\n    letter-spacing: -0.05px;\r\n    width: 126px;\r\n    white-space: nowrap;overflow: hidden;text-overflow: ellipsis;\r\n    margin-top: 2px;\r\n    height: 17px;\r\n}\r\n.secKillInfo .secKillName-l  {\r\n    width: 126px;\r\n    height: 40px;\r\n    font-family: PingFangSC-Medium;\r\n    font-size: 17px;\r\n    line-height: 20px;\r\n    color: #333333;\r\n    letter-spacing: -0.06px;\r\n    display: -webkit-box;overflow: hidden;text-overflow: ellipsis;-webkit-line-clamp: 2;-webkit-box-orient: vertical;\r\n}\r\n.secKillInfo .salePoint-l{\r\n    font-family: PingFangSC-Regular;\r\n    font-size: 14px;\r\n    color: #9A9A9A;\r\n    letter-spacing: -0.05px;\r\n    width: 126px;\r\n    white-space: nowrap;overflow: hidden;text-overflow: ellipsis;\r\n    margin-top: 2px;\r\n    height: 17px;\r\n}\r\n.salePrice{\r\n    margin-top: 2px;\r\n    margin-bottom: 7px;\r\n    height: 20px;\r\n}\r\n.salePrice .secKillPrice{\r\n    font-family: PingFangSC-Medium;\r\n    font-size: 14px;\r\n    color: #F43D3D;\r\n    letter-spacing: -0.04px;\r\n    float: left;\r\n    padding: 4px 0px;\r\n}\r\n.salePrice .normalPrice{\r\n    font-family: PingFangSC-Regular;\r\n    font-size: 10px;\r\n    color: #9A9A9A;\r\n    letter-spacing: -0.03px;\r\n    text-align: right;\r\n    line-height: 21px;\r\n    text-decoration: line-through;\r\n    float: left;\r\n    padding: 4px;\r\n}\r\n.salePrice .secKillPrice-l{\r\n    font-family: PingFangSC-Medium;\r\n    font-size: 20px;\r\n    color: #F43D3D;\r\n    letter-spacing: -0.04px;\r\n    float: left;\r\n    padding: 4px 0px;\r\n}\r\n.salePrice .normalPrice-l{\r\n    font-family: PingFangSC-Regular;\r\n    font-size: 14px;\r\n    color: #9A9A9A;\r\n    letter-spacing: -0.03px;\r\n    text-align: right;\r\n    line-height: 30px;\r\n    text-decoration: line-through;\r\n    float: left;\r\n    padding: 4px;\r\n}\r\n.saleProgress{\r\n    height: 5px;\r\n    margin-bottom: 2px;\r\n    float: inline-end;\r\n}\r\n.saleProgress-l{\r\n    height: 8px;\r\n    margin-bottom: 2px;\r\n    float: inline-end;\r\n    top: 4px;\r\n}\r\n.secKillStatus{\r\n     width: 90px;\r\n     padding: 13px 13px 13px 0px;\r\n}\r\nsecKillDown{\r\n    display: flex;\r\n    justify-content: flex-start;\r\n    flex-flow: nowrap;\r\n    width: 75px;\r\n}\r\n.secKillFinish img{\r\n    width: 78px;\r\n    height: 64px;\r\n}\r\n.secKillStatus .countDownTxt{\r\n    font-family: PingFangSC-Regular;\r\n    font-size: 10px;\r\n    color: #888888;\r\n    letter-spacing: -0.03px;\r\n    display: block;\r\n    height: 18px;\r\n}\r\n.secKillStatus .toBuy{\r\n    background: linear-gradient(143deg, #FF9BA5 0%, #FB5364 82%);\r\n    border-radius: 20px;\r\n    width: 76px;\r\n    height: 30px;\r\n    margin-top: 13px;\r\n    border: none;\r\n    font-family: PingFangSC-Medium;\r\n    font-size: 12px;\r\n    color: #FFFFFF;\r\n    letter-spacing: -0.04px;\r\n    display: block;\r\n}\r\n.secKillStatus .toBuy-l{\r\n    background: linear-gradient(143deg, #FF9BA5 0%, #FB5364 82%);\r\n    border-radius: 20px;\r\n    width: 76px;\r\n    height: 30px;\r\n    margin-top: 13px;\r\n    border: none;\r\n    font-family: PingFangSC-Medium;\r\n    font-size: 12px;\r\n    color: #FFFFFF;\r\n    letter-spacing: -0.04px;\r\n    display: block;\r\n}\r\n.secKillStatus .remindMe{\r\n    border:1px solid #FF9F00;\r\n    border-radius: 20px;\r\n    width: 76px;\r\n    height: 30px;\r\n    margin-top: 12px;\r\n    font-family: PingFangSC-Medium;\r\n    font-size: 12px;\r\n    color: #FF9F00;\r\n    letter-spacing: -0.04px;\r\n    background: #FFFFFF;\r\n}\r\n    .secKillStatus .remindMe-l{\r\n        border:1px solid #FF9F00;\r\n        border-radius: 20px;\r\n        width: 76px;\r\n        height: 30px;\r\n        margin-top: 12px;\r\n        font-family: PingFangSC-Medium;\r\n        font-size: 15px;\r\n        color: #FF9F00;\r\n        letter-spacing: -0.04px;\r\n        background: #FFFFFF;\r\n    }\r\n.secKillStatus .remindCancle{\r\n    border: 1px solid #4A4A4A;\r\n    border-radius: 20px;\r\n    width: 76px;\r\n    height: 30px;\r\n    margin-top: 12px;\r\n    font-family: PingFangSC-Medium;\r\n    font-size: 12px;\r\n    color: #4A4A4A;\r\n    letter-spacing: -0.04px;\r\n    text-align: center;\r\n    background: #FFFFFF;\r\n}\r\n    .secKillStatus .remindCancle-l{\r\n        border: 1px solid #4A4A4A;\r\n        border-radius: 20px;\r\n        width: 76px;\r\n        height: 30px;\r\n        margin-top: 12px;\r\n        font-family: PingFangSC-Medium;\r\n        font-size: 15px;\r\n        color: #4A4A4A;\r\n        letter-spacing: -0.04px;\r\n        text-align: center;\r\n        background: #FFFFFF;\r\n    }\r\n.secKillStatus .countDownBtn{\r\n    background: rgba(251,87,104,0.10);\r\n    border: 1px solid #FB5768;\r\n    border-radius: 20px;\r\n    width: 76px;\r\n    height: 30px;\r\n    margin-top: 25px;\r\n    font-family: PingFangSC-Medium;\r\n    font-size: 12px;\r\n    color: #FF5050;\r\n    letter-spacing: -0.04px;\r\n}\r\n.salePercentage{\r\n    font-family: PingFangSC-Regular;\r\n    font-size: 10px;\r\n    color: #888888;\r\n    letter-spacing: -0.03px;\r\n    margin-top: 19.5px;\r\n    /* margin-top: 67px; */\r\n}\r\n.salePercentage-l{\r\n    font-family: PingFangSC-Regular;\r\n    font-size: 10px;\r\n    color: #888888;\r\n    letter-spacing: -0.03px;\r\n    margin-top: 19.5px;\r\n    /* margin-top: 67px; */\r\n}\r\n\r\n/deep/.van-count-down{\r\n    font-size: 10px;\r\n}\r\n /deep/.van-pull-refresh__head {\r\n    position: absolute;\r\n    top: -65px;\r\n    left: 0;\r\n    width: 100%;\r\n    height: 1.33333rem;\r\n    overflow: hidden;\r\n    color: #969799;\r\n    font-size: 0.37333rem;\r\n    line-height: 1.33333rem;\r\n    text-align: center;\r\n}\r\n.noList img{\r\n    margin:100px 100px 10px 100px;\r\n    width: 180px;\r\n    display:inline-block;\r\n  }\r\n  .noList div{\r\n    text-align:center;\r\n    width: 100%;\r\n    font-size: 14px;\r\n    color: #9A9A9A;\r\n  }\r\n.noList-l img{\r\n    margin:100px 100px 10px 100px;\r\n    width: 180px;\r\n    display:inline-block;\r\n  }\r\n  .noList-l div{\r\n    text-align:center;\r\n    width: 100%;\r\n    font-size: 15px;\r\n    color: #9A9A9A;\r\n  }\r\n  .addBtn{\r\n        width: 22px;\r\n        height: 22px;\r\n        margin-top:20px;\r\n        margin-left: 48px;\r\n        display: flex;\r\n        position: relative;\r\n        .cartNumBox{\r\n            width: 18px;\r\n            height: 18px;\r\n            position: absolute;\r\n            top: -9px;\r\n            right: -9px;\r\n            background: #fff;\r\n            border-radius: 50%;\r\n            .cartNum{\r\n                width: 16px;\r\n                height: 16px;\r\n                margin: 1px auto 0px;\r\n                box-sizing: border-box;\r\n                border-radius: 50%;\r\n                border: 1px solid #FB5768;\r\n                font-family: PingFangSC-Semibold;\r\n                font-size: 10px;\r\n                color: #FB5768;\r\n                letter-spacing: -0.03px;\r\n                text-align: center;\r\n                line-height: 16px;\r\n            }\r\n\r\n        }\r\n        .cartNumBigBox{\r\n            width: 28px;\r\n            height: 18px;\r\n            border-radius: 30px;\r\n            .cartNum{\r\n                width: 26px;\r\n                height: 16px;\r\n                border-radius: 30px;\r\n                margin: 1px auto 0px;\r\n                box-sizing: border-box;\r\n                border: 1px solid #FB5768;\r\n                font-family: PingFangSC-Semibold;\r\n                font-size: 10px;\r\n                color: #FB5768;\r\n                letter-spacing: -0.03px;\r\n                text-align: center;\r\n                line-height: 15px;\r\n            }\r\n        }\r\n        img{\r\n            width: 100%;\r\n        }\r\n    }\r\n/deep/.van-list__loading {\r\n    display: none;\r\n}\r\n</style>\r\n<script>\r\nimport { getFlashSaleList,remindUser } from \"../../services/productInfoService\";\r\nimport { mapActions, mapState } from \"vuex\";\r\nimport Vue from 'vue';\r\nimport listCountDown from \"../../components/flashSaleCountDown/listCountDown\";\r\nimport netWorkError from \"../../common/networkError/NetworkError\"\r\nexport default {\r\n\r\n    name:'flashSaleCard',\r\n     props:['mgChildKey','isActKey','isClickEven'],\r\n    data:function(){\r\n        return{\r\n            lists:[],\r\n            isLists:false,\r\n            isRefresh:false,//是否下拉刷新\r\n            loading:false,//是否上拉加载\r\n            finished:false,//是否结束上拉加载状态\r\n            currentPage:1,\r\n            totalPage:5,\r\n            pageSize:5,\r\n            ifNetWorkError:false,//判断是否网络异常\r\n            img:{\r\n                finished:require(\"@/assets/images/mall/image_finish@3x.png\"),\r\n                noList:require(\"@/assets/images/default/no_shop_con_img.png\"),//img里面没有找到\r\n            },\r\n            listMinHeight: document.body.clientHeight - this.$stbHeight -65-44,\r\n            // addGoodsLoading:false,\r\n            // isShowCircle:false,\r\n            // addBtnIcon:null,\r\n            themeCurrent: this.$curTheme,\r\n        }\r\n    },\r\n    components:{\r\n    listCountDown, netWorkError\r\n    },\r\n    methods:{\r\n        // 上拉加载数据\r\n        onLoad(type){\r\n            console.log(\"mgChildKey\"+this.mgChildKey+\"isActKey\"+this.isActKey);\r\n             if(this.mgChildKey!=this.isActKey){\r\n            return\r\n          }\r\n            console.log(this.currentPage+\"下拉刷新\");\r\n            this.currentPage+=1;\r\n            if (this.totalPage >= this.currentPage) {\r\n            this.getLists(type);\r\n            this.finished = this.currentPage >= this.totalPage ? true : false;\r\n          } else if (this.totalPage < this.currentPage || this.lists.length==0) {\r\n            console.log(\"总页数小于等于当前页数了\");\r\n            this.finished = true;\r\n            this.loading = false;\r\n            this.isRefresh=false;\r\n          }\r\n        },\r\n        onRefresh(type) {\r\n        this.currentPage = 1;\r\n        this.lists=[];\r\n        // this.finished=false;\r\n        this.getLists(type);\r\n        },\r\n        //清空数据\r\n        emptyData(){\r\n        var arr = [];\r\n        arr.push(this.lists[0])\r\n        this.lists = [];\r\n        },\r\n        // 获取秒杀商品列表\r\n        getLists(type) {\r\n            // const _this=this;\r\n        const data={\r\n            ownerCode: this.$userInfo.OWNER_CODE,\r\n            areaCode:this.$userInfo.AREA_CODE,\r\n            status:type,\r\n            page:this.currentPage,\r\n            rows:10,\r\n            }\r\n          getFlashSaleList(data).then(response =>{\r\n                this.totalPage=response.data.pages;\r\n                this.ifNetWorkError = false;\r\n                this.isLists = response.data.records.length == 0 ? true : false;\r\n                if(response.data.total==0){\r\n                    this.finished=true;\r\n                    this.loading=false;\r\n                    this.isRefresh=false;\r\n                }else{\r\n                    if(this.currentPage==1){\r\n                        this.lists=response.data.records;\r\n                    }else{\r\n                 this.lists=this.lists.concat(response.data.records);\r\n                    }\r\n                    this.lists.map((item,index) => {\r\n                    //图片本地化存储\r\n                    Vue.prototype.$isHasLocalImage(item.goodsPic,function(localImgUrl){\r\n                        item.goodsPic = localImgUrl;\r\n                     })\r\n                });\r\n                // for (var i = 0; i < this.lists.length; i++) {//商品图片切换url\r\n\r\n                // if(i%2==0){\r\n                // var img = _this.lists[i].goodsPic;\r\n                // console.log(\"图片url\"+ _this.lists[i].goodsPic);\r\n                // _this.lists[i].goodsPic=img.replace('xwjfile.juhaolian.cn', 'xwjfilea.juhaolian.cn');\r\n                //  console.log(\"新图片url\"+ _this.lists[i].goodsPic);\r\n                //  }\r\n                // }\r\n                this.getCountDown(this.mgChildKey);//获取倒计时\r\n                this.loading = false;\r\n                this.isRefresh=false;\r\n                this.finished= this.currentPage == response.data.pages;\r\n                console.log(\"是否结束状态\"+this.finished)\r\n            }\r\n          }).catch(error => {\r\n          //加载失败后，关闭加载等待的文字\r\n            this.ifNetWorkError = true;\r\n            this.isLists=false;\r\n            this.isRefresh=false;\r\n            this.$toast(\"网络异常，请稍后重试！\");\r\n        });\r\n        },\r\n        // 活动开始前5分钟提醒业主\r\n        remindBefor(item,remind){\r\n            const _this=this;\r\n             if (!_this.isClickEven) {\r\n            return;\r\n          }\r\n            const data={\r\n                startTime:item.startTime,\r\n                // ownerCode:'2019110817314234128',\r\n                ownerCode:this.$userInfo.OWNER_CODE,\r\n                activitySpuId:item.activitySpuId,\r\n                subscribeFlag: remind,\r\n            }\r\n            remindUser(data).then(response =>{\r\n                if(response.resultCode=='0'&&item.isSubsribe==0){\r\n                 _this.$toast(\"订阅成功\");\r\n                 _this.onRefresh(this.mgChildKey);\r\n                }else if(response.resultCode=='0'&&item.isSubsribe==1){\r\n                 _this.$toast(\"取消订阅成功\");\r\n                  _this.onRefresh(this.mgChildKey);\r\n             }else{\r\n               _this.$toast(\"订阅失败,请稍后重试!\");\r\n                console.log(\"222222\");\r\n             }\r\n            });\r\n        },\r\n        //跳转秒杀详情页\r\n        turnToGoods(item){\r\n             if (!this.isClickEven) {\r\n            return;\r\n          }\r\n        this.$router.push({path: '/flashSaleGoods',query:{spuCode:item.spuCode,activitySpuId:item.activitySpuId,goodsUrl:item.goodsPic} });\r\n        },\r\n        // 获取倒计时\r\n        getCountDown(type){\r\n                this.lists.map((item)=>{\r\n                  if(type=='0'){ //未开始状态\r\n                 const secondTime =item.startTime-item.nowTime;\r\n                    item.time =secondTime* 1000;\r\n                  }else if(type=='1'){//秒杀中状态\r\n                const secondTime=item.endTime-item.nowTime;\r\n                item.time= secondTime *1000;\r\n                  }else{\r\n                      item.time=0;\r\n                  }\r\n            });\r\n        },\r\n        countDownFinish(){\r\n            this.onRefresh(this.mgChildKey);\r\n        }\r\n    },\r\n}\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./flashSaleCard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./flashSaleCard.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./flashSaleCard.vue?vue&type=template&id=5ba1476c&scoped=true&\"\nimport script from \"./flashSaleCard.vue?vue&type=script&lang=js&\"\nexport * from \"./flashSaleCard.vue?vue&type=script&lang=js&\"\nimport style0 from \"./flashSaleCard.vue?vue&type=style&index=0&id=5ba1476c&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5ba1476c\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div class=\"flashSaleList\">\r\n  <!-- <div class=\"title\">\r\n      <img class=\"commonHead\" :src=\"img.arrow\" @click=\"goToBack()\">\r\n    <span class=\"orderTitle\">限时秒杀</span>\r\n  </div> -->\r\n   <navigation-bar class=\"title\" @onLeftClick=\"goToBack()\" pageName=\"限时秒杀\" :style=\"setTopHeight\"/>\r\n  <!-- <van-nav-bar class=\"title\" title=\"限时秒杀\" @click-left=\"goToBack()\" left-arrow :style=\"setTopHeight\"></van-nav-bar> -->\r\n    <div class=\"tabTitle\">\r\n      <van-tabs v-model=\"active\" :swipe-threshold=\"6\" color=\"#FB5768\" @click=\"controlTab\" line-width=\"0.67rem\"\r\n        line-height=\"0.08rem\">\r\n        <van-tab v-for=\"(tit,ii) in tabTitle\" :title=\"tit\" :name=\"ii\" :title-style=\"themeCurrent == '1' ? {fontSize: '17px'} : {}\">\r\n        </van-tab>\r\n    </van-tabs>\r\n    </div>\r\n    <van-swipe class=\"orderSwipe\" :show-indicators=\"false\" :loop=\"false\" :initial-swipe=\"firstTab\" @change=\"controlSwiper\" ref=\"swipe\" >\r\n\r\n          <van-swipe-item  :key=\"0\" @touchstart=\"bottomAdTouchStart()\" @touchmove=\"bottomAdTouchMove()\"  @touchend=\"bottomAdTouchEnd()\">\r\n              <div :style=\"{'height':'1px'}\"></div>\r\n            <flashSaleCard ref=\"mychild0\" mgChildKey=\"1\" :isClickEven=\"swipeClickedEven\" :isActKey=\"active+1\" >\r\n\r\n            </flashSaleCard>\r\n          </van-swipe-item>\r\n\r\n          <van-swipe-item  :key=\"1\" @touchstart=\"bottomAdTouchStart()\" @touchmove=\"bottomAdTouchMove()\"  @touchend=\"bottomAdTouchEnd()\">\r\n              <div :style=\"{'height':'1px'}\"></div>\r\n            <flashSaleCard  ref=\"mychild1\" mgChildKey=\"0\" :isClickEven=\"swipeClickedEven\" :isActKey=\"active-1\">\r\n\r\n            </flashSaleCard>\r\n          </van-swipe-item>\r\n          <van-swipe-item  :key=\"2\" @touchstart=\"bottomAdTouchStart()\" @touchmove=\"bottomAdTouchMove()\"  @touchend=\"bottomAdTouchEnd()\">\r\n              <div :style=\"{'height':'1px'}\"></div>\r\n            <flashSaleCard ref=\"mychild2\" mgChildKey=\"2\" :isClickEven=\"swipeClickedEven\" :isActKey=\"active\">\r\n\r\n            </flashSaleCard>\r\n          </van-swipe-item>\r\n        </van-swipe>\r\n    </div>\r\n</template>\r\n<style scoped=\"scoped\" lang=\"scss\">\r\n  .flashSaleList{\r\n    width: 100%;\r\n    height: 100%;\r\n    background: #f9f9f9;\r\n    display: flex;\r\n    flex-direction: column;\r\n  }\r\n  .flashSaleList .title{\r\n    z-index: 100;\r\n    width: 100%;\r\n  }\r\n  .flashSaleList .commonHead{\r\n    width: 25px;\r\n    padding:20px 20px 10px 20px;\r\n    float: left;\r\n  }\r\n  .flashSaleList .orderTitle{\r\n    font-family: PingFangSC-Medium;\r\n    font-size: 20px;\r\n    color: #333333;\r\n    letter-spacing: -0.06px;\r\n    float: right;\r\n    padding-top: 20px;\r\n    padding-right: 140px;\r\n  }\r\n  .tabTitle{\r\n    width: 100%;\r\n    z-index: 100;\r\n    background: #FFFFFF;\r\n  }\r\n  .orderSwipe{\r\n    overflow-y: auto;\r\n    overflow-x: hidden;\r\n    height: 100%;\r\n  }\r\n  .van-tabs {\r\n    position: relative;\r\n    padding: 1px 50px;\r\n  }\r\n  .orderList{\r\n    margin-top: 100px;\r\n  }\r\n  /*.van-tabs__line{*/\r\n    /*background-color: #FB5768;*/\r\n    /*width: 25px !important;*/\r\n    /*height: 3px !important;*/\r\n    /*transform: translateX(75px) translateX(-50%);*/\r\n    /*border-radius: 10px;*/\r\n    /*transition-duration: 0.3s;*/\r\n  /*}*/\r\n/deep/.van-tabs {\r\n    position: relative;\r\n    padding: 1px 50px;\r\n    line-height: 60px!important;\r\n  }\r\n/deep/.van-tab{\r\n  line-height: 60px!important;\r\n}\r\n /deep/.van-hairline--top-bottom::after, .van-hairline-unset--top-bottom::after{\r\n  border-width: 0 0;\r\n}\r\n   /deep/.van-hairline--top-bottom {\r\n    height: 1.33333rem !important;\r\n    line-height: 1.33333rem !important;\r\n    border:none !important;\r\n}\r\n/deep/.van-tabs__line {\r\n    position: absolute;\r\n    bottom: 0.5rem!important;\r\n    left: 0;\r\n    z-index: 1;\r\n    height: 0.08rem;\r\n    background-color: #ee0a24;\r\n    border-radius: 0.08rem;\r\n  }\r\n  /deep/.themeL .van-tab__text {\r\n    font-size: 17px !important;\r\n  }\r\n</style>\r\n\r\n<script>\r\n  import flashSaleCard from './flashSaleCard.vue';\r\n  import NavigationBar from '@/common/currency/NavigationBar.vue';\r\n    export default{\r\n        components: {flashSaleCard,NavigationBar},\r\n        data:function(){\r\n          return{\r\n            tabTitle:['正在进行','即将开始','秒杀结束'],\r\n            active:0,\r\n            key:0,\r\n            firstTab:0,//首页传值回来的tab状态值\r\n            setTopHeight:{\r\n          'padding-top':this.$stbHeight+'px'\r\n          },\r\n          adClickFlag:false,\r\n          swipeClickedEven:true,\r\n          adClickFlag: false,\r\n        swipeClickedEven: true,\r\n        skuTypeNum: 0,\r\n        themeCurrent: this.$curTheme,\r\n          }\r\n        },\r\n        \r\n      \r\n   \r\n    filters: {\r\n      setSkuTypeNum(data) {\r\n        return data >= 100 ? \"99+\" : data\r\n      },\r\n      threshold(data) {\r\n        return data >= 10000 ? ((data + 1000) / 10000).toFixed(1) + '万+' : data\r\n      }\r\n    },\r\n    methods: {\r\n      bottomAdTouchStart: function () {\r\n        // console.log('touch start');\r\n        this.adClickFlag = true;\r\n      },\r\n      bottomAdTouchMove: function() {\r\n        // console.log('touch Move');\r\n        this.adClickFlag = false;\r\n      },\r\n      bottomAdTouchEnd: function(adItem) {\r\n        if (this.adClickFlag) {\r\n          // console.log('点击事件');\r\n          this.swipeClickedEven = true;\r\n        }\r\n        else {\r\n          // console.log('滑动touch事件')\r\n          this.swipeClickedEven = false;\r\n        }\r\n      },\r\n//       通过滑动和点击切换订单类别\r\n          controlTab(index){\r\n            const _this=this;\r\n            // _this.active=index;\r\n            _this.key=index;        //同步swipe和tabbar的选中状态\r\n            _this.$refs.swipe.swipeTo(index);\r\n            window.scrollTo(0,0);//切换swipe时回到页面顶端\r\n          },\r\n          controlSwiper(index){\r\n             this.active=index;\r\n             if(index==0){\r\n              this.$refs.mychild0.onRefresh(1);\r\n              this.$refs.mychild1.emptyData();\r\n              this.$refs.mychild2.emptyData();\r\n            }else if(index==1){\r\n                  this.$refs.mychild1.onRefresh(0);\r\n                 this.$refs.mychild0.emptyData();\r\n                 this.$refs.mychild2.emptyData();\r\n            }else{\r\n              this.$refs.mychild1.emptyData();\r\n             this.$refs.mychild0.emptyData();\r\n              this.$refs.mychild2.onRefresh(2);\r\n            }\r\n          },\r\n          goToBack(){\r\n             if(this.$route.query.flag==10){//如果是从支付成功页面返回回来\r\n            this.$route.push({path: '/productPage'});\r\n          }else{\r\n              this.$router.go(-1);//返回上一层\r\n          }\r\n        },\r\n         countDownFinish(){\r\n          this.onRefresh(this.mgChildKey);\r\n        },\r\n         //设置离开订单列表时的tab\r\n      setTabIndex(flashSaleTabIndex){\r\n        this.$store.commit(\"leaveOrderList\",{\r\n          flashSaleTabIndex:flashSaleTabIndex,\r\n        })\r\n        }\r\n      },\r\n      //去购物车页面\r\n      goToShoppingCart(){\r\n                // this.productScrollTop = this.$refs.scrollContent.scrollTop;\r\n                this.$router.push({\r\n                    name: 'shoppingCart',\r\n                    params: {\r\n\r\n                    }\r\n                })\r\n            },\r\n    \r\n    beforeRouteLeave(to, from, next) {\r\n      if (to.name == 'flashSaleGoods'||to.name == 'shoppingCart'||to.name == 'flashSaleGoodsThemeL') {\r\n        this.setTabIndex(this.active);\r\n        }else{\r\n          this.setTabIndex(5);\r\n        }\r\n      next();\r\n    },\r\n    mounted: function () {\r\n      if (this.$route.params.firstTab == 0 || this.$route.params.firstTab == 1) {//如果是从首页进来\r\n        this.firstTab = this.$route.params.firstTab;\r\n        this.controlSwiper(this.firstTab);\r\n      } else {\r\n        this.firstTab = this.flashSaleTabIndex;\r\n        this.controlSwiper(this.firstTab);\r\n      }\r\n      },\r\n    computed:{\r\n     flashSaleTabIndex(){\r\n        return this.$store.state.productPage.flashSaleTabIndex;\r\n      }\r\n    }\r\n   }\r\n\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./flashSaleList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./flashSaleList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./flashSaleList.vue?vue&type=template&id=140a47d9&scoped=true&\"\nimport script from \"./flashSaleList.vue?vue&type=script&lang=js&\"\nexport * from \"./flashSaleList.vue?vue&type=script&lang=js&\"\nimport style0 from \"./flashSaleList.vue?vue&type=style&index=0&id=140a47d9&scoped=scoped&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"140a47d9\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}