(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4bf01820"],{"0131":function(t,e,i){"use strict";var s=i("f93a"),o=i.n(s);o.a},"0b2c":function(t,e){t.exports="data:image/png;base64,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"},"42bf":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABPUlEQVRYR+2WzW3DMAyFKS/QdJMA1L2jJNmg2SCdJBmhG9QLCM4oyQASAwIxkBqyRNL5O1hXy3ofnvgoOnjxci/WhxngPR0IIXwT0QoAfrz3v1PqpOu6ZYxx75xrEXE7PCvrQAihBYCv6+YNIh4sECyeUvoDgAURnb33CxHAlbp1zn1YIW7FS2eM1sAUCKk4gxWL0AKhEa8C8AYNhFZcBCCFsIiLAWoQVnEVwBhE0zTHPmqWxKg7YaYmTpxzi7jagb6JZCD4k6lhqR3or2Jg+/MAhgXHLXZKx1Q5kKt2LsIYo7ltiwFKUdM0K9FjNNwkybkVouqARLyQjmoyqo+RtslonSg+x1pxixNZAI3tY5OS1ImHj2Q3ET0h4qcoBTyUAsCaiHb3GEpTSjxT8lDK5/5b1RRYhlHNPzPA7MAFzII8MBxyCRwAAAAASUVORK5CYII="},"48d8":function(t,e,i){},"4e4d":function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("ul",{staticClass:"image-list"},[t._l(t.selectPictures,(function(e,o){return s("li",{key:o,style:{width:t.imageWidthAndHeight+"px",height:t.imageWidthAndHeight+"px"}},[s("img",{staticClass:"delete-picture",attrs:{src:i("0b2c"),alt:""},on:{click:function(e){return t.deletePicture(o)}}}),s("img",{attrs:{src:e,alt:""},on:{click:function(e){return t.preview(o)}}})])})),t.accountAddImage&&t.isShowAdd?s("li",[s("div",{staticClass:"add-image",on:{click:t.addAction}},[s("van-icon",{attrs:{name:"plus",color:"rgb(181, 181, 181)"}})],1)]):t._e()],2),s("Preview",{ref:"myPreview",attrs:{images:t.images}})],1)},o=[],a=(i("ac6a"),i("28a5"),i("c5f6"),i("a49b"),i("e036")),n=i("5d2d"),l={name:"AddImage",props:{maxImageCount:{type:Number,default:4},selectPictures:{type:Array,default:function(){return[]}},isShowAdd:{type:Boolean,default:!0},isUpload:{type:Boolean,default:!1}},data:function(){return{images:[],uploadImageList:[],loading:""}},components:{Preview:a["a"]},mounted:function(){var t=document.querySelector(".image-list");this.imageWidthAndHeight=t.offsetWidth/4},computed:{accountAddImage:function(){return this.selectPictures.length<this.maxImageCount},maximumImagesCount:function(){return this.maxImageCount-this.selectPictures.length}},watch:{selectPictures:function(t,e){},isUpload:function(t,e){t&&(console.log(t),this.uploadFile(),this.$emit("changeUploadStatus"))}},methods:{preview:function(t){this.images=this.selectPictures,this.$refs.myPreview.setIndex(t),this.$refs.myPreview.setIsShowPreview(!0),this.$store.dispatch("setPreviewId",this.$refs.myPreview)},addAction:function(){this.$emit("imageAddAction")},deletePicture:function(t){this.selectPictures.splice(t,1),console.log(this.selectPictures)},addSelect:function(t,e){e?this.getPicture():this.useCamera()},useCamera:function(){var t=this,e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.$plugin.usePlugin("camera")((function(i){e&&"android"==t.$devicePlatform?t.$plugin.usePlugin("crop")(i,(function(e){console.log("yuanl=> 裁剪url = "+e),e=e.split("?"),t.selectPictures.push(e[0])}),(function(i){console.log("Crop error. "+JSON.stringify(i)),"true"==i.recapture?(console.log("调用相机重拍. "),t.useCamera(e)):"User cancelled"==i.message?console.log("用户取消裁剪操作. "):t.$toast("裁剪图片出现异常，请重试！")})):t.selectPictures.push(i)}),(function(t){}),e,!1)},uploadFile:function(){var t=this;this.uploadImageList=[];var e="".concat(n["b"].get("custUrl.homeUrl"),"xwj-sys-media/media/upload/uploadFile"),i={params:{file:"",source:"yzApp",business:"dicoveryPic"},headers:{contentType:"multipart/form-data"}},s=this.selectPictures.length,o=0;console.log("开始调用图片上传"),0==this.selectPictures.length&&this.$emit("imageMapChange",[]),console.log(this.selectPictures),this.loading=n["b"].get("showLoadingView"),this.loading&&this.loading(!0),this.selectPictures.forEach((function(a){i.params.file=a,t.$plugin.usePlugin("fileTransfer")(e,a,i,(function(e){var i=JSON.parse(e.response);0==i.resultCode&&t.uploadImageList.push(i.data),o++,console.log(s),console.log(o),t.dealResult(s==o)}),(function(e){o++,console.log(s),console.log(o),t.dealResult(s==o)}))}))},dealResult:function(t){this.loading&&this.loading(!1),console.log(this.uploadImageList),t&&this.$emit("imageMapChange",this.uploadImageList)},getPicture:function(){var t=this;this.$plugin.usePlugin("getPictures")(this.maximumImagesCount,(function(e){e.forEach((function(e){t.selectPictures.push(e)}))}),(function(t){}),!0,!1)}}},r=l,u=(i("fc26"),i("2877")),c=Object(u["a"])(r,s,o,!1,null,"3716b700",null);e["a"]=c.exports},"608a":function(t,e,i){"use strict";i.d(e,"o",(function(){return c})),i.d(e,"b",(function(){return h})),i.d(e,"m",(function(){return d})),i.d(e,"i",(function(){return p})),i.d(e,"g",(function(){return m})),i.d(e,"f",(function(){return v})),i.d(e,"k",(function(){return g})),i.d(e,"n",(function(){return f})),i.d(e,"h",(function(){return A})),i.d(e,"j",(function(){return E})),i.d(e,"p",(function(){return C})),i.d(e,"l",(function(){return y})),i.d(e,"q",(function(){return N})),i.d(e,"e",(function(){return D})),i.d(e,"d",(function(){return O})),i.d(e,"r",(function(){return T})),i.d(e,"c",(function(){return L})),i.d(e,"a",(function(){return u}));var s=i("ba6a"),o=[{id:0,value:"三室一厅"},{id:1,value:"两室一厅"},{id:2,value:"三室两厅"},{id:3,value:"一室一厅"}],a=[{id:0,value:"100万以下"},{id:1,value:"100-150万"},{id:2,value:"150-200万"},{id:3,value:"200-300万"},{id:4,value:"300-500万"},{id:5,value:"500万以上"}],n=[{id:0,value:"1000元以下"},{id:1,value:"1000-1500元"},{id:2,value:"1500-2000元"},{id:3,value:"2000-3000元"},{id:4,value:"3000-5000元"},{id:5,value:"5000元以上"}],l=[{id:1,value:"一居"},{id:2,value:"二居"},{id:3,value:"三居"},{id:4,value:"四居"},{id:5,value:"五居"},{id:6,value:"五居以上"}],r=[{id:1,value:"0-50平方米"},{id:2,value:"50-100平方米"},{id:3,value:"100-150平方米"},{id:4,value:"150-200平方米"},{id:5,value:"200-250平方米"},{id:6,value:"250平方米以上"}],u={fwlx:o,sales:a,rentMony:n,kinds:l,sizes:r},c=function(t){return s["a"].post("hisense-systemServer/app/owner/getMyIssue.do",t,!0,"homeUrl")},h=function(t){return s["a"].post("hisense-systemServer/app/owner/delHouseSale.do",t,!0,"homeUrl")},d=function(t,e){return s["a"].post("hisense-systemServer/app/owner/getHouseSale.do",t,!0,"homeUrl",e)},p=function(t){return s["a"].post("hisense-systemServer/app/owner/getHouseSaleDetail.do",t,!0,"homeUrl")},m=function(t){return s["a"].post("hisense-systemServer/app/owner/getCodeCounty.do",t,!0,"homeUrl")},v=function(t){return s["a"].post("hisense-systemServer/app/owner/getCodeCity.do",t,!0,"homeUrl")},g=function(t){return s["a"].post("hisense-systemServer/app/owner/login/getProtocol.do",t,!0,"homeUrl")},f=function(t){return s["a"].post("hisense-systemServer/app/owner/getDictionaryList.do",t,!0,"homeUrl")},A=function(t){return s["a"].post("hisense-systemServer/app/owner/getDictionaryList.do",t,!0,"homeUrl")},E=function(t){return s["a"].post("hisense-systemServer/app/owner/getDictionaryList.do",t,!0,"homeUrl")},C=function(t){return s["a"].post("hisense-systemServer/app/owner/getDictionaryList.do",t,!0,"homeUrl")},y=function(t){return s["a"].post("hisense-systemServer/app/owner/getDictionaryList.do",t,!0,"homeUrl")},N=function(t){return s["a"].post("hisense-systemServer/app/owner/getDictionaryList.do",t,!0,"homeUrl")},D=function(t){return s["a"].post("hisense-systemServer/app/owner/getDictionaryList.do",t,!0,"homeUrl")},O=function(t){return s["a"].post("hisense-systemServer/app/owner/getDictionaryList.do",t,!0,"homeUrl")},T=function(t){return new Promise((function(e,i){s["a"].post("hisense-systemServer/app/owner/addHouseSale.do",t,!0,"homeUrl").then((function(t){t.success?e(t):i(t.msg)})).catch((function(t){i(t)}))}))},L=function(t){return s["a"].post("hisense-systemServer/app/owner/updateHouseSale.do",t,!0,"homeUrl")}},cbab:function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"editHouse"},[i("navigation-bar",{attrs:{pageName:"修改房源"},on:{onLeftClick:t.goBack}}),i("div",{staticClass:"house-box"},[i("div",{staticClass:"box"},[i("van-cell-group",[i("van-field",{staticStyle:{"padding-left":"0.42667rem"},attrs:{required:"",label:"发布类型","input-align":"right"}},[i("van-radio-group",{staticClass:"houseType",attrs:{slot:"input"},slot:"input",model:{value:t.isRent,callback:function(e){t.isRent=e},expression:"isRent"}},[i("van-radio",{attrs:{name:"0","checked-color":"#17B7BD",disabled:""}},[t._v("出售")]),i("van-radio",{attrs:{name:"1","checked-color":"#17B7BD",disabled:""}},[t._v("出租")])],1)],1),i("van-field",{staticStyle:{"padding-left":"0.42667rem"},attrs:{value:t.selectedArea?t.selectedProvince.NAME+t.selectedCity.NAME+t.selectedArea.NAME:"",required:"",label:"所在地区",placeholder:"请选择地区","input-align":"right",disabled:""},on:{click:t.showAreaSheet}}),i("van-field",{staticStyle:{"padding-left":"0.42667rem"},attrs:{required:"",label:"房源小区",placeholder:"请输入您的小区","input-align":"right"},model:{value:t.houseArea,callback:function(e){t.houseArea=e},expression:"houseArea"}}),i("van-field",{attrs:{label:"楼栋门牌","input-align":"right"}},[i("div",{staticClass:"right-item",attrs:{slot:"input"},slot:"input"},[i("div",{staticClass:"part"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.building,expression:"building"}],attrs:{type:"tel",placeholder:"选填"},domProps:{value:t.building},on:{keyup:function(e){t.building=t.building.replace(/\D/g,"")},input:function(e){e.target.composing||(t.building=e.target.value)}}}),i("div",[t._v("栋(号)")])]),i("div",{staticClass:"part"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.unit,expression:"unit"}],attrs:{type:"tel",placeholder:"选填"},domProps:{value:t.unit},on:{keyup:function(e){t.unit=t.unit.replace(/\D/g,"")},input:function(e){e.target.composing||(t.unit=e.target.value)}}}),i("div",[t._v("单元")])]),i("div",{staticClass:"part"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.room,expression:"room"}],attrs:{type:"tel",placeholder:"选填"},domProps:{value:t.room},on:{keyup:function(e){t.room=t.room.replace(/\D/g,"")},input:function(e){e.target.composing||(t.room=e.target.value)}}}),i("div",[t._v("室")])])])]),i("van-field",{staticStyle:{"padding-left":"0.42667rem"},attrs:{required:"",label:"面积",placeholder:"请输入面积","input-align":"right",type:"tel"},on:{input:function(e){t.acreage=(t.acreage.match(/\d+(\.\d{0,2})?/)||[""])[0]}},model:{value:t.acreage,callback:function(e){t.acreage=e},expression:"acreage"}},[i("div",{attrs:{slot:"button"},slot:"button"},[t._v("平米")])]),i("van-field",{attrs:{label:"户型","input-align":"right"}},[i("div",{staticClass:"right-item",attrs:{slot:"input"},slot:"input"},[i("div",{staticClass:"part"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.roomNum,expression:"roomNum"}],attrs:{type:"tel",placeholder:"选填"},domProps:{value:t.roomNum},on:{keyup:function(e){t.roomNum=t.roomNum.replace(/\D/g,"")},input:function(e){e.target.composing||(t.roomNum=e.target.value)}}}),i("div",[t._v("室")])]),i("div",{staticClass:"part"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.officeNum,expression:"officeNum"}],attrs:{type:"tel",placeholder:"选填"},domProps:{value:t.officeNum},on:{keyup:function(e){t.officeNum=t.officeNum.replace(/\D/g,"")},input:function(e){e.target.composing||(t.officeNum=e.target.value)}}}),i("div",[t._v("厅")])]),i("div",{staticClass:"part"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.toiletNum,expression:"toiletNum"}],attrs:{type:"tel",placeholder:"选填"},domProps:{value:t.toiletNum},on:{keyup:function(e){t.toiletNum=t.toiletNum.replace(/\D/g,"")},input:function(e){e.target.composing||(t.toiletNum=e.target.value)}}}),i("div",[t._v("卫")])])])]),i("van-field",{attrs:{label:"楼层","input-align":"right"}},[i("div",{staticClass:"right-item",attrs:{slot:"input"},slot:"input"},[i("div",{staticClass:"part"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.floor,expression:"floor"}],staticStyle:{"text-align":"center"},attrs:{type:"tel",placeholder:"选填"},domProps:{value:t.floor},on:{keyup:function(e){t.floor=t.floor.replace(/\D/g,"")},input:function(e){e.target.composing||(t.floor=e.target.value)}}}),i("div",[t._v("层/共")])]),i("div",{staticClass:"part"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.floorNum,expression:"floorNum"}],staticStyle:{"text-align":"center"},attrs:{type:"tel",placeholder:"选填"},domProps:{value:t.floorNum},on:{keyup:function(e){t.floorNum=t.floorNum.replace(/\D/g,"")},input:function(e){e.target.composing||(t.floorNum=e.target.value)}}})])])]),i("van-field",{attrs:{label:"房屋类型","input-align":"right"}},[i("div",{attrs:{slot:"input"},slot:"input"},[i("van-dropdown-menu",{attrs:{"active-color":"#17B7BD"}},[i("van-dropdown-item",{attrs:{options:t.houseTypeList},model:{value:t.houseType,callback:function(e){t.houseType=e},expression:"houseType"}})],1)],1)]),i("van-field",{attrs:{label:"装修","input-align":"right"}},[i("div",{attrs:{slot:"input"},slot:"input"},[i("van-dropdown-menu",{attrs:{"active-color":"#17B7BD"}},[i("van-dropdown-item",{attrs:{options:t.decorationList},model:{value:t.decoration,callback:function(e){t.decoration=e},expression:"decoration"}})],1)],1)]),i("van-field",{attrs:{label:"朝向","input-align":"right"}},[i("div",{attrs:{slot:"input"},slot:"input"},[i("van-dropdown-menu",{attrs:{"active-color":"#17B7BD"}},[i("van-dropdown-item",{attrs:{options:t.directionList},model:{value:t.direction,callback:function(e){t.direction=e},expression:"direction"}})],1)],1)]),i("van-field",{directives:[{name:"show",rawName:"v-show",value:"0"==t.isRent,expression:"isRent == '0'"}],staticStyle:{"padding-left":"0.42667rem"},attrs:{type:"tel",id:"houseTotalSale",required:"",label:"售价",placeholder:"请输入您的房价","input-align":"right"},on:{input:function(e){t.houseMoney=(t.houseMoney.match(/\d+(\.\d{0,2})?/)||[""])[0]}},model:{value:t.houseMoney,callback:function(e){t.houseMoney=e},expression:"houseMoney"}},[i("div",{attrs:{slot:"button"},slot:"button"},[t._v("万")])]),i("van-field",{directives:[{name:"show",rawName:"v-show",value:"1"==t.isRent,expression:"isRent == '1'"}],staticStyle:{"padding-left":"0.42667rem"},attrs:{required:"",label:"出租方式","input-align":"right"}},[i("van-radio-group",{staticClass:"houseType",attrs:{slot:"input","checked-color":"#17B7BD"},slot:"input",model:{value:t.rentType,callback:function(e){t.rentType=e},expression:"rentType"}},[i("van-radio",{attrs:{name:"0","checked-color":"#17B7BD"}},[t._v("整套出租")]),i("van-radio",{attrs:{name:"1","checked-color":"#17B7BD"}},[t._v("单间出租")])],1)],1),i("van-field",{directives:[{name:"show",rawName:"v-show",value:"1"==t.rentType,expression:"rentType == '1'"}],attrs:{label:"出租间","input-align":"right"}},[i("div",{staticClass:"right-item",attrs:{slot:"input"},slot:"input"},[i("div",{staticClass:"part"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.rentAcreage,expression:"rentAcreage"}],staticStyle:{width:"2.33333rem"},attrs:{type:"tel",placeholder:"出租间面积"},domProps:{value:t.rentAcreage},on:{keyup:function(e){t.rentAcreage=(t.rentAcreage.match(/\d+(\.\d{0,2})?/)||[""])[0]},input:function(e){e.target.composing||(t.rentAcreage=e.target.value)}}}),i("div",[t._v("M²")])]),i("div",{staticClass:"part"},[i("van-dropdown-menu",{attrs:{"active-color":"#17B7BD"}},[i("van-dropdown-item",{attrs:{options:t.siteList},model:{value:t.site,callback:function(e){t.site=e},expression:"site"}}),i("van-dropdown-item",{attrs:{options:t.sexList},model:{value:t.sex,callback:function(e){t.sex=e},expression:"sex"}})],1)],1)])]),i("van-field",{directives:[{name:"show",rawName:"v-show",value:"1"==t.isRent,expression:"isRent == '1'"}],staticStyle:{"padding-left":"0.42667rem"},attrs:{required:"",label:"租金","input-align":"right"}},[i("div",{staticClass:"right-item",attrs:{slot:"input"},slot:"input"},[i("div",{staticClass:"part"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.rentMoney,expression:"rentMoney"}],staticStyle:{width:"2.33333rem"},attrs:{type:"tel",placeholder:"请输入租金"},domProps:{value:t.rentMoney},on:{keyup:function(e){t.rentMoney=(t.rentMoney.match(/\d+(\.\d{0,2})?/)||[""])[0]},input:function(e){e.target.composing||(t.rentMoney=e.target.value)}}}),i("div",[t._v("元/月")])]),i("div",{staticClass:"part"},[i("van-dropdown-menu",{attrs:{"active-color":"#17B7BD"}},[i("van-dropdown-item",{attrs:{options:t.payTypeList},model:{value:t.payType,callback:function(e){t.payType=e},expression:"payType"}})],1)],1)])]),i("div",{directives:[{name:"show",rawName:"v-show",value:"1"==t.isRent,expression:"isRent == '1'"}],staticClass:"house-equit"},[i("div",{staticClass:"left"},[t._v("房屋设施")]),i("div",{staticClass:"right"},[i("van-checkbox-group",{model:{value:t.selectedHouseEquit,callback:function(e){t.selectedHouseEquit=e},expression:"selectedHouseEquit"}},t._l(t.houseEquipList,(function(e,s){return i("van-checkbox",{key:s,attrs:{shape:"square","checked-color":"#17B7BD",name:e}},[t._v("\n                  "+t._s(e.NAME)+"\n                  ")])})),1)],1)]),i("div",{staticClass:"block"}),i("van-field",{staticStyle:{"padding-left":"0.42667rem"},attrs:{required:"",label:"标题",placeholder:"请输入您的标题","input-align":"right"},model:{value:t.houseTitle,callback:function(e){t.houseTitle=e},expression:"houseTitle"}}),i("van-field",{staticStyle:{"padding-left":"0.42667rem"},attrs:{required:"",label:"联系人",placeholder:"请输入联系人姓名","input-align":"right"},model:{value:t.contact,callback:function(e){t.contact=e},expression:"contact"}}),i("van-field",{staticStyle:{"padding-left":"0.42667rem"},attrs:{required:"",label:"联系方式",placeholder:"请输入联系方式","input-align":"right"},model:{value:t.contactPhone,callback:function(e){t.contactPhone=e},expression:"contactPhone"}})],1),i("div",{staticClass:"bottom"},[i("div",{staticClass:"detail"},[i("div",{staticClass:"title"},[t._v("详细信息")]),i("textarea",{directives:[{name:"model",rawName:"v-model",value:t.detail,expression:"detail"}],attrs:{name:"",id:"",placeholder:"请输入详细信息",maxlength:"100"},domProps:{value:t.detail},on:{input:function(e){e.target.composing||(t.detail=e.target.value)}}})]),i("div",{staticClass:"photo_box"},[t._m(0),i("div",{staticClass:"image-box"},[i("add-image",{ref:"addImageComponent",attrs:{"is-upload":t.isUpload,"select-pictures":t.defaultImgList},on:{imageAddAction:t.showAddSheetControll,imageMapChange:t.upDateImageData,changeUploadStatus:t.changeStatus}})],1)])]),i("div",{staticClass:"agreement"},[i("van-checkbox",{attrs:{shape:"square","checked-color":"#17B7BD"},model:{value:t.isAgree,callback:function(e){t.isAgree=e},expression:"isAgree"}},[i("span",{on:{click:t.goAgreement}},[t._v("请阅读《发布房源》协议")])])],1),i("div",{staticClass:"confirm"},[i("div",{on:{click:function(e){return t.clickRight(0)}}},[t._v("确认发布")])])],1)]),i("van-popup",{attrs:{position:"bottom"},model:{value:t.isShowAreaSheet,callback:function(e){t.isShowAreaSheet=e},expression:"isShowAreaSheet"}},[i("div",{staticClass:"area-box"},[i("div",{staticClass:"title"},[t._v("\n        所在地区\n        "),i("div",{staticClass:"close",on:{click:function(e){t.isShowAreaSheet=!1}}},[i("img",{attrs:{src:t.closeIcon,alt:""}})])]),i("div",{staticClass:"area-title"},[i("div",{staticClass:"province",class:0==t.activetab?"active":"",on:{click:t.clickProvince}},[t._v("省")]),i("div",{staticClass:"city",class:1==t.activetab?"active":"",on:{click:t.clickCity}},[t._v("市")]),i("div",{staticClass:"area",class:2==t.activetab?"active":"",on:{click:t.clickArea}},[t._v("区")])]),i("div",{staticClass:"list"},t._l(t.showSelectList,(function(e,s){return i("div",{key:s,staticClass:"item",on:{click:function(i){return t.selectArea(e)}}},[t._v("\n          "+t._s(e.NAME)+"\n        ")])})),0)])]),i("van-action-sheet",{attrs:{actions:t.actions,"cancel-text":"取消",round:!1,"close-on-click-action":""},on:{select:t.addSelect},model:{value:t.showAddSheet,callback:function(e){t.showAddSheet=e},expression:"showAddSheet"}})],1)},o=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"title"},[i("span",{staticClass:"add"},[t._v("房源图")]),i("span",[t._v("(*至多上传4张图片)")])])}],a=(i("ac6a"),i("608a")),n=i("4e4d"),l=i("0de9"),r=i.n(l),u=i("42bf"),c=i.n(u),h=i("0aa6"),d={name:"editHouse",data:function(){return{leftIcon:r.a,closeIcon:c.a,showAddSheet:!1,isShowAreaSheet:!1,activetab:0,actions:[{name:"拍照"},{name:"从手机相册选择"}],houseTypeList:[],decorationList:[],directionList:[],payTypeList:[],houseEquipList:[],sexList:[{value:0,text:"女",code:"0"},{value:1,text:"男",code:"1"}],siteList:[{value:0,text:"次卧",code:"0"},{value:1,text:"主卧",code:"1"}],showSelectList:[],isRent:"0",selectedProvince:null,selectedCity:null,selectedArea:null,houseArea:"",building:"",unit:"",room:"",acreage:"",roomNum:"",officeNum:"",toiletNum:"",floor:"",floorNum:"",houseType:0,decoration:0,direction:0,houseMoney:"",rentType:"0",rentAcreage:"",site:0,sex:0,rentMoney:"",payType:0,selectedHouseEquit:[],houseTitle:"",contact:"",contactPhone:"",detail:"",imgList:[],defaultImgList:[],isAgree:!0,houseDetail:null,isUpload:!1}},activated:function(){this.$route.params.whichId&&this.getHouseDetail()},components:{"add-image":n["a"],NavigationBar:h["a"]},methods:{goBack:function(){this.reset(),this.$router.go(-1)},reset:function(){this.showAddSheet=!1,this.isShowAreaSheet=!1,this.activetab=0,this.houseTypeList=[],this.decorationList=[],this.directionList=[],this.payTypeList=[],this.houseEquipList=[],this.showSelectList=[],this.isRent="0",this.selectedProvince=null,this.selectedCity=null,this.selectedArea=null,this.houseArea="",this.building="",this.unit="",this.room="",this.acreage="",this.roomNum="",this.officeNum="",this.toiletNum="",this.floor="",this.floorNum="",this.houseType=0,this.decoration=0,this.direction=0,this.houseMoney="",this.rentType="0",this.rentAcreage="",this.site=0,this.sex=0,this.rentMoney="",this.payType=0,this.selectedHouseEquit=[],this.houseTitle="",this.contact="",this.contactPhone="",this.detail="",this.imgList=[],this.defaultImgList=[],this.isAgree=!0,this.houseDetail=null,this.isUpload=!1},getHouseTypeList:function(){var t=this,e={table_name:"T_CODE_HOUSE_TYPE",code:"HOUSE_TYPE_CODE",name:"HOUSE_TYPE_NAME"};Object(a["n"])({data:JSON.stringify(e)}).then((function(e){for(var i=[],s=0;s<e.length;s++)e[s].CODE==t.houseDetail.HOUSE_TYPE_CODE&&(t.houseType=s),i.push({text:e[s].NAME,value:s,code:e[s].CODE});t.houseTypeList=i}),(function(e){t.$toast(e)}))},getDecorationList:function(){var t=this,e={table_name:"T_CODE_DECORATE_TYPE",code:"DECORATE_TYPE_CODE",name:"DECORATE_TYPE_NAME"};Object(a["h"])({data:JSON.stringify(e)}).then((function(e){for(var i=[],s=0;s<e.length;s++)e[s].CODE==t.houseDetail.DECORA_TYPE_CODE&&(t.decoration=s),i.push({text:e[s].NAME,value:s,code:e[s].CODE});t.decorationList=i}),(function(e){t.$toast(e)}))},getDirectionList:function(){var t=this,e={table_name:"T_CODE_ORIENTATION_TYPE",code:"ORIENTATION_TYPE_CODE",name:"ORIENTATION_TYPE_NAME"};Object(a["j"])({data:JSON.stringify(e)}).then((function(e){for(var i=[],s=0;s<e.length;s++)e[s].CODE==t.houseDetail.FRONT_TYPE_CODE&&(t.direction=s),i.push({text:e[s].NAME,value:s,code:e[s].CODE});t.directionList=i}),(function(e){t.$toast(e)}))},getPayTypeList:function(){var t=this,e={table_name:"T_CODE_RENTAL",code:" RENTAL_CODE",name:"RENTAL_NAME"};Object(a["p"])({data:JSON.stringify(e)}).then((function(e){for(var i=[],s=0;s<e.length;s++)e[s].CODE==t.houseDetail.RENTAL_CODE&&(t.payType=s),i.push({text:e[s].NAME,value:s,code:e[s].CODE});t.payTypeList=i}),(function(e){t.$toast(e)}))},getHouseEquipList:function(){var t=this,e={table_name:"T_CODE_RENT_EQUIP",code:" EQUIP_CODE",name:"EQUIP_NAME"};Object(a["l"])({data:JSON.stringify(e)}).then((function(e){t.houseEquipList=e;var i=[];t.houseDetail.EQUIP_LIST.forEach((function(e){t.houseEquipList.forEach((function(t){e.EQUIP_CODE==t.CODE&&i.push(t)}))})),t.selectedHouseEquit=i}),(function(e){t.$toast(e)}))},getHouseDetail:function(){var t=this,e={HOUSE_CODE:this.$route.params.whichId,CAR_LOCATION_FLAG:this.$route.params.whichType};Object(a["i"])({data:JSON.stringify(e)}).then((function(e){t.houseDetail=e,t.setDetail(e),t.getHouseTypeList(),t.getDecorationList(),t.getDirectionList(),t.getPayTypeList(),t.getHouseEquipList()}),(function(e){t.$toast(e)}))},setDetail:function(t){this.isRent=t.HOUSE_FLAG+"",this.selectedProvince={NAME:t.PROVINCE_NAME,CODE:t.PROVINCE_CODE},this.selectedCity={NAME:t.CITY_NAME,CODE:t.CITY_CODE},this.selectedArea={NAME:t.COUNTY_NAME,CODE:t.COUNTY_CODE},this.houseArea=t.AREA,this.acreage=t.ACREAGE,"0"==this.isRent?this.houseMoney=t.PRICE:(this.rentMoney=t.PRICE,this.getPayTypeList()),this.houseTitle=t.TITLE,this.contact=t.LINKMAN_NAME,this.contactPhone=t.LINKMAN_PHONE,this.detail=t.CONTENT,this.defaultImgList=this.getDefaultImg(t.PLC_LIST),this.building=t.BUILD_NO||"",this.unit=t.UNIT_NO||"",this.room=t.ROOM_NO||"",this.roomNum=t.ROOM_CNT||"",this.officeNum=t.HALL_CNT||"",this.toiletNum=t.TOILET_CNT||"",this.floor=t.NOW_FLOOR_CNT||"",this.floorNum=t.TOTAL_FLOOR_CNT||"",this.rentAcreage=t.RENT_NUM||"",this.rentType=t.RENT_FLAG?t.RENT_FLAG+"":"0",this.site=t.MASTER_FLAG?1*t.MASTER_FLAG:0,this.sex=t.SEX?1*t.SEX:0},getDefaultImg:function(t){var e=[];return t.forEach((function(t){e.push(t.PIC_URL)})),e},showAreaSheet:function(){this.activetab=0,this.isShowAreaSheet=!0,this.getProvinceList()},clickProvince:function(){this.activetab=0,this.getProvinceList()},clickCity:function(){this.selectedProvince?(this.activetab=1,this.getCityList()):this.$toast("请先选择省份")},clickArea:function(){this.selectedCity?(this.activetab=2,this.getAreaList()):this.$toast("请先选择城市")},getProvinceList:function(){var t=this,e={table_name:"T_CODE_PROVINCE",code:"PROVINCE_CODE",name:"PROVINCE_NAME"};Object(a["q"])({data:JSON.stringify(e)}).then((function(e){t.showSelectList=e}),(function(e){t.$toast(e)}))},getCityList:function(){var t=this,e={table_name:"T_CODE_CITY",code:"CITY_CODE",name:"CITY_NAME",where_key:"PROVINCE_CODE",where_value:this.selectedProvince.CODE};Object(a["e"])({data:JSON.stringify(e)}).then((function(e){t.showSelectList=e}),(function(e){t.$toast(e)}))},getAreaList:function(){var t=this,e={table_name:"T_CODE_COUNTY",code:"COUNTY_CODE",name:"COUNTY_NAME",where_key:"CITY_CODE",where_value:this.selectedCity.CODE};Object(a["d"])({data:JSON.stringify(e)}).then((function(e){t.showSelectList=e}),(function(e){t.$toast(e)}))},selectArea:function(t){0==this.activetab?(this.activetab=1,this.selectedProvince=t,this.getCityList()):1==this.activetab?(this.activetab=2,this.selectedCity=t,this.getAreaList()):2==this.activetab&&(this.selectedArea=t,this.isShowAreaSheet=!1)},send:function(){var t=this;this.houseDetail.CAR_LOCATION_FLAG="1",this.houseDetail.PLC_LIST=this.getImgList(),this.houseDetail.USER_CODE=this.$userInfo.OWNER_CODE||"",this.houseDetail.HOUSE_FLAG=this.isRent,this.houseDetail.PROVINCE_CODE=this.selectedProvince.CODE||"",this.houseDetail.PROVINCE_NAME=this.selectedProvince.NAME||"",this.houseDetail.CITY_CODE=this.selectedCity.CODE||"",this.houseDetail.CITY_NAME=this.selectedCity.NAME||"",this.houseDetail.COUNTY_CODE=this.selectedArea.CODE,this.houseDetail.COUNTY_NAME=this.selectedArea.NAME,this.houseDetail.AREA=this.houseArea,this.houseDetail.BUILD_NO=""===this.building?null:this.building,this.houseDetail.UNIT_NO=""===this.unit?null:this.unit,this.houseDetail.ROOM_NO=""===this.room?null:this.room,this.houseDetail.ACREAGE=this.acreage,this.houseDetail.ROOM_CNT=""===this.roomNum?null:this.roomNum,this.houseDetail.HALL_CNT=""===this.officeNum?null:this.officeNum,this.houseDetail.TOILET_CNT=""===this.toiletNum?null:this.toiletNum,this.houseDetail.TOTAL_FLOOR_CNT=""===this.floorNum?null:this.floorNum,this.houseDetail.NOW_FLOOR_CNT=""===this.floor?null:this.floor,this.houseDetail.HOUSE_TYPE_CODE=this.houseTypeList[this.houseType].code,this.houseDetail.DECORA_TYPE_CODE=this.decorationList[this.decoration].code,this.houseDetail.FRONT_TYPE_CODE=this.decorationList[this.direction].code,this.houseDetail.LINKMAN_NAME=this.contact,this.houseDetail.LINKMAN_PHONE=this.contactPhone,this.houseDetail.CONTENT=this.detail,this.houseDetail.PRICE="0"==this.isRent?this.houseMoney:this.rentMoney,this.houseDetail.PRICE_HOUSE_SALE="0"==this.isRent?this.houseMoney:"",this.houseDetail.PRICE_HOUSE_RENT="1"==this.isRent?this.rentMoney:"",this.houseDetail.PRICE_CAR_SALE="",this.houseDetail.PRICE_CAR_RENT="",this.houseDetail.TITLE=this.houseTitle,this.houseDetail.RENT_FLAG="1"==this.isRent?1*this.rentType:null,this.houseDetail.MASTER_FLAG="1"==this.isRent&&"1"==this.rentType?this.siteList[this.site].code:null,this.houseDetail.RENT_NUM="1"==this.isRent&&"1"==this.rentType?this.rentAcreage:null,this.houseDetail.SEX="1"==this.isRent&&"1"==this.rentType?this.sexList[this.sex].code:null,this.houseDetail.RENTAL_CODE="1"==this.isRent?this.payTypeList[this.payType].code:"",this.houseDetail.EQUIPLIST="1"==this.isRent?this.getEquipRequestData():"",this.houseDetail.OWNER_CODE=this.$userInfo.OWNER_CODE,this.houseDetail.AREA_CODE=this.$userInfo.AREA_CODE,Object(a["c"])({data:JSON.stringify(this.houseDetail)}).then((function(e){t.$toast("发送成功"),t.$store.dispatch("setReloadMine",!0),t.$store.dispatch("setMineActive",0),t.goBack()}),(function(e){t.$toast(e)}))},clickRight:function(t){this.checkRequestData(t)&&(this.isUpload=!0)},changeStatus:function(){this.isUpload=!1},getEquipRequestData:function(){var t=[];return this.selectedHouseEquit.forEach((function(e){t.push({EQUIP_CODE:e.CODE,EQUIP_NAME:e.NAME})})),t},getImgList:function(){var t=[];return this.imgList.forEach((function(e){t.push({PIC_URL:e})})),t},checkRequestData:function(t){return this.isAgree?""==this.$userInfo.OWNER_CODE||""==this.$userInfo.AREA_CODE?(this.$toast("请登录"),!1):this.selectedArea?""==this.houseArea?(this.$toast("请输入小区"),!1):this.acreage?("1"!=this.isRent||this.rentMoney)&&("0"!=this.isRent||this.houseMoney)?""==this.houseTitle?(this.$toast("请输入标题"),!1):""==this.contact?(this.$toast("请输入联系人"),!1):""==this.contactPhone?(this.$toast("请输入联系方式"),!1):!!/^1[0-9]{10}$/.test(this.contactPhone)||(this.$toast("请输入正确的手机号码"),!1):(this.$toast("请输入售价/租金"),!1):(this.$toast("请输入面积"),!1):(this.$toast("请选择地区"),!1):(this.$toast("请阅读并同意《发布房源》协议"),!1)},goAgreement:function(){this.$router.push({name:"agreement"})},upDateImageData:function(t){console.log(t),this.imgList=t,this.send()},showAddSheetControll:function(){this.showAddSheet=!this.showAddSheet},addSelect:function(t,e){this.getPictureData(e)},getPictureData:function(t){t?this.$refs.addImageComponent.getPicture():this.$refs.addImageComponent.useCamera()}}},p=d,m=(i("0131"),i("2877")),v=Object(m["a"])(p,s,o,!1,null,"32041ce4",null);e["default"]=v.exports},f93a:function(t,e,i){},fc26:function(t,e,i){"use strict";var s=i("48d8"),o=i.n(s);o.a}}]);
//# sourceMappingURL=chunk-4bf01820.2020111117.js.map