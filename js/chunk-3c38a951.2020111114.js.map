{"version":3,"sources":["webpack:///./src/theme/large/Mine/SelectArea.vue?4343","webpack:///src/theme/large/Mine/SelectArea.vue","webpack:///./src/theme/large/Mine/SelectArea.vue?e831","webpack:///./src/theme/large/Mine/SelectArea.vue","webpack:///./src/theme/large/Mine/SelectArea.vue?275c","webpack:///./src/page/Mine/selectArea.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticStyle","attrs","on","onClickLeft","showSerchView","staticClass","cityName","selectCity","style","$event","preventDefault","formSubmit","directives","name","rawName","value","expression","ref","domProps","type","indexOf","keyCode","onSearch","target","composing","searchText","class","searchBtn","searchNull","searchBtnAction","_v","_s","_l","item","index","key","AREA_NAME","cellClicked","_e","showSearch","indexList","letter","area","staticRenderFns","component","selectArea","components","NavigationBar","data","cityCode","list","searchResults","padingtopNum","$stbHeight","showLeftArrow","watch","methods","onCancel","$router","back","push","setTimeout","$refs","searchField","focus","path","query","areaCode","AREA_CODE","areaName","allAreaList","match","length","$toast","initAreaList","param","CITY_CODE","getAreaList","then","areaList","areaTitleList","catch","error","getCurrentLocation","that","loadMap","AMap","plugin","geolocation","Geolocation","enableHighAccuracy","timeout","onComplete","addressComponent","city","onError","console","log","getCurrentPosition","event","addListener","err","mounted","$fromPage","document","querySelector","append","$userInfo","$route","Object","keys","CITY_NAME","computed","allAreas","section"],"mappings":"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","file":"js/chunk-3c38a951.2020111114.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\"background\":\"#F9F9F9\",\"height\":\"100%\",\"display\":\"flex\",\"flex-direction\":\"column\"}},[_c('navigation-bar',{attrs:{\"pageName\":\"选择小区\"},on:{\"onLeftClick\":_vm.onClickLeft}}),_c('van-search',{attrs:{\"placeholder\":\"请输入小区名称\",\"disabled\":\"\",\"shape\":\"round\"},on:{\"click\":_vm.showSerchView}}),_c('van-cell',{staticClass:\"themeLPos\",attrs:{\"title\":'当前定位：'+_vm.cityName,\"value\":\"切换城市\",\"icon\":\"location-o\",\"is-link\":\"\"},on:{\"click\":_vm.selectCity}}),(_vm.showSearch)?_c('div',{staticClass:\"searchView\",style:(_vm.padingtopNum)},[_c('div',{staticClass:\"searchInput\"},[_c('div',{staticClass:\"left\"},[_c('form',{staticClass:\"inputBg\",attrs:{\"action\":\"javascript:return true\"},on:{\"submit\":function($event){$event.preventDefault();return _vm.formSubmit($event)}}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.searchText),expression:\"searchText\"}],ref:\"searchField\",staticClass:\"search-input\",attrs:{\"type\":\"search\",\"placeholder\":\"请输入小区名称\"},domProps:{\"value\":(_vm.searchText)},on:{\"keydown\":function($event){if(!$event.type.indexOf('key')&&$event.keyCode!==13){ return null; }return _vm.onSearch($event)},\"input\":function($event){if($event.target.composing){ return; }_vm.searchText=$event.target.value}}})])]),_c('div',{staticClass:\"searchActionBtn\",class:{searchBtn :!_vm.searchNull },on:{\"click\":_vm.searchBtnAction}},[_vm._v(_vm._s(_vm.searchNull ? '取消' : '搜索'))])]),_vm._l((_vm.searchResults),function(item,index){return _c('van-cell',{key:index,attrs:{\"title\":item.AREA_NAME},on:{\"click\":function($event){return _vm.cellClicked(item)}}})})],2):_vm._e(),_c('div',{staticClass:\"search-box\",staticStyle:{\"flex\":\"1\",\"overflow\":\"hidden\"}},[_c('van-index-bar',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.showSearch),expression:\"!showSearch\"}],staticStyle:{\"height\":\"100%\",\"overflow\":\"auto\"},attrs:{\"sticky\":false,\"index-list\":_vm.indexList,\"highlight-color\":\"#17B7BD\"}},_vm._l((_vm.list),function(item,index){return _c('div',{key:index},[_c('van-index-anchor',{attrs:{\"index\":item.letter}}),_vm._l((item.item),function(area){return _c('van-cell',{key:area.AREA_NAME,staticClass:\"themeLArea\",attrs:{\"title\":area.AREA_NAME},on:{\"click\":function($event){return _vm.cellClicked(area)}}})})],2)}),0)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div style=\"background:#F9F9F9;height:100%;display:flex;flex-direction:column;\">\r\n    <navigation-bar  @onLeftClick=\"onClickLeft\" pageName=\"选择小区\">\r\n    </navigation-bar>\r\n    <van-search\r\n      placeholder=\"请输入小区名称\"\r\n      disabled\r\n      shape=\"round\"\r\n      @click=\"showSerchView\"\r\n    />\r\n    <van-cell class=\"themeLPos\" :title=\"'当前定位：'+cityName\" value=\"切换城市\" icon=\"location-o\" is-link @click=\"selectCity\" />\r\n\r\n    <div class=\"searchView\" v-if=\"showSearch\" :style=\"padingtopNum\">\r\n      <div class=\"searchInput\">\r\n        <div class=\"left\">\r\n          <form class=\"inputBg\" @submit.prevent=\"formSubmit\" action=\"javascript:return true\">\r\n            <input\r\n              ref=\"searchField\"\r\n              type=\"search\"\r\n              class=\"search-input\"\r\n              placeholder=\"请输入小区名称\"\r\n              @keydown.13=\"onSearch\"\r\n              v-model=\"searchText\"\r\n            />\r\n          </form>\r\n        </div>\r\n        <div\r\n          class=\"searchActionBtn\"\r\n          :class=\"{searchBtn :!searchNull }\"\r\n          @click=\"searchBtnAction\"\r\n        >{{searchNull ? '取消' : '搜索'}}</div>\r\n      </div>\r\n      <van-cell\r\n        :title=\"item.AREA_NAME\"\r\n        v-for=\"(item,index) in searchResults\"\r\n        :key=\"index\"\r\n        @click=\"cellClicked(item)\"\r\n      />\r\n    </div>\r\n    <div style=\"flex: 1;overflow:hidden;\" class=\"search-box\">\r\n      <van-index-bar\r\n        v-show=\"!showSearch\"\r\n        :sticky=\"false\"\r\n        :index-list=\"indexList\"\r\n        highlight-color=\"#17B7BD\"\r\n        style=\"height:100%;overflow:auto;\"\r\n      >\r\n        <div v-for=\"(item,index) in list\" :key=\"index\">\r\n          <van-index-anchor :index=\"item.letter\"/>\r\n          <van-cell\r\n            class=\"themeLArea\"\r\n            :title=\"area.AREA_NAME\"\r\n            v-for=\"area in item.item\"\r\n            :key=\"area.AREA_NAME\"\r\n            @click=\"cellClicked(area)\"\r\n          />\r\n        </div>\r\n      </van-index-bar>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import {selectArea} from '@/page/Mine/selectArea'\r\n  export default {\r\n    name: 'selectAreaThemeL',\r\n    mixins:[selectArea]\r\n  }\r\n</script>\r\n\r\n<style scoped >\r\n/deep/.van-nav-bar .van-icon {\r\n  color: #333333;\r\n}\r\n/deep/.van-cell__value,\r\n.van-cell__right-icon {\r\n  color: #17B7BD;\r\n  font-size: 17px !important;\r\n}\r\n\r\n.currentCity {\r\n  /* font-family: PingFangSC-Regular; */\r\n  font-size: 16px;\r\n  color: #464646;\r\n  letter-spacing: 0.06px;\r\n  text-align: center;\r\n}\r\n\r\n/deep/.van-index-bar__index {\r\n  color: #464646;\r\n  height: 26px;\r\n  line-height: 26px;\r\n  width: 20px;\r\n  font-size: 15px !important;\r\n}\r\n\r\n.searchView {\r\n  position: absolute;\r\n  top: 0px;\r\n  left: 0px;\r\n  width: 100%;\r\n  height: 100%;\r\n  background-color: #fff;\r\n  overflow: auto;\r\n  z-index: 3;\r\n}\r\n/deep/.van-index-bar > div:last-child {\r\n  min-height: 102%;\r\n}\r\n/* /deep/.van-index-anchor--sticky {\r\n  z-index: 0 !important;\r\n} */\r\n/deep/.van-index-bar{\r\n  position: absolute;\r\n  width: 100%;\r\n}\r\n.searchInput {\r\n  height: 34px;\r\n  padding: 10px 0 10px 12px;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: space-between;\r\n  background: #fff;\r\n  font-size: 15px;\r\n}\r\n.left {\r\n  background: #f7f8fa;\r\n  background-image: url(../../../assets/images/mall/search_black.png);\r\n  background-repeat: no-repeat;\r\n  -webkit-background-size: 14px 14px;\r\n  background-size: 10px 10px;\r\n  background-position: 12px 12px;\r\n  border-radius: 17px;\r\n  flex: 1;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n}\r\n\r\n.inputBg {\r\n  display: flex;\r\n  padding-right: 10px;\r\n}\r\n\r\n.search-input {\r\n  margin-left: 30px;\r\n  background: transparent;\r\n  border: 0;\r\n  height: 20px;\r\n  color: #333333;\r\n  padding: 0;\r\n  line-height: 20px;\r\n  flex: 1;\r\n}\r\n.search-input::-webkit-search-cancel-button {\r\n  -webkit-appearance: none;\r\n}\r\n.search-input::-webkit-search-cancel-button {\r\n  -webkit-appearance: none;\r\n}\r\n.searchActionBtn {\r\n  padding: 0 10px;\r\n  font-size: 15px;\r\n  color: #232323;\r\n  line-height: 34px;\r\n  height: 34px;\r\n}\r\n.searchBtn {\r\n  color: #17B7BD;\r\n}\r\n.search-box{\r\n  position: relative;\r\n}\r\n/deep/.van-index-anchor{\r\n  font-size: 17px !important;\r\n}\r\n/deep/.van-field__control[type=search]{\r\n  font-size: 15px !important;\r\n}\r\n.themeLPos .van-cell__title {\r\n  font-size: 18px !important;\r\n  min-width: 60% !important;\r\n}\r\n.themeLArea .van-cell__title {\r\n  font-size: 20px !important;\r\n  line-height: 50px !important;\r\n}\r\n.van-cell{\r\n  font-size: 15px !important;\r\n}\r\n</style>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SelectArea.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SelectArea.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SelectArea.vue?vue&type=template&id=65ae22e0&scoped=true&\"\nimport script from \"./SelectArea.vue?vue&type=script&lang=js&\"\nexport * from \"./SelectArea.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SelectArea.vue?vue&type=style&index=0&id=65ae22e0&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"65ae22e0\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SelectArea.vue?vue&type=style&index=0&id=65ae22e0&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SelectArea.vue?vue&type=style&index=0&id=65ae22e0&scoped=true&lang=css&\"","import axios from \"axios\";\r\nimport { Toast } from \"vant\";\r\nimport { getAreaList } from \"../../services/MineService\";\r\nimport NavigationBar from '@/common/currency/NavigationBar.vue';\r\nimport loadMap from '../../components/AMapLoader/loadMap';\r\nexport const selectArea = {\r\n  components: {\r\n    NavigationBar\r\n  },\r\n  data() {\r\n    return {\r\n      searchText: \"\",\r\n      cityCode: \"2018012400001\",\r\n      cityName: \"正在定位...\",\r\n      list: [],\r\n      indexList: [],\r\n      showSearch: false,\r\n      searchResults: [],\r\n      searchNull: true,\r\n      padingtopNum: { \"margin-top\": this.$stbHeight + 44 + \"px\" },\r\n      showLeftArrow: true\r\n    };\r\n  },\r\n  watch: {\r\n    searchText() {\r\n      if (this.searchText !== \"\") {\r\n        this.searchNull = false;\r\n      } else {\r\n        this.searchNull = true;\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    searchBtnAction() {\r\n      if (!this.searchNull) {\r\n        this.onSearch();\r\n      } else {\r\n        this.onCancel();\r\n      }\r\n    },\r\n\r\n    onClickLeft() {\r\n      // console.log('当前fromPage: ' + this.$fromPage);\r\n      this.$router.back(-1);\r\n    },\r\n    selectCity() {\r\n      this.$router.push(\"/selectCity\");\r\n    },\r\n    showSerchView() {\r\n      this.showSearch = true;\r\n      setTimeout(() => {\r\n        this.$refs.searchField.focus();\r\n      }, 200);\r\n    },\r\n    cellClicked(area) {\r\n      this.$router.push({\r\n        path: \"/selectHouse\",\r\n        query: {\r\n          areaCode: area.AREA_CODE,\r\n          areaName: area.AREA_NAME,\r\n          cityCode: this.cityCode,\r\n          cityName: this.cityName == \"正在定位...\" ? \"\" : this.cityName\r\n        }\r\n      });\r\n    },\r\n    onSearch() {\r\n      // for()\r\n      this.searchResults = []; //修复搜索小区结果不清空问题\r\n      for (let item of this.allAreaList) {\r\n        if (item.AREA_NAME.match(this.searchText)) {\r\n          //修改ZHSQYYPT-4204问题 qiao 2019/12/9\r\n          this.searchResults.push(item);\r\n        }\r\n      }\r\n      if (this.searchResults.length == 0) {\r\n        this.$toast(\"没有搜索到此小区\");\r\n      }\r\n    },\r\n    onCancel() {\r\n      this.showSearch = false;\r\n    },\r\n\r\n    // 获取XX城市小区列表\r\n    initAreaList() {\r\n      let param = { CITY_CODE: this.cityCode };\r\n      getAreaList(param)\r\n        .then(data => {\r\n          this.list = data.areaList;\r\n          this.indexList = data.areaTitleList;\r\n        })\r\n        .catch(error => {\r\n          // Toast(error);\r\n        });\r\n    },\r\n    getCurrentLocation() {\r\n      let that = this;\r\n      loadMap()\r\n          .then(AMap => {\r\n            AMap.plugin('AMap.Geolocation', function () {\r\n              var geolocation = new AMap.Geolocation({\r\n                enableHighAccuracy: true,\r\n                // 设置定位超时时间，默认：无穷大\r\n                timeout: 10000\r\n              });\r\n              geolocation.getCurrentPosition();\r\n              AMap.event.addListener(geolocation, 'complete', onComplete);\r\n              AMap.event.addListener(geolocation, 'error', onError);\r\n              function onComplete (data) {\r\n                // data是具体的定位信息\r\n                that.cityName = data.addressComponent.city;\r\n              }\r\n              function onError (data) {\r\n                // 定位出错\r\n                console.log('定位失败错误：', data);\r\n              }\r\n            })\r\n          })\r\n          .catch((err) => {\r\n            console.log('地图加载失败！'+err);\r\n          });\r\n      // console.log(navigator);\r\n      // navigator.geolocation.getCurrentPosition(\r\n      //   position => {\r\n      //     //定位成功回调\r\n      //     console.log(\"success\");\r\n      //     console.log(position);\r\n      //     var coordtransform = require(\"coordtransform\");\r\n      //     var coord = coordtransform.wgs84togcj02(\r\n      //       position.coords.longitude,\r\n      //       position.coords.latitude\r\n      //     );\r\n      //     let longitude = coord[0]; //118.78307918718679;//gcj[0];//\r\n      //     let latitude = coord[1]; //32.04093850800938;//gcj[1];//\r\n      //     var url =\r\n      //       \"https://apis.map.qq.com/ws/geocoder/v1/?location=\" +\r\n      //       latitude +\r\n      //       \",\" +\r\n      //       longitude +\r\n      //       \"&key=HC3BZ-W7SHU-GUTVY-2MOH3-HZMC5-F7F3D&get_poi=0&output=json\";\r\n      //     console.log(url);\r\n      //     axios\r\n      //       .get(url)\r\n      //       .then(data => {\r\n      //         console.log(data);\r\n      //         console.log(data.data);\r\n      //         console.log(data.data.result);\r\n      //         console.log(data.data.result.address_component);\r\n      //         console.log(data.data.result.address_component.city);\r\n      //         this.cityName = data.data.result.address_component.city;\r\n      //         console.log(this.cityName);\r\n      //       })\r\n      //       .catch(error => {\r\n      //         //定位失败回调\r\n      //         console.log(error);\r\n      //       });\r\n      //   },\r\n      //   error => {\r\n      //     console.log(error);\r\n      //   }\r\n      // );\r\n    }\r\n  },\r\n  mounted() {\r\n    this.showLeftArrow = this.$fromPage != \"/\";\r\n    setTimeout(function() {\r\n      document\r\n        .querySelector(\".search-box\")\r\n        .append(document.querySelector(\".van-index-bar__sidebar\"));\r\n    }, 100);\r\n    if (this.$userInfo.CITY_CODE) {\r\n      this.cityCode = this.$userInfo.CITY_CODE;\r\n    }\r\n    let query = this.$route.query;\r\n    if (Object.keys(query).length != 0) {\r\n      if (query.city.CITY_CODE && query.city.CITY_NAME) {\r\n        this.cityCode = query.city.CITY_CODE;\r\n        this.cityName = query.city.CITY_NAME;\r\n      } else {\r\n        this.cityCode = query.city;\r\n        this.cityName = query.cityName == \"\" ? \"正在定位...\" : query.cityName;\r\n        if (query.cityName == \"\") {\r\n          this.getCurrentLocation();\r\n        }\r\n      }\r\n    } else {\r\n      this.getCurrentLocation();\r\n      console.log(\"开始计时\");\r\n      setTimeout(() => {\r\n        console.log(\"====qiao====\");\r\n        if (this.cityName == \"正在定位...\") {\r\n          console.log(\"++++qiao++++\");\r\n          this.cityName = \"请检查设置\";\r\n        }\r\n      }, 5000);\r\n    }\r\n    this.initAreaList();\r\n  },\r\n  computed: {\r\n    allAreaList: function() {\r\n      var allAreas = [];\r\n      for (let section of this.list) {\r\n        allAreas.push(...section.item);\r\n        console.log(section);\r\n      }\r\n      return allAreas;\r\n    }\r\n  }\r\n};"],"sourceRoot":""}