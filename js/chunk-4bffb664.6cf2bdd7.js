(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4bffb664"],{"0898":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACwAAAAsCAYAAAAehFoBAAAAAXNSR0IArs4c6QAABNhJREFUWAntmUtIo1cUx28+tYqJEdQpIgoFRSSoXVWiVHAQRs1CmIWL0o3ipgtBbBEUIWOFoiBtcdeNj8UMs3AhM3R8bKxgUbEqvkgtKlQQx7cmzti0qOn//5EbPmsm86WazDcwF/S+zj33l5NzHznXJHSmmpqaj87Ozu5fXV1Vm0wmG4Zl+Hy+DOQWnSqk2CuM30FlB+NdiqI8T0pK+mVwcPAfKRAqN4XqZJ/D4Ui/vLx0ovglJrC+Tf7/9OMDeDDuSUxMTMfw8PBuKB1vBK6qqoqHNdsA+TUUmKkkJydHlJSUiPz8fJGWliZSU1NFQkJCKP03+rxerzg6OhKHh4didXVVTE1NiY2NDSn3GvA/wOrfjYyM/C0btXlQYFr14uJiCIJ2CpeWlora2lqRmZmpHXtn5e3tbTEwMCAmJyelzpnY2NiHwax9A7iysrIQVn2Bv8z09HTR2toq8vLypKKI5mtra6Kzs1Ps7u4KWHobLuIA9Ip20mvAfn/9jbCFhYXC6XQKLAitfMTLWNiio6NDLC8vS+jPtJaOkQT0WSyuUdRthO3q6grbP6Wu2+Tx8fGivLxcrKysiL29PSvW0ee5ubmP4eeX1KtI5VxgKNvpBrQsvg7ZFfWcc5OBLGTys6kcqkv4FxmXqrmnpydqPqsShPhHn25sbKTEayzCHLqGamH/PmvmbhCtBRaCM9BFFjIhmf2MwsQTzOPxHGChWXt7eyO2dQUowixwy6uvr+cC9Fit1nsKj1vC8lCI1D4bJuM1cTKRjYxkVeDQ1ZTgCWbUJNnIqsDUvMiox61RgXkVYCIrFx1vXOrdgLkRE+8t/pShwDdUYF5kjJokG1lpYfU+G+6tK5ofTsNmCZx00QS4zVwfgG9jPT1jY/UISZnu7m6BI1JW7yxvamoSvKXpSWEBT0xMCPwS0aM3LJmGhgbdwO+dD4dl4bKysoi4RFxcnO5vJCzg5uZm3YojJfjeucQH4Ei5gtRLC7tZOT8/l22GyzVsbgIzMKeGjwxH6gdiaMufdgj8khXGuoyaDg4OJNpL/uJYZm1xcVE2Gi5fWlqSTEsEfsba9PS0bDRcLtkQYHmmIHbGkOHR1taW2NzcNBwsmchGRovF8quCyDevX31s6etTMxYNkzRMfWRVDw6c5Z1wjZO5uTmxsLBgGFiykIlsZCSYGvFbX1/3Zmdn09IP5ufnfbjkmMxmNej+zuC5M7S1tfkQsWf8zzk6OjpOGNXCLCQnJ/+ITzJ2enpqam9vFwztv6vEuclAFjKRTbIEYqoul8tXUFDwMy7oD4+Pj9NmZ2dFUVGRiLal9/f3RUtLi7oBAPYPxNMq4Lt/3QBmA8KbXpvN9gI/gx6cnJzcGx8f9yG2ZcrKypLyEc25fSEu7MOTAd3gd/xscgwNDV17VVLjw/+lQDTeCuinaHewj6Giurq6iIWz+JrU39+vvir5WYax536BlyQ+h11LQYEpAR9SZmZmvkIA7hGqH7ONIaPi4uLAs1dKSopITExkl+7EiwxcLvDsRatqrgX7ePL61m63/4T5r4IpfSOwFEb82OJ2u7+BP9UiVPSJbL/LHLr/hO4BLK7v4a+vQul+K7B2cEVFxaeoV0O5+nSLifh8G9YzE8acYYz6dIuyC/qej42NBS4L2vmClf8FE5Prf+xaOaQAAAAASUVORK5CYII="},"0c92":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAPKADAAQAAAABAAAAPAAAAACL3+lcAAAD+klEQVRoBe2bPWgUQRTH5+3epbKxk4ASUqTQVlBBrSwEiYWJidgJOcFCokVs7U2hwcLixFJiElNEBAsrFVSw1cIiKMKZziJW3m2e7z+bXWZzm7v9uLvsxw0ctzs7+/b95s3n3v9IpUjMTOpa7VTLoUvEPK5IjUrWKOlvPpTCtJhS26zoNxE3FKsGE21WbH6tluufSTKT2ha78VNzpnaBHL4qXl1mVkfiW0h+h1TmllTABtu0Wl2pv41rKRYwz86dlmg+UMzn4j6oL+WJ3kvU79GLp5+i2o8EzNdvjTv/mosSzStRDQ+ynER93R6pLtDzJ5vdntsVWDffHbUi/fVwN2MHeV369R+21Ey3Zm51ctKZrt2mHX6TdVgwwEf4Cp87Me0b4eZU7ZGYme90c3av0VL1Zf1OmH+hEXZrKa+wwOT5/SLdFmG3z6IZKzushvKSJwOZwxZd3NunA8DuaNz6koc+G6XiMZDZI5WT5ugdaNLu1JPt0TgKqFcGgQOTd45vP8J6UdFSH82LRTmuVNQZb3HiR1hWUIGaKAosOEw2DYyBSiays0WCDLAIm2aUTA1MO2omUKCAJ3qzA2Dp2NKPeXIQjHRiQlXW6oGPOj4xiEdjtJKdHZOF/eygt3iDIQw+RTMKq4XNe/BScc/Aauk3FcVlDJCB1ZK2PRrILfKJsMqgRaUBBquFF25FDqrJBlZMS6neLpoGs34MVn9pmXVne+XfELhXNZlVO6WLcCVNJLA2jpXGjrUVp7Gjxq687XJoBn/9HpofJZOaU3OJf6fBRuAgUmu6lvixpWvSQ+DEbSUnN6YatJz7MV+DyaBl35gNVI3zbFmpn78Cef08SQUcd7T0X5EaRPxDYL8lH3UNU5EOh304UjXluNAwwjkOXiTXLRlItiOVLEAhsFqQBhWAJRICWOUVj+igSpLAakH0VRJe+YFFNSwo3MoCDFZLy/lKQgxWy9Uuipyv4Ele0W6BtQKhZmtqbkN4b/abGWvvNJv3VP6JPhOseqUFoWYqYzm42WP0NzDN6dq7zIhGe12BIkKtrtXPw6y/loYqtdfPyYo9k80HhspFOvZ6VpzslR9g8hQ8sOkD40RLcEXMheMiJFeYVl0wWQLAUKxBgiu14piF8ngMBs2yR0MdAAYYtImk6G4eIU2fwbBXZ4nrbcDItNfqj+XngCUc5zPRksvQ7r0/LbVfUgoSXFb8MC/KWjRjRHY/WDB2BEaBUv0FAMDoB1qCm+EpC1MPfAzrs2AwU9cIm4V3/8azmBldJtEHWVQsmPOs6W/YcSxgz8BuMxd9Jk8OWsUn0ZSdHb2SKWclSkQ9n73vRMDezVqn2a+/4hH9lcps6FdQPfwr3n/p83yZPznn3wAAAABJRU5ErkJggg=="},"240b":function(t,e,s){"use strict";s.r(e);var o=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"shopcart"},[o("navigation-bar",{attrs:{pageName:"购物车"},on:{onLeftClick:t.goToBack},scopedSlots:t._u([{key:"nav-right",fn:function(){return[o("div",{staticClass:"rightTitle",class:{active:1==t.bottomBar},on:{click:t.toManageCart}},[t._v("编辑")]),o("div",{staticClass:"rightTitle",class:{active:2==t.bottomBar},on:{click:t.allReady}},[t._v("完成")])]},proxy:!0}])}),o("div",{ref:"cartContent",staticClass:"cartContent"},[t._l(t.lists,(function(e,i){return o("div",{staticClass:"goodsCard"},[o("div",{staticClass:"shopCard"},[o("img",{directives:[{name:"show",rawName:"v-show",value:2==t.bottomBar,expression:"bottomBar==2"}],attrs:{src:0==e.selectFlag?t.img.beforClick:t.img.afterclick},on:{click:function(e){return t.checkShop(i)}}}),o("img",{directives:[{name:"show",rawName:"v-show",value:1==t.bottomBar,expression:"bottomBar==1"}],attrs:{src:0==e.checkedShop?t.img.beforClick:t.img.afterclick},on:{click:function(e){return t.checkShop(i)}}}),o("div",{class:"1"==t.themeCurrent?"shopName-l":"shopName",on:{click:function(s){return t.toShop(e.shopCode)}}},[t._v(t._s(e.shopName))]),o("img",{staticClass:"shopSelect",attrs:{src:t.img.arrowShop}})]),t._l(e.skuList,(function(c,n){return o("van-swipe-cell",{staticClass:"goodsDes",attrs:{disabled:1==t.bottomBar}},[0==c.seckillFlag||1==c.seckillFlag||4==c.seckillFlag?o("div",{staticClass:"secksellBox"},[o("div",{staticClass:"secksellMsgBox"},[o("div",{staticClass:"secksellTitle"},[t._v("秒杀")]),0==c.seckillFlag||4==c.seckillFlag?o("div",{staticClass:"secksellMsg"},[t._v("该商品距离秒杀结束仅剩")]):t._e(),1==c.seckillFlag?o("div",{staticClass:"secksellMsg"},[t._v("该商品距离秒杀开始还有")]):t._e(),o("van-count-down",{staticClass:"secksellTime",attrs:{"auto-start":!0,time:c.time},on:{finish:t.countDownFinish}})],1),o("div",{staticClass:"secksellMoreBox",on:{click:function(e){return t.goSeckSellList(c)}}},[o("div",{staticClass:"secksellMore"},[t._v("去逛逛")]),o("img",{staticClass:"secksellMoreImg",attrs:{src:s("40d6"),alt:""}})])]):t._e(),o("div",{staticClass:"goodsDetailBox"},[o("div",{staticClass:"selectBox"},[o("img",{directives:[{name:"show",rawName:"v-show",value:2==t.bottomBar,expression:"bottomBar==2"}],staticClass:"selectBtn",attrs:{src:0==c.selectFlag?t.img.beforClick:t.img.afterclick},on:{click:function(e){return t.checkSku(i,n)}}}),o("img",{directives:[{name:"show",rawName:"v-show",value:1==t.bottomBar,expression:"bottomBar==1"}],staticClass:"selectBtn",attrs:{src:0==c.checkedSku?t.img.beforClick:t.img.afterclick},on:{click:function(e){return t.checkSku(i,n)}}})]),o("div",{staticClass:"imgBox"},[o("img",{staticClass:"goodsPic",attrs:{src:c.skuPicUrl,onerror:t.defaultImg},on:{click:function(e){return t.turnToGoods(c)}}}),c.storeNumber<=c.warningValue&&0!=c.storeNumber&&"02"!=c.spuStatus&&3==c.seckillFlag?o("div",{staticClass:"lowStock"},[t._v("仅剩"+t._s(c.storeNumber)+"件")]):t._e(),0==c.storeNumber&&"02"!=c.spuStatus&&3==c.seckillFlag?o("span",{staticClass:"noStore"},[t._v("补货中")]):t._e(),"02"==c.spuStatus?o("span",{staticClass:"noStore"},[t._v("已下架")]):t._e()]),o("div",{staticClass:"goodsDetails"},[o("div",{class:"1"==t.themeCurrent?"goodsName-l":"goodsName",on:{click:function(e){return t.turnToGoods(c)}}},[t._v(t._s(c.spuName))]),o("div",{class:"1"==t.themeCurrent?"attrValueContent-l":"attrValueContent",on:{click:function(e){return t.turnToGoods(c)}}},[t._v(t._s(c.attrValueContent))]),o("div",{staticClass:"goodsDetailBottom"},[o("div",{class:"1"==t.themeCurrent?"skuPrice-l":"skuPrice",on:{click:function(e){return t.turnToGoods(c)}}},[t._v("￥"+t._s(c.skuPrice))]),o("div",{staticClass:"stepperBox"},[o("img",{staticClass:"subtractBtn",attrs:{src:s("0898"),alt:""}}),o("img",{staticClass:"addBtn",attrs:{src:s("0c92"),alt:""}}),o("van-stepper",{staticClass:"stepperq",class:{stepperThemeL:"1"==t.themeCurrent},attrs:{max:c.skuCountLimit},on:{blur:function(e){return t.getCount(c)},overlimit:function(s){return t.addNumBtn(c,e.shopCode)},plus:function(e){return t.plusBtn(c)},minus:function(e){return t.minusBtn(c)}},model:{value:c.skuCount,callback:function(e){t.$set(c,"skuCount",e)},expression:"message.skuCount"}})],1)])])]),o("template",{slot:"right"},[o("button",{staticClass:"addCollection",attrs:{type:"button"},on:{click:function(e){return t.addCollection(c)}}},[t._v("收藏")]),o("button",{staticClass:"delectCart",attrs:{type:"button"},on:{click:function(s){return t.delectCart(e.shopCode,c.skuNo)}}},[t._v("删除")])]),4==c.seckillFlag?o("div",{staticClass:"outSecksellBox"},[o("div",{staticClass:"outSecksellTitle"},[t._v(" 限"+t._s(c.seckillLimit)+"件 ")]),o("div",{staticClass:"outSecksellMsg"},[t._v("秒杀商品限购"+t._s(c.seckillLimit)+"件，超出将按原价购买该商品")])]):t._e()],2)}))],2)})),t.ifNetWorkError?o("netWorkError"):t._e(),1==t.isLists?o("div",{staticClass:"noList"},[o("img",{attrs:{src:t.img.noList}}),o("span",[t._v("暂无商品")])]):t._e(),t.isShowPlaceHolder?o("div",{ref:"placeHolder",staticStyle:{height:"300px"}}):t._e()],2),o("div",{staticClass:"manage",class:{active:2==t.bottomBar},style:{paddingBottom:this.$footBarHeight+"px"}},[o("div",{staticClass:"checkAllBox"},[o("img",{staticClass:"editCheckAll",attrs:{src:0==t.editCheckedAll?t.img.beforClick:t.img.afterclick},on:{click:t.checkAll}}),o("div",{class:"1"==t.themeCurrent?"editCheckAllTxt-l":"editCheckAllTxt"},[t._v("全选")])]),o("div",{staticClass:"manageButtonBox"},[o("button",{class:"1"==t.themeCurrent?"manageDelect-l":"manageDelect",on:{click:t.allDelectCart}},[t._v("删除")]),o("button",{class:"1"==t.themeCurrent?"manageCollect-l":"manageCollect",on:{click:t.allAddCollect}},[t._v("加入收藏")])])]),o("van-submit-bar",{class:{active:1==t.bottomBar,submitThemeL:"1"==t.themeCurrent},style:{paddingBottom:this.$footBarHeight+"px"},attrs:{price:t.allPrice,"button-text":"结算",disabled:t.isClickGood},on:{submit:t.payForCart}},[o("img",{staticClass:"checkAll",attrs:{src:0==t.checkedAll?t.img.beforClick:t.img.afterclick},on:{click:t.checkAll}}),o("div",{class:"1"==t.themeCurrent?"checkAllTxt-l":"checkAllTxt"},[t._v("全选")])]),o("div",{directives:[{name:"show",rawName:"v-show",value:t.soldOut,expression:"soldOut"}],staticClass:"maskingBox"}),o("div",{directives:[{name:"show",rawName:"v-show",value:t.soldOut,expression:"soldOut"}],staticClass:"selloutBox"},[t._m(0),o("div",{staticClass:"iknowBtn",on:{click:function(e){return t.iKnowBtn()}}},[t._v("我知道了")])])],1)},i=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"selloutTxt"},[s("div",[t._v("补货中/已下架的商品")]),s("div",[t._v("不可结算哦")])])}],c=(s("c5f6"),s("2f62"),s("2241")),n=s("2b0e"),l=s("dcbb"),a=s("0aa6"),u=s("5863"),r=s("5d2d"),d={data:function(){return{lists:[],skuNum:[],card:"",count:[],num:0,soldOut:!1,checkedAll:!1,isCheckNum:0,skuCheckNum:0,editCheckedAll:!1,editIsCheckNum:0,editSkuCheckNum:0,noStore:0,result:[],checked:!1,allPrice:0,bottomBar:2,isLoading:!1,isClickGood:!0,isLists:!1,img:{beforClick:s("e533"),afterclick:s("812c"),arrowShop:s("d3b8"),noList:s("3e35")},setTopHeight:{"padding-top":this.$stbHeight+"px"},isShowPlaceHolder:!1,ifNetWorkError:!1,themeCurrent:this.$curTheme,bindThemeL:"1"==this.themeCurrent,showloading:null,defaultImg:'this.src="'+s("8eda")+'"',isInitNow:!1}},components:{netWorkError:l["a"],NavigationBar:a["a"]},methods:{init:function(){var t=this,e={ownerCode:this.$userInfo.OWNER_CODE,areaCode:this.$userInfo.AREA_CODE,seckillExists:"1"};this.isInitNow||(this.isInitNow=!0,Object(u["o"])(e).then((function(e){t.isInitNow=!1,t.ifNetWorkError=!1,t.lists=e.data,t.isCheckNum=0,t.lists.map((function(e,s){e.checkedShop=!1,e.selectFlag=0,t.skuCheckNum=0,t.noStore=0,e.skuList.map((function(e){if(0==e.seckillFlag||4==e.seckillFlag){var s=e.seckillEndTime-e.serverTime;e.time=1e3*s}else if(1==e.seckillFlag){s=e.seckillStartTime-e.serverTime;e.time=1e3*s}e.time=1e3*s,e.checkedSku=!1,e.selectFlag||(e.selectFlag=0),n["a"].prototype.$isHasLocalImage(e.skuPicUrl,(function(t){e.skuPicUrl=t})),(1==e.selectFlag||0==e.storeNumber&&3==e.seckillFlag)&&(t.skuCheckNum+=1,0==e.storeNumber&&3==e.seckillFlag&&(t.noStore+=1))})),t.skuCheckNum==e.skuList.length&&t.noStore<e.skuList.length?(e.selectFlag=1,t.isCheckNum+=1):(e.selectFlag=0,t.checkedAll=!1)})),t.isCheckNum==t.lists.length?t.checkedAll=!0:t.checkedAll=!1,0==t.lists.length&&(t.checkedAll=!1,t.editCheckedAll=!1),t.getTotal(),t.$forceUpdate(),t.isLoading=!1,t.isLists=0==e.data.length})).catch((function(e){t.isInitNow=!1,t.lists=[],t.ifNetWorkError=!0,t.$toast("网络异常，请稍后重试"),t.isLoading=!1})))},onClickLeft:function(){this.$router.go(-1)},toManageCart:function(){var t=this;t.bottomBar=1,t.cancelCheck()},allReady:function(){var t=this;t.bottomBar=2,t.cancelCheck(),t.getTotal()},delectCart:function(t,e){var s=this,o={ownerCode:s.$userInfo.OWNER_CODE,shopList:[{shopCode:t,skuList:[e]}]};Object(u["e"])(o).then((function(t){s.init()}))},allDelectCart:function(){var t=this;0==t.lists.length&&t.$toast("您的购物车还没有商品呢");var e={ownerCode:t.$userInfo.OWNER_CODE,shopList:[]};t.lists.map((function(t,s){var o=[];t.skuList.map((function(t,e){1==t.checkedSku&&o.push(t.skuNo)})),0!=o.length&&e.shopList.push({shopCode:t.shopCode,skuList:o})})),0==e.shopList.length?t.$toast("您还没有选中商品呢"):Object(u["e"])(e).then((function(e){t.onRefresh()}))},addCollection:function(t){var e=this,s={collectType:"01",contentCode:t.spuCode,userCode:e.$userInfo.OWNER_CODE};Object(u["c"])(s).then((function(t){null!=t.data?e.$toast("添加收藏成功"):"50000"==t.resultCode?e.$toast("该商品已经添加收藏"):e.$toast("添加收藏失败，请稍后重试")}))},allAddCollect:function(){var t=this;0==t.lists.length&&t.$toast("您的购物车还没有商品呢");var e=[];if(t.lists.map((function(s,o){s.skuList.map((function(s,o){1==s.checkedSku&&e.push({contentCode:s.spuCode,collectType:"01",userCode:t.$userInfo.OWNER_CODE})}))})),0!=e.length){var s={collectList:e};Object(u["a"])(s).then((function(e){"0"==e.resultCode&&t.$toast("添加收藏成功")}))}else t.$toast("您还没有选中商品呢")},checkAll:function(){var t=this;2==t.bottomBar?(t.isCheckNum=0,1==t.checkedAll?(t.checkedAll=!1,t.lists.map((function(t,e){t.selectFlag=0,t.skuList.map((function(t){t.selectFlag=0}))}))):0==t.checkedAll&&(0!=t.lists.length?(console.log(111111111111),t.lists.map((function(t,e){t.skuList.map((function(t){0==t.storeNumber&&3==t.seckillFlag||"02"==t.spuStatus?t.selectFlag=0:t.selectFlag=1})),t.selectFlag=1})),t.checkedAll=!0):c["a"].alert({message:"购物车还没有商品哦，快去逛逛吧",confirmButtonText:"我知道了"}).then((function(){t.checkedAll=!1}))),t.getTotal()):1==t.bottomBar&&(t.isCheckNum=0,1==t.editCheckedAll?(t.editCheckedAll=!1,t.lists.map((function(t,e){t.checkedShop=!1,t.skuList.map((function(t){t.checkedSku=!1}))}))):0==t.editCheckedAll&&(0!=t.lists.length?(console.log(111111111111),t.lists.map((function(t,e){t.skuList.map((function(t){t.checkedSku=!0})),t.checkedShop=!0})),t.editCheckedAll=!0):c["a"].alert({message:"您的购物车暂时还没有商品呢"}).then((function(){t.editCheckedAll=!1}))),t.getTotal())},checkShop:function(t){var e=this;2==e.bottomBar?(0==e.lists[t].selectFlag?(e.skuCheckNum=0,e.isCheckNum=0,e.lists[t].skuList.map((function(s){0==s.storeNumber&&3==s.seckillFlag||"02"==s.spuStatus?s.selectFlag=0:s.selectFlag=1,e.lists[t].selectFlag=1})),e.lists.map((function(t){1==t.selectFlag&&(e.isCheckNum+=1)})),e.isCheckNum==e.lists.length?e.checkedAll=!0:e.checkedAll=!1):1==e.lists[t].selectFlag&&(e.lists[t].skuList.map((function(t){t.selectFlag=0})),e.lists[t].selectFlag=0,e.checkedAll=!1),e.getTotal()):1==e.bottomBar&&(0==e.lists[t].checkedShop?(e.editSkuCheckNum=0,e.editIsCheckNum=0,e.lists[t].skuList.map((function(t){t.checkedSku=!0})),e.lists[t].checkedShop=!0,e.lists.map((function(t){1==t.checkedShop&&(e.editIsCheckNum+=1)})),e.editIsCheckNum==e.lists.length?e.editCheckedAll=!0:e.editCheckedAll=!1):1==e.lists[t].checkedShop&&(e.lists[t].skuList.map((function(t){t.checkedSku=!1})),console.log(e.lists[t].checkedShop+"改变状态"),e.lists[t].checkedShop=!1,e.editCheckedAll=!1)),e.$forceUpdate()},checkSku:function(t,e){var s=this;2==s.bottomBar?(s.isCheckNum=0,0==s.lists[t].skuList[e].storeNumber&&3==s.lists[t].skuList[e].seckillFlag||"02"==s.lists[t].skuList[e].spuStatus?(s.soldOut=!0,s.stop()):(0==s.lists[t].skuList[e].selectFlag?(s.lists[t].skuList[e].selectFlag=1,s.lists.map((function(t){s.skuCheckNum=0,s.noStore=0,t.skuList.map((function(t){(1==t.selectFlag||0==t.storeNumber&&3==t.seckillFlag)&&(s.skuCheckNum+=1,0==t.storeNumber&&3==t.seckillFlag&&(s.noStore+=1))})),s.skuCheckNum==t.skuList.length&&s.noStore<t.skuList.length?(t.selectFlag=1,s.isCheckNum+=1):(t.selectFlag=0,s.checkedAll=!1)}))):(s.lists[t].skuList[e].selectFlag=0,s.lists[t].selectFlag=0,s.checkedAll=!1,console.log(s.lists[t].skuList[e].selectFlag+"$$$$$$$")),s.isCheckNum==s.lists.length?s.checkedAll=!0:s.checkedAll=!1),s.getTotal()):1==s.bottomBar&&(s.editIsCheckNum=0,0==s.lists[t].skuList[e].checkedSku?(s.lists[t].skuList[e].checkedSku=!0,s.lists.map((function(t){s.editSkuCheckNum=0,t.skuList.map((function(t){1==t.checkedSku&&(s.editSkuCheckNum+=1)})),s.editSkuCheckNum==t.skuList.length?(t.checkedShop=!0,s.editIsCheckNum+=1):(t.checkedShop=!1,s.editCheckedAll=!1)}))):(s.lists[t].skuList[e].checkedSku=!1,s.lists[t].checkedShop=!1,s.editCheckedAll=!1,console.log(s.lists[t].skuList[e].checkedSku+"$$$$$$$")),s.editIsCheckNum==s.lists.length?s.editCheckedAll=!0:s.editCheckedAll=!1),s.$forceUpdate()},turnToGoods:function(t){console.log(t),"02"===t.spuStatus?this.$toast("很抱歉，该商品已下架"):0==t.seckillFlag||4==t.seckillFlag?this.$router.push({path:"/flashSaleGoods",query:{spuCode:t.spuCode,activitySpuId:t.oriActivitySpuId,goodsUrl:t.goodsPic}}):this.$router.push({name:"goodsDetail",params:{spuCode:t.spuCode,goodsUrl:t.skuPicUrl}})},onRefresh:function(){this.checkedAll=!1,this.allPrice=0,this.init()},getCount:function(t){var e=this;console.log("getCount");var s=this;if(t.skuCount=Number(t.skuCount),t.skuCount<1&&(t.skuCount=1),t.skuCount<=t.skuCountLimit){var o={ownerCode:s.$userInfo.OWNER_CODE,areaCode:s.$userInfo.AREA_CODE,skuCount:t.skuCount,shopCode:t.shopCode,skuNo:t.skuNo,activitySpuId:t.activitySpuId,seckillLimit:t.seckillLimit,seckillExists:"1"};this.showloading=r["b"].get("showLoadingView"),this.showloading&&this.showloading(!0),Object(u["s"])(o).then((function(e){0==e.resultCode&&(t.activitySpuId=e.data.skuInfo.activitySpuId,t.skuCount=e.data.skuInfo.skuCount,t.seckillLimit=e.data.skuInfo.seckillLimit,t.skuPrice=e.data.skuInfo.skuPrice,t.skuOldPrice=e.data.skuInfo.skuOldPrice,t.seckillFlag=e.data.skuInfo.seckillFlag),s.getTotal(),this.showloading&&this.showloading(!1)})).catch((function(t){e.showloading&&e.showloading(!1)}))}else s.$toast("您所添加商品超过最大购买量了哦")},updateSelect:function(){var t=this,e={ownerCode:t.$userInfo.OWNER_CODE,areaCode:t.$userInfo.AREA_CODE,shopList:t.lists};Object(u["t"])(e).then((function(t){}))},plusBtn:function(t){t.skuCount=Number(t.skuCount)+1,this.getCount(t)},minusBtn:function(t,e){t.skuCount=Number(t.skuCount)-1,this.getCount(t)},addNumBtn:function(t,e){1==t.skuCount?this.delectCart(e,t.skuNo):this.$toast("您所添加商品超过最大购买量了哦")},cancelCheck:function(){var t=this;t.lists.map((function(t,e){t.checkedShop=!1,t.skuList.map((function(t){t.checkedSku=!1}))})),t.editCheckedAll=!1},getTotal:function(){var t=this;t.allPrice=0,this.lists.map((function(e){e.skuList.map((function(e){1==e.selectFlag&&(t.allPrice+=100*e.skuPrice*e.skuCount)}))})),0!=t.allPrice?t.isClickGood=!1:t.isClickGood=!0},countDownFinish:function(){this.onRefresh()},payForCart:function(){var t=this,e=[];t.lists.map((function(t,s){var o=[];t.skuList.map((function(t,e){1==t.selectFlag&&o.push({activitySpuId:t.activitySpuId,spuCode:t.spuCode,spuName:t.spuName,skuNo:t.skuNo,attrValueContent:t.attrValueContent,skuPrice:t.skuPrice,skuCount:t.skuCount,skuDelivery:0,skuTotal:t.skuCount*t.skuPrice,skuPicUrl:t.skuPicUrl})})),0!=o.length&&e.push({shopName:t.shopName,shopCode:t.shopCode,skuList:o})}));var s={orderSource:"0",goodsList:e,num:100*Math.random()};t.$router.push({name:"orderPayNew",params:{goodsData:s}}),console.log("传值"+JSON.stringify(s))},goSeckSellList:function(t){this.$router.push({name:"flashSaleList",params:{firstTab:t.seckillFlag}})},repurchase:function(){var t=this,e=this.$route.params.data;console.log("走进了再次购买方法"+this.lists),this.lists.map((function(s,o){s.skuList.map((function(s,i){e.map((function(e,c){e.spuCode==s.spuCode&&(t.checkSku(o,i),console.log(e.spuCode+"大师傅大师傅"+s.spuCode+"index"+i))}))}))}))},toShop:function(t){this.$router.push({name:"shopPage",params:{shopCode:t}})},goToBack:function(){this.$router.go(-1)},iKnowBtn:function(){var t=this;t.soldOut=!1,t.move()},stop:function(){var t=function(t){t.preventDefault()};document.body.style.overflow="hidden",document.addEventListener("touchmove",t,!1)},move:function(){var t=function(t){t.preventDefault()};document.body.style.overflow="",document.removeEventListener("touchmove",t,!1)},moveInputIntoView:function(t){var e=this;console.log(this.isShowPlaceHolder),this.isShowPlaceHolder||(this.isShowPlaceHolder=!0,this.$nextTick((function(){console.log("scrollTop");var t=document.activeElement.parentNode.parentNode.parentNode.parentNode.parentNode.parentNode.parentNode.offsetTop;e.$refs.cartContent.scrollTop=t})))},resetInputIntoView:function(t){var e=this;console.log("resetInputIntoView"),setTimeout((function(){e.isShowPlaceHolder=!1,e.$forceUpdate()}),100),document.activeElement&&document.activeElement.blur()}},mounted:function(){window.addEventListener("native.keyboardshow",this.moveInputIntoView),window.addEventListener("native.keyboardhide",this.resetInputIntoView),document.querySelector(".shopcart").addEventListener("touchmove",(function(t){document.activeElement&&document.activeElement.blur()}),{passive:!1}),this.init()},beforeRouteLeave:function(t,e,s){this.updateSelect(),window.removeEventListener("native.keyboardshow",this.moveInputIntoView),window.removeEventListener("native.keyboardhide",this.resetInputIntoView),s()}},h=d,A=(s("3714"),s("2877")),k=Object(A["a"])(h,o,i,!1,null,"fdd75954",null);e["default"]=k.exports},3714:function(t,e,s){"use strict";var o=s("d552"),i=s.n(o);i.a},"3e35":function(t,e,s){t.exports=s.p+"img/no_shopping_img.6166ff8a.png"},"40d6":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAoCAYAAADkDTpVAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAGKADAAQAAAABAAAAKAAAAABDFM0rAAAEAElEQVRIDa1XXWhURxSec+/diCY0WpBKEx8s7YvkoVRKIaXFPIgaqw/uvUmpLRTdH7UG+gP1B4UFKS1SqNESXTdVS20tSVYqpTa2ghRtKaX4YgXB0r6kD+JDC1WI2Tv3+E3CufuT7N7dbAZ2z+w3c75vZs45986Sjid3MqmPWKnbTov1Bn2VvaMWsFlMnGHmdsX8gp7SP3N/8vkF5FeWUvSNEDKr5VrzVb8v3StYs9ayR0/tgsigEEGkVengou8l3xSsGWsREcfyubctsvaSUgiF+WKHAz6j3eT+ZsiNLziLzY+nX1cUnEZMYoJiAUN2V8cAZTKBYI3YMgHjWPDS64iDCxBpEyIidcFu69xGZzOTgtVrZwkYR+5PPad1cAnxeCIkIrrmtLVuobNH/wuxOjpzChg/fm3XU3qqcBkiT4c8RLecRbyBvhyeCLGITlUB48fewHI/mPwOvbA2SNGErdQGyuduRXBPD6MOqjcaPX7PWdLegxiMyyxkWKdWfJ3dxEuC1bI1BYwjffHxA7urczNEPhci5PJSrdQPvpveKlg1W/OIKp0K8cSHwPYJjhQOQDBgj+WGBKu0DQkYZ+2l9iCFB/Ep3f0HsfzwwUpy87thAePkewlXBXQO8VhkfpuGIzyDo0yhIP0ZZOZ7XgLGlfvSL2utL5p4CCHILtlLlvaZuJVg0m3ccv/OLoiM47g6Qm9Svzm0+BWTgQab9w6EkF/dvdL3C+N4n6wWDLR3HIvX0+jw300LGFJU/TL/YeFbdF8UEcTkrs3OxgURmBbx3lms+f7XOK4tIoKd3C5NtSI+r57fhqx6ssyV+MGC7IC9xCo/oMs4rGdEAMR/2VbL+qZ3wF7yWc3ql1JyHM0Nu6W1m0aH/mxKoNCX6gH5T3ikryiunK447cvW0vnBuwabt4DvpjzS/D2C+lhITnTetjo20ekj/wvmSKcRq+OJtxDQY/gUF0j0CW4o75lLRClXcUIpWqNfcJOH8fb/VB52CCZblno/NpZ7t5Lc0NSdReyN2Dr4MYtV7xB9EBZAv93JZ88JVmnrEuA5igjk93FAbmwkh/Ss3iIFqjwG7tls91I++3t16pkRvL+rN96W6PSn+CpmrJFZWJEpoB4aO/mHYLVs1SCzl16tJ1FA5U/JsIBqkZaOzSnAbrJbs76GfFspk3FdKSsgwaPsLAFc3TfjxnAF1fm4OCOgswpIxqJsWZD9eHK7Ij4F8mJsUEDOHAUURSzj4Q60mziAHP9MyKFcs4CEIMriD1TG0jf/GQT5HplcTwHJ3Cjr6JsTJxDMlEwsFlC2ZgHJ/Cjr4ELjIRWn5+E9igKyemkkuoCiiGXcIuZDWPW/eCz9alNLdz3VKc712Ec2bYdUEzDi5AAAAABJRU5ErkJggg=="},5863:function(t,e,s){"use strict";s.d(e,"m",(function(){return i})),s.d(e,"n",(function(){return c})),s.d(e,"b",(function(){return n})),s.d(e,"c",(function(){return l})),s.d(e,"d",(function(){return a})),s.d(e,"p",(function(){return u})),s.d(e,"i",(function(){return r})),s.d(e,"o",(function(){return h})),s.d(e,"e",(function(){return A})),s.d(e,"a",(function(){return k})),s.d(e,"s",(function(){return m})),s.d(e,"t",(function(){return f})),s.d(e,"r",(function(){return d})),s.d(e,"k",(function(){return g})),s.d(e,"q",(function(){return C})),s.d(e,"j",(function(){return p})),s.d(e,"g",(function(){return v})),s.d(e,"f",(function(){return w})),s.d(e,"h",(function(){return S})),s.d(e,"l",(function(){return N}));var o=s("ba6a"),i=function(t){return new Promise((function(e,s){o["a"].get("xwj-commerce-goods/goods/getGoodsInfoForApp",t).then((function(t){e(t)})).catch((function(t){s(t)}))}))},c=function(t){return new Promise((function(e,s){o["a"].get("xwj-commerce-shop/shopManage/getOneShopTitle",t,"baseUrl",!1).then((function(t){e(t)})).catch((function(t){s(t)}))}))},n=function(t){return new Promise((function(e,s){o["a"].post("xwj-commerce-sale/shopCart/addGoods",t).then((function(t){e(t)})).catch((function(t){s(t)}))}))},l=function(t){return new Promise((function(e,s){o["a"].post("xwj-sys-user/collect/saveCollect",t,!1,"baseUrl",!1).then((function(t){e(t)})).catch((function(t){s(t)}))}))},a=function(t){return new Promise((function(e,s){o["a"].post("xwj-sys-user/collect/deleteCollect",t,!1,"baseUrl",!1).then((function(t){e(t)})).catch((function(t){s(t)}))}))},u=function(t){return new Promise((function(e,s){o["a"].get("xwj-sys-user/collect/getCollectList",t).then((function(t){e(t)})).catch((function(t){s(t)}))}))},r=function(t){return new Promise((function(e,s){o["a"].get("xwj-commerce-sale/shopCart/getSkuTypeNum",t).then((function(t){e(t)})).catch((function(t){s(t)}))}))},d=function(t){return new Promise((function(e,s){o["a"].post("xwj-sys-user/share/shareGoods",t).then((function(t){e(t)})).catch((function(t){s(t)}))}))},h=function(t){return new Promise((function(e,s){o["a"].get("xwj-commerce-sale/shopCart/getGoodsList",t).then((function(t){e(t)})).catch((function(t){s(t)}))}))},A=function(t){return new Promise((function(e,s){o["a"].post("xwj-commerce-sale/shopCart/deleteGoods",t,!1).then((function(t){e(t)})).catch((function(t){s(t)}))}))},k=function(t){return new Promise((function(e,s){o["a"].post("xwj-sys-user/collect/saveCollectList",t).then((function(t){e(t)})).catch((function(t){s(t)}))}))},m=function(t){return new Promise((function(e,s){o["a"].post("xwj-commerce-sale/shopCart/updateGoodsNum",t,!1,"baseUrl",!1).then((function(t){e(t)})).catch((function(t){s(t)}))}))},f=function(t){return new Promise((function(e,s){o["a"].post("xwj-commerce-sale/shopCart/updateGoodsSelect",t,!1,"baseUrl",!1).then((function(t){e(t)})).catch((function(t){s(t)}))}))},g=function(t){return new Promise((function(e,s){o["a"].get("xwj-commerce-seckill/activitySpu/getActivityGoodsList",t,"baseUrl",!0).then((function(t){e(t)})).catch((function(t){s(t)}))}))},C=function(t){return new Promise((function(e,s){o["a"].post("xwj-commerce-seckill/ownerNotice/subscribeSpuNotice ",t).then((function(t){e(t)})).catch((function(t){s(t)}))}))},p=function(t){return new Promise((function(e,s){o["a"].get("xwj-commerce-seckill/activitySpu/getActivityGoods",t).then((function(t){e(t)})).catch((function(t){s(t)}))}))},v=function(t){return new Promise((function(e,s){o["a"].get("xwj-advert-ssp/advertHtml/showGoods",t,"baseUrl",!0).then((function(t){e(t)})).catch((function(t){s(t)}))}))},w=function(t){return new Promise((function(e,s){o["a"].get("xwj-advert-ssp/advertHtml/queryAdvertPage",t,"baseUrl",!0).then((function(t){e(t)})).catch((function(t){s(t)}))}))},S=function(t){return new Promise((function(e,s){o["a"].post("xwj-sys-user/share/shareAdvertGoods",t).then((function(t){e(t)})).catch((function(t){s(t)}))}))},N=function(t){return new Promise((function(e,s){o["a"].post("xwj-sys-user/share/shareSeckill",t).then((function(t){e(t)})).catch((function(t){s(t)}))}))}},"812c":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAAAAXNSR0IArs4c6QAAA4ZJREFUWAnNmE1IFVEUx8+5MybmK3TTQsiwkDCQKKFIc5HgptqE6aJFRPBAF5J90CqqTQRBkLkokKA2Qc8iIlu9KMgUgjYuwkWLwFDDRX69FuHM3M6545vmzZsZZ94XXnh4Zu659//z3M8zCDGLPDdQb/61TgFa3QCyUUpsQIQG7kZKmEeU8wA4C1KktWrxDp8/WoojgVGdjd7kGbBgkPw7JUg9SjsENMhvAgSM6GOjr6O12cRL9vV3GJZ5j/799k1cw6sRp3ShXcfU48kwx8AIyd6UZljp+zQQl8I6iF+Hw7rovopjfaZfW18geWGozsxkUjQnaJ6UvtCcS2uJRB8+fbDs7T0PiGGMtcwUObZ4nUv8PKPvSLR7oYRbhIeJI1MBGJZtUaNAmm6GHCCeM+UaJrdo1mYte55m39CGkTXVajKNz9nnSv7VNf14dvU5EVJLu5IULi23tgJSm16x+4xLILZJ2oqBGtoRsnfg2P2UtMEGA9pnk7EY9TiIDdHUCNrAeWqGYN59CLC04tsFHzNatb5LmOvG6bLC3LoCuHcP/RoBD7f6wvBLZmAWQQdmWXZj4MgwTKJWQcjVNZBfpwOBVAWxCEC5O9yrgFofGPM2HYsra+GdEYvg+0yol6B539IMsDMR6uZUBsHMzjkuQQaz6Hy5oh0zsIhr/SCOHAKZ+QPmnWGA7z8Cff2GSUUmAgx3yiyC7jkhOOTUap+xPBe0G0MAzU3+QEVExumQWIQEXHBe+Bhy/L3zFmu3+0OVAoZUmEXYd2BHM8+wXrwB623aeZ8HVSIYFmAW7eaBti6yDzqKPoac/gZQUwO4f5+qxW1VgMfaQP5eBu1yMmdpx5kzXilE/ETLHv6PidfD9Ww9S+VHavBiyWCUFGUqQqvSxzeyA5e8v5kHRcuCi1xZhWIiw33YRwelTfxg9CQ/0NZ9gu0oBTuPgug5CVBfB3JhEayRJwBzv6I0DfQhoI/6q9EuO7+ivImOkMhAcuILmPQraWEGKnbMyVg/m5wsOvcqlJBytqqXox3c3L4PkcFJXKH9FdvOre0A2XdapLOh0gWHs/dpVnaA+EFllJTEsV2Jwgkja7q1coA4veWMkhxm3E5lsmdU9upJqXOAWJgzSZVRljFSKjI+WavSD/rvt9THBjfklvkc44Zie8t8sPKCqbSJsgOVHNAd2PeTnsSftH7T6pyM+UnvH49cioARMKC0AAAAAElFTkSuQmCC"},d3b8:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAYCAYAAADKx8xXAAAAAXNSR0IArs4c6QAAAeNJREFUOBGdkz9MwkAUxrm2oNEOMOiEiZuTGhajMSqJcdDFiS7EASywuLCYGBcWFxcGJ/4EI4uGOJq6mKjRwSiLkyZusuiiicHIn9D6vWqhQQqNTR7vru/73Xe8uzoc/3wYcfl8frBSqWw7nc79UCj0ZGctjkSALjVN26rVasVsNjtlG3S73f5fcX+j0TjPZDIrvWDdUZKkssfjGWCMFQEwVVWPAa93g3WQBIC/sF0/YAWhAd4DnLCC9eaYi4AZgCRyFOHAIkfRaFRGVs26P6BRTKVScYx3aA7oCh1fRccrRt0SJAHgANIBAix75DhuUZblN6p1BUmQTqcXsOUTDF2IF8RcLBZ77glCSM7jSBdwFbHIJ8YLtkCCc7ncSL1ev8FwGCE0j4OKNh7N0NgCaatwuwc0hO2WkScEYwWr3NacV0EQZsPhcKmrIx0HmnEKFzJ4EEVxkiAysQQBxQHQGeoXwOVyTQeDwXea08P/pNYvHJjX66UrtwlQQxQikYjk8/nqLVXbBYCLE8VDiJdpAdyUXUAJM2CMm46FQkGsVqtnKMwjGM/zG4CShrA96xdAUZS+UqlE7R5FNOAUAKS0i81z/TgAXePlGOIDTku4yLdmUaex0dU1/K87fDozdqBOC9l+9w1OV7EeOsl6xwAAAABJRU5ErkJggg=="},d552:function(t,e,s){},e533:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAAAAXNSR0IArs4c6QAAA3VJREFUWAnNmE9LG0EYh2c3/w6KNCBFBINXDyKIJ9uACjmU9tKL36L0UPBDCD2I36KXXlp6SFEhracgiAevIYINRUgJelATt79nurNsotIYYtb3kJ3Jzszv2fednZl3PfNAq1Qq+Xa7/ToIgpK6FnSd9jxvmmFUPlX5VMW6ruV0Ov21WCw2udevef023Nvbe9vpdN5JqCjhdD/91LattpVUKrW9srLyua8+/2u0s7PzQm02NfAybX3fD/L5vDc5OWnGxsZMLpcz2WzWDnN1dWUuLy/NxcWFOTs7M81mM7i5ubEPLbh9NdpYW1v7aRvf83OvhwSQEsxH9XtPXwkHs7Oz3tTUlNET3zNc99/yqGk0GqZWqwUCdVpbgvogwE53638116jr3u7u7jM92Sf9WcIjgBQKBbzT1a7fisYy9XrdgoUeK2us9dXV1T+9Y9wCCmFw7xxemZ+f9yYmJnr7DVRvtVrm6OjIeetYUMu9UF2PTJhCz8yNj4+bpaWlocHwBDwYYzK2bA4tNKk46wIK50wJzywsLNgJ6xoO68pLEI4daMxSqBkNH4WMt0m0P5gzi4uLQ/VMpBYrEL6DgwP7FmqCv3RvX9xDm7RnAg9rzsT0bxXRQCu8YbUpWyAWPXlnmVDxNo3K0EITbRgiIFZgKhAP+moP8hBoOS85Bo+96fr6+rfimNK+4/W76A0CcFcfFk8x4KVOJpN57mu5f6NKmu1g1DAAook2DLD48gy7tmFvSsqcNixM6hlA2CiTspj2jC9X2bMMC1ZS5rRhIWQWyB0hkoBy2rAQMpbwp2IBIfsFDYerpMxpw0LIOAPbk15SQJwyMVgIWZ0Kx86kLKZdJ2TfAeEMnJQ5bXmo7GuGf1GhzYGcZXzUhibaMJA2+eRN8lKFsy4H8lEbmmjDAAtziP1km2tN2YFuUhyJoYUmYo7BApHEyWX7pCpkB6MytNBE2yWSFigE2OAKMcfLxzY0nHekZbXRjIDCM+0W8QxTlUdjYt1BAy2JkDhG2aw701pxTSyy1W+qlEhVHiPzAObw8NCcn5+jWRbMK4User0jD3GXGzpWrqt4TIdqtTrU8BEmxgxhSBTX4zCWgZ9ee1KptIMLw/c0PjY4KK4kkLok/zkmDkWZvIlURTFP9oNVLxhpE9mBwEgOZhTauz7pnej/MvvkQz/p/QXgQBpdZkTkhQAAAABJRU5ErkJggg=="}}]);
//# sourceMappingURL=chunk-4bffb664.6cf2bdd7.js.map