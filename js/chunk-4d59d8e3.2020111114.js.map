{"version":3,"sources":["webpack:///./src/services/propertyActivityService.js","webpack:///./src/page/property/propertyActivity/propertyActivityList.vue?c07e","webpack:///./src/assets/images/home/property_activity/defaultImg.png","webpack:///./src/page/property/propertyActivity/propertyActivityList.vue?7003","webpack:///src/page/property/propertyActivity/propertyActivityList.vue","webpack:///./src/page/property/propertyActivity/propertyActivityList.vue?e841","webpack:///./src/page/property/propertyActivity/propertyActivityList.vue"],"names":["getActivityListService","params","Promise","resolve","reject","reqUrl","http","get","then","result","resultCode","data","msg","catch","error","getActivityDetailInfoService","getEtcDetailService","getJoinInfoService","getCancelStateService","post","getReadyStateService","getScreeningsService","module","exports","render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","title","headerItemWidth","on","goBack","style","top","$stbHeight","onRefresh","model","value","callback","$$v","refreshing","expression","isShowEmpty","_e","finished","onLoad","loading","_l","x","key","ACTI_CODE","$event","toDetail","isImg","PIC_URL","START_TIME2","date1","_v","END_TIME2","FLAG","_s","ACTI_NAME","staticStyle","_f","START_TIME","END_TIME","COUNTS","staticRenderFns","name","total","activity","mounted","userInfo","$userInfo","query","page","rows","AREA_CODES","AREA_CODE","OWNER_CODE","ROOM_CODE","methods","getActivityList","pageNum","rowsNum","totalNum","pageBig","toString","date2","Date","getTime","flag","setTimeout","console","log","datailData","state","path","$router","back","filters","limitMax","substr","component"],"mappings":"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","file":"js/chunk-4d59d8e3.2020111114.js","sourcesContent":["import http from \"../http\";\r\n\r\nexport {\r\n    getActivityListService,\r\n    getActivityDetailInfoService,\r\n    getEtcDetailService,\r\n    getJoinInfoService,\r\n    getCancelStateService,\r\n    getReadyStateService,\r\n    getScreeningsService\r\n}\r\n\r\n//获取活动列表\r\nconst getActivityListService = (params) => {\r\n    return new Promise((resolve, reject) => {\r\n        let reqUrl = 'xwj-property-activity/activity/getActiMsgByAreaCodeAndRoomCodeAndOwnerCode';\r\n        http.get(reqUrl, params, 'baseUrl', false).then(result => {\r\n            if (result.resultCode == \"0\") {\r\n                resolve(result.data);\r\n            } else {\r\n                reject(result.msg);\r\n            }\r\n        }).catch(error => {\r\n            reject(error);\r\n        })\r\n    });\r\n}\r\n\r\n//根据活动代码获取活动信息\r\nconst getActivityDetailInfoService = (params) => {\r\n    return new Promise((resolve, reject) => {\r\n        let reqUrl = 'xwj-property-activity/activity/getActiMsgByActiCodeAndRoomCode';\r\n        http.get(reqUrl, params, 'baseUrl', false).then(result => {\r\n            if (result.resultCode == \"0\") {\r\n                resolve(result.data);\r\n            } else {\r\n                reject(result.msg);\r\n            }\r\n        }).catch(error => {\r\n            reject(error);\r\n        })\r\n    });\r\n}\r\n\r\n//获取场次信息\r\nconst getEtcDetailService = (params) => {\r\n    return new Promise((resolve, reject) => {\r\n        let reqUrl = 'xwj-property-activity/activity/getDetailMsgByDetailCodeAndRoomCode';\r\n        http.get(reqUrl, params, 'baseUrl', false).then(result => {\r\n            if (result.resultCode == \"0\") {\r\n                resolve(result.data);\r\n            } else {\r\n                reject(result.msg);\r\n            }\r\n        }).catch(error => {\r\n            reject(error);\r\n        })\r\n    });\r\n}\r\n\r\n//获取已报名场次信息\r\nconst getJoinInfoService = (params) => {\r\n    return new Promise((resolve, reject) => {\r\n        let reqUrl = 'xwj-property-activity/activity/getIsActiDetailMsgByActiCodeAndRoomCode';\r\n        http.get(reqUrl, params, 'baseUrl', false).then(result => {\r\n            if (result.resultCode == \"0\") {\r\n                resolve(result.data);\r\n            } else {\r\n                reject(result.msg);\r\n            }\r\n        }).catch(error => {\r\n            reject(error);\r\n        })\r\n    });\r\n}\r\n\r\n//获取取消报名\r\nconst getCancelStateService = (params) => {\r\n    let reqUrl = 'xwj-property-activity/activity/cancelEnrol';\r\n    return new Promise((resolve, reject) => {\r\n        http.post(reqUrl, params, true, 'baseUrl').then(result => {\r\n            resolve(result);\r\n        }).catch(error => {\r\n            reject(error);\r\n        })\r\n    });\r\n}\r\n\r\n//获取报名\r\nconst getReadyStateService = (params) => {\r\n    let reqUrl = 'xwj-property-activity/activity/addActiEnrol';\r\n    return new Promise((resolve, reject) => {\r\n        http.post(reqUrl, params, false, 'baseUrl').then(result => {\r\n            resolve(result);\r\n        }).catch(error => {\r\n            reject(error);\r\n        })\r\n    });\r\n}\r\n\r\n//根据代码获得场次信息\r\nconst getScreeningsService = (params) => {\r\n    return new Promise((resolve, reject) => {\r\n        let reqUrl = 'xwj-property-activity/activity/getDetailByActiCode';\r\n        http.get(reqUrl, params, 'baseUrl', false).then(result => {\r\n            if (result.resultCode == \"0\") {\r\n                resolve(result.data);\r\n            } else {\r\n                reject(result.msg);\r\n            }\r\n        }).catch(error => {\r\n            reject(error);\r\n        })\r\n    });\r\n}","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./propertyActivityList.vue?vue&type=style&index=0&id=61315be0&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./propertyActivityList.vue?vue&type=style&index=0&id=61315be0&scoped=true&lang=scss&\"","module.exports = __webpack_public_path__ + \"img/defaultImg.f3fdc31a.png\";","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"propertyActivity\"},[_c('navigation-bar',{attrs:{\"pageName\":_vm.title,\"bothWidth\":_vm.headerItemWidth},on:{\"onLeftClick\":_vm.goBack}}),_c('div',{staticClass:\"scroll-content\",style:({top:44+this.$stbHeight+'px'})},[_c('van-pull-refresh',{on:{\"refresh\":_vm.onRefresh},model:{value:(_vm.refreshing),callback:function ($$v) {_vm.refreshing=$$v},expression:\"refreshing\"}},[(!_vm.isShowEmpty)?_c('van-list',{attrs:{\"finished\":_vm.finished,\"immediate-check\":false,\"offset\":600},on:{\"load\":_vm.onLoad},model:{value:(_vm.loading),callback:function ($$v) {_vm.loading=$$v},expression:\"loading\"}},_vm._l((_vm.activity),function(x){return _c('van-cell',{key:x.ACTI_CODE,on:{\"click\":function($event){return _vm.toDetail(x)}}},[_c('div',{staticClass:\"bgGray clearfix\"},[_c('div',{staticClass:\"activity clearfix\"},[_c('div',{staticClass:\"cardArea\"},[_c('div',{staticClass:\"activityContent clearfix\"},[_c('div',{staticClass:\"imgDrakArea\"},[(0 == x.isImg)?_c('img',{staticClass:\"full-image\",attrs:{\"src\":x.PIC_URL}}):_vm._e(),(1 == x.isImg)?_c('img',{staticClass:\"full-image\",attrs:{\"src\":require(\"../../../assets/images/home/property_activity/defaultImg.png\")}}):_vm._e(),_c('div',{staticClass:\"backDrap\"},[(x.START_TIME2 > _vm.date1)?_c('span',{staticClass:\"backText noStart\"},[_vm._v(\"活动未开始\")]):_vm._e(),(x.END_TIME2 < _vm.date1)?_c('span',{staticClass:\"backText already\"},[_vm._v(\"活动结束\")]):_vm._e()])]),(x.FLAG=='1')?_c('div',{staticClass:\"joinFlag\"},[_vm._v(\"已报名\")]):_vm._e(),_c('div',{staticClass:\"liveTitle\"},[_vm._v(_vm._s(x.ACTI_NAME))]),_c('div',{staticClass:\"validDate colorAThree\"},[_vm._v(\"\\n                    活动时间\\n                    \"),_c('i',{staticStyle:{\"visibility\":\"hidden\"}},[_vm._v(\"1\")]),_vm._v(\"\\n                    \"+_vm._s(_vm._f(\"limitMax\")(x.START_TIME))+\"\\n                    \"),_c('i',{staticStyle:{\"visibility\":\"hidden\"}},[_vm._v(\"1\")]),_vm._v(\"至\\n                    \"),_c('i',{staticStyle:{\"visibility\":\"hidden\"}},[_vm._v(\"1\")]),_vm._v(\"\\n                    \"+_vm._s(_vm._f(\"limitMax\")(x.END_TIME))+\"\\n                    \"),_c('span',{staticStyle:{\"float\":\"right\"}},[_vm._v(_vm._s(x.COUNTS)+\"人报名\")])])])])])])])}),1):_vm._e()],1)],1),(_vm.isShowEmpty)?_c('div',{staticClass:\"no-message\"},[_c('img',{attrs:{\"src\":require(\"@/assets/images/default/no_shoucang_img.png\")}}),_c('p',[_vm._v(\"暂无活动\")])]):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"propertyActivity\">\r\n        <!-- 头部 -->\r\n        <navigation-bar  @onLeftClick=\"goBack\" :pageName=\"title\" :bothWidth=\"headerItemWidth\" ></navigation-bar>\r\n    <!-- <van-nav-bar class=\"list-nav-bar\" title=\"物业活动\" :border=\"false\" left-arrow @click-left=\"goBack\" /> -->\r\n    <div class=\"scroll-content\" :style=\"{top:44+this.$stbHeight+'px'}\">\r\n      <van-pull-refresh v-model=\"refreshing\" @refresh=\"onRefresh\">\r\n        <van-list\r\n          v-if=\"!isShowEmpty\"\r\n          v-model=\"loading\"\r\n          :finished=\"finished\"\r\n          :immediate-check=\"false\"\r\n          @load=\"onLoad\"\r\n          :offset=\"600\"\r\n        >\r\n          <van-cell v-for=\"x in activity\" :key=\"x.ACTI_CODE\" @click=\"toDetail(x)\">\r\n            <div class=\"bgGray clearfix\">\r\n              <!--可以报名-->\r\n              <!-- <div class=\"refreshTime\">{{x.UPDATED_TIME}}</div> -->\r\n              <div class=\"activity clearfix\">\r\n                <div class=\"cardArea\">\r\n                  <div class=\"activityContent clearfix\">\r\n                    <div class=\"imgDrakArea\">\r\n                      <img :src=\"x.PIC_URL\" class=\"full-image\" v-if=\"0 == x.isImg\" />\r\n                      <img\r\n                        src=\"../../../assets/images/home/property_activity/defaultImg.png\"\r\n                        class=\"full-image\"\r\n                        v-if=\"1 == x.isImg\"\r\n                      />\r\n                      <div class=\"backDrap\">\r\n                        <span class=\"backText noStart\" v-if=\"x.START_TIME2 &gt; date1\">活动未开始</span>\r\n                        <!--<span class=\"backText\" v-if=\"1==$scope.flag\">进行中</span>-->\r\n                        <span class=\"backText already\" v-if=\"x.END_TIME2 &lt; date1\">活动结束</span>\r\n                      </div>\r\n                    </div>\r\n                    <div class=\"joinFlag\" v-if=\"x.FLAG=='1'\">已报名</div>\r\n                    <div class=\"liveTitle\">{{x.ACTI_NAME}}</div>\r\n                    <div class=\"validDate colorAThree\">\r\n                      活动时间\r\n                      <i style=\"visibility: hidden\">1</i>\r\n                      {{x.START_TIME|limitMax()}}\r\n                      <i style=\"visibility: hidden\">1</i>至\r\n                      <i style=\"visibility: hidden\">1</i>\r\n                      {{x.END_TIME|limitMax()}}\r\n                      <span style=\"float:right;\">{{x.COUNTS}}人报名</span>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </van-cell>\r\n        </van-list>\r\n        <!-- 页面底部logo -->\r\n        <!-- <div class=\"finishedBox\" v-if=\"!isShowEmpty\">\r\n          <img src=\"@/assets/images/mall/mall_logo.png\" alt />\r\n        </div> -->\r\n      </van-pull-refresh>\r\n    </div>\r\n\r\n    <div class=\"no-message\" v-if=\"isShowEmpty\">\r\n      <img src=\"@/assets/images/default/no_shoucang_img.png\" />\r\n      <p>暂无活动</p>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Vue from \"vue\";\r\nimport NavigationBar from '@/common/currency/NavigationBar.vue';\r\nimport { getActivityListService } from \"../../../services/propertyActivityService\";\r\n\r\nexport default {\r\n  name: \"propertyActivityList\",\r\n    components:{\r\n        NavigationBar\r\n    },\r\n  data() {\r\n    return {\r\n      total: 0, //访问总数\r\n      isShowEmpty: false, //是否显示空列表\r\n      date1: \"\", //活动日期\r\n      activity: [], //活动列表对象\r\n      loading: true,\r\n      finished: false,\r\n      headerItemWidth:{\r\n          width:'84px'\r\n      },\r\n      title:'物业活动',\r\n      refreshing:false\r\n    };\r\n  },\r\n  mounted() {\r\n    this.userInfo = this.$userInfo;\r\n    //console.log(\"=============> userInfo: \"+JSON.stringify(this.userInfo));\r\n    this.query = {\r\n      page: \"1\", //当前页\r\n      rows: \"10\", //每页显示条数\r\n      AREA_CODES: [{ AREA_CODE: this.userInfo.AREA_CODE }] /*小区代码*/,\r\n      AREA_CODE: this.userInfo.AREA_CODE, //小区代码\r\n      OWNER_CODE: this.userInfo.OWNER_CODE, //业主代码\r\n      ROOM_CODE: this.userInfo.ROOM_CODE //房间代码\r\n    };\r\n    this.onRefresh();\r\n  },\r\n  methods: {\r\n    /*获取活动列表*/\r\n    getActivityList() {\r\n      getActivityListService({ data: JSON.stringify(this.query) })\r\n        .then(data => {\r\n          this.total = data.TOTAL;\r\n          //请求成功\r\n          this.date1 = new Date().getTime();\r\n          let resultList = data.ROWS;\r\n          this.total = data.TOTAL;\r\n          //是否显示空列表\r\n          if (this.total === 0) {\r\n            this.isShowEmpty = true;\r\n          }\r\n          //标记是否加载完全部数据\r\n          this.finished = data.ROWS.length >= this.total;\r\n\r\n          for (let i = 0; i < resultList.length; i++) {\r\n            let signPercent;\r\n            let totalPeople = resultList[i].LIMIT_MAX;\r\n            let signPeople = resultList[i].COUNTS;\r\n            signPercent =\r\n              Math.round((Number(signPeople) / Number(totalPeople)) * 10000) /\r\n              100.0;\r\n            resultList[i].percent = signPercent;\r\n          }\r\n          //判断有无图片\r\n          for (let t = 0; t < data.ROWS.length; t++) {\r\n            if (data.ROWS[t].PIC_URL) {\r\n              data.ROWS[t].isImg = 0;\r\n              if (t%2==0) {\r\n                let item = data.ROWS[t];\r\n                item.PIC_URL = item.PIC_URL.replace('xwjfile.juhaolian.cn', 'xwjfilea.juhaolian.cn');\r\n              }\r\n            } else {\r\n              data.ROWS[t].isImg = 1;\r\n            }\r\n          }\r\n          //设置遍历在页面上的变量\r\n          this.activity = data.ROWS;\r\n          for (let j = 0; j < this.activity.length; j++) {\r\n            this.activity[j].START_TIME2 = new Date(\r\n              this.activity[j].START_TIME.replace(/-/g, \"/\")\r\n            ).getTime();\r\n            this.activity[j].END_TIME2 = new Date(\r\n              this.activity[j].END_TIME.replace(/-/g, \"/\")\r\n            ).getTime();\r\n          }\r\n\r\n          // 加载状态结束\r\n          this.loading = false;\r\n          this.refreshing = false;\r\n        })\r\n        .catch(error => {\r\n          //加载失败后，关闭加载等待的文字\r\n          this.$toast(\"网络异常，请稍后重试！\");\r\n\r\n          //加载状态结束\r\n          this.refreshing = false;\r\n          this.loading = false;\r\n\r\n          //加载异常显示空列表\r\n          this.isShowEmpty = true;\r\n        });\r\n    },\r\n    onRefresh(){\r\n      this.query.page = \"1\";\r\n      this.getActivityList();\r\n\r\n    },\r\n\r\n    /*加载更多*/\r\n    onLoad() {\r\n      let pageNum = Number(this.query.page);\r\n      let rowsNum = Number(this.query.rows);\r\n      let totalNum = Number(this.total);\r\n      if (pageNum * rowsNum < totalNum) {\r\n        let pageBig = pageNum + 1;\r\n        this.query.page = pageBig.toString();\r\n\r\n        getActivityListService({ data: JSON.stringify(this.query) })\r\n          .then(data => {\r\n            // 加载状态结束\r\n            this.loading = false;\r\n\r\n            let resultList = data.ROWS;\r\n            //判断有无图片\r\n            for (let t = 0; t < data.ROWS.length; t++) {\r\n              if (data.ROWS[t].PIC_URL) {\r\n                data.ROWS[t].isImg = 0;\r\n                if (t%2==0) {\r\n                  let item = data.ROWS[t];\r\n                  item.PIC_URL = item.PIC_URL.replace('xwjfile.juhaolian.cn', 'xwjfilea.juhaolian.cn');\r\n                }\r\n              } else {\r\n                data.ROWS[t].isImg = 1;\r\n              }\r\n            }\r\n            for (let i = 0; i < resultList.length; i++) {\r\n              let signPercent;\r\n              let totalPeople = resultList[i].LIMIT_MAX;\r\n              let signPeople = resultList[i].COUNTS;\r\n              signPercent =\r\n                Math.round((Number(signPeople) / Number(totalPeople)) * 10000) /\r\n                100.0;\r\n              resultList[i].percent = signPercent;\r\n            }\r\n\r\n            this.activity = this.activity.concat(data.ROWS);\r\n\r\n            for (let i = 0; i < this.activity.length; i++) {\r\n              this.activity[i].START_TIME2 = new Date(\r\n                this.activity[i].START_TIME.replace(/-/g, \"/\")\r\n              ).getTime();\r\n              this.activity[i].END_TIME2 = new Date(\r\n                this.activity[i].END_TIME.replace(/-/g, \"/\")\r\n              ).getTime();\r\n            }\r\n\r\n            // 数据全部加载完成1\r\n            if (this.activity.length >= this.total) {\r\n              this.finished = true;\r\n            }\r\n          })\r\n          .catch(error => {\r\n            //加载失败后，关闭加载等待的文字\r\n            this.$toast(\"网络异常，请稍后重试！\");\r\n            this.loading = false;\r\n          });\r\n      } else {\r\n        this.query = {};\r\n        // 加载状态结束\r\n        this.loading = false;\r\n      }\r\n    },\r\n\r\n    /*跳转到活动详情页面*/\r\n    toDetail(x) {\r\n      this.date2 = new Date().getTime();\r\n      let datailData = {\r\n        ACTI_CODE: x.ACTI_CODE,\r\n        flag: 1\r\n      };\r\n\r\n      setTimeout(() => {\r\n        console.log(\"来啦\" + this.date2);\r\n        if (x.END_TIME2 < this.date2) {\r\n          if (\"0\" != x.FLAG) {\r\n            datailData.state = 0; //已报名已结束\r\n          } else {\r\n            datailData.state = 1; //未报名已结束\r\n          }\r\n        } else if (x.START_TIME2 > this.date2) {\r\n          datailData.state = 4; //未开始\r\n        } else if (x.START_TIME2 < this.date2 && x.END_TIME2 > this.date2) {\r\n          if (\"0\" == x.FLAG) {\r\n            datailData.state = 2; //未报名已开始\r\n          } else {\r\n            datailData.state = 3; //已报名已开始\r\n          }\r\n        }\r\n\r\n        this.$router.push({\r\n          path: \"/propertyActivityDetail\",\r\n          query: { object: JSON.stringify(datailData) }\r\n        });\r\n      }, 350);\r\n    },\r\n\r\n    /*返回上一页*/\r\n    goBack() {\r\n      this.$router.back(-1);\r\n    }\r\n  },\r\n\r\n  filters: {\r\n    limitMax(data) {\r\n      return data.substr(0, 10);\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n.propertyActivity {\r\n  background-color: #f9f9f9;\r\n  height: 100%;\r\n}\r\n\r\n.list-nav-bar {\r\n  width: 100%;\r\n  position: fixed;\r\n  z-index: 99;\r\n}\r\n\r\n.scroll-content {\r\n  position: absolute;\r\n  /*top: 44px;*/\r\n  left: 0px;\r\n  bottom: 0px;\r\n  width: 100%;\r\n  overflow: auto;\r\n}\r\n\r\n/deep/ .van-cell {\r\n  padding: 0;\r\n}\r\n\r\n.propertyActivity .bgGray {\r\n  width: 100%;\r\n  height: 260px;\r\n  position: relative;\r\n  background: white;\r\n}\r\n\r\n.propertyActivity .activity {\r\n  position: absolute;\r\n  left: 2.5%;\r\n  width: 95%;\r\n}\r\n\r\n.propertyActivity .colorAThree {\r\n  width: 100%;\r\n  text-align: left;\r\n  color: #a3a3a3 !important;\r\n}\r\n\r\n.propertyActivity .cardArea {\r\n  margin-top: 20px;\r\n}\r\n\r\n.propertyActivity .cardArea .liveTitle {\r\n  float: left;\r\n  height: 22px;\r\n  width: 100%;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n  white-space: nowrap;\r\n  line-height: 22px;\r\n  font-size: 16px !important;\r\n  letter-spacing: 0.08rem !important;\r\n  margin-top: 14px;\r\n}\r\n\r\n.propertyActivity .imgDrakArea {\r\n  position: relative;\r\n  height: 170px;\r\n  border-radius: 1rem;\r\n}\r\n\r\n.propertyActivity .full-image {\r\n  width: 100%;\r\n  height: 170px;\r\n  border-radius: 0.2rem;\r\n}\r\n\r\n.propertyActivity .backText {\r\n  position: absolute;\r\n  left: 0;\r\n  top: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  width: 80px;\r\n  height: 80px;\r\n  margin: auto;\r\n  line-height: 80px;\r\n  text-align: center;\r\n  color: #333333;\r\n  font-size: 14px !important;\r\n  opacity: 0.6;\r\n  border-radius: 40px;\r\n  background: white;\r\n}\r\n\r\n.propertyActivity .activityContent {\r\n  font-size: 0.5rem !important;\r\n}\r\n\r\n.propertyActivity .joinFlag {\r\n  position: absolute;\r\n  top: 0;\r\n  right: 0;\r\n  background-image: linear-gradient(-154deg, #59b1a3 0%, #17B7BD 57%);\r\n  height: 32px;\r\n  line-height: 32px;\r\n  width: 66px;\r\n  text-align: center;\r\n  color: white;\r\n  font-size: 12px;\r\n  margin-top: 20px;\r\n  border-radius: 0 0.2rem 0 0.9rem;\r\n}\r\n\r\n.propertyActivity .validDate {\r\n  font-size: 14px !important;\r\n  margin-top: 4px;\r\n}\r\n\r\n.propertyActivity .clearfix:after {\r\n  content: \".\";\r\n  clear: both;\r\n  height: 0;\r\n  display: block;\r\n  visibility: hidden;\r\n}\r\n\r\n/* 没有活动的情况下 */\r\n.propertyActivity .no-message {\r\n  padding: 40% 0;\r\n  text-align: center;\r\n  color: #9a9a9a;\r\n  font-size: 16px;\r\n}\r\n\r\n/deep/ .no-message img {\r\n  width: 180px;\r\n}\r\n\r\n.propertyActivity ::-webkit-scrollbar {\r\n  /*display: none !important;*/\r\n  width: 0 !important;\r\n}\r\n/*底部logo*/\r\n.finishedBox {\r\n  width: 100%;\r\n  text-align: center;\r\n  margin-bottom: 6px;\r\n  img {\r\n    width: 75px;\r\n    height: 21px;\r\n  }\r\n}\r\n</style>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./propertyActivityList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./propertyActivityList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./propertyActivityList.vue?vue&type=template&id=61315be0&scoped=true&\"\nimport script from \"./propertyActivityList.vue?vue&type=script&lang=js&\"\nexport * from \"./propertyActivityList.vue?vue&type=script&lang=js&\"\nimport style0 from \"./propertyActivityList.vue?vue&type=style&index=0&id=61315be0&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"61315be0\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}