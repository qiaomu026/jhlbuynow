{"version":3,"sources":["webpack:///./src/page/Services/Questionnaire/totalSurface.vue?9283","webpack:///src/page/Services/Questionnaire/totalSurface.vue","webpack:///./src/page/Services/Questionnaire/totalSurface.vue?dfd9","webpack:///./src/page/Services/Questionnaire/totalSurface.vue?7c9c","webpack:///./src/services/servers/question.js","webpack:///./src/page/Services/Questionnaire/totalSurface.vue?3268"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","title","on","onLeftClick","ref","staticRenderFns","component","deletePaperData","reqData","Promise","resolve","reject","http","post","then","noteData","catch","error","getPaperList","get","result","Toast","getQuestInfo","savePaperReaderNew","savePaperAnswer","getPaperDetail","removeAnswer","checkUserAnswer","getPaperShareUrl","getVoteDetail"],"mappings":"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","file":"js/chunk-59425e69.7b999871.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"totalSurface\"},[_c('navigation-bar',{attrs:{\"pageName\":_vm.title},on:{\"onLeftClick\":_vm.onLeftClick}}),_c('section',{staticClass:\"conBox\"},[_c('div',{ref:\"chart\",attrs:{\"id\":\"con\"}})])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"totalSurface\">\r\n    <!-- 头部 -->\r\n    <navigation-bar  @onLeftClick=\"onLeftClick\" :pageName=\"title\">\r\n    </navigation-bar>\r\n\r\n    <section class=\"conBox\">\r\n      <div id=\"con\" ref=\"chart\">\r\n\r\n      </div>\r\n    </section>\r\n\r\n  </div>\r\n</template>\r\n<script>\r\n  import NavigationBar from '@/common/currency/NavigationBar.vue';\r\n  import {getVoteDetail, getFinishQuestVoteData} from '@/services/servers/question';\r\n\r\n  export default {\r\n    data() {\r\n      return {\r\n        title: '问卷报表',\r\n        headerStyle: {\r\n          'backgroundColor': '#FB5768',\r\n          'color': '#fff'\r\n\r\n        },\r\n        imgType: '1',\r\n      }\r\n    },\r\n    components: {\r\n      NavigationBar,\r\n\r\n    },\r\n    mounted() {\r\n      let item = this.$route.query;\r\n      this.getData(item);\r\n    },\r\n    methods: {\r\n      onLeftClick() {\r\n        this.$router.go(-1);\r\n      },\r\n      getData(item) {\r\n        /*let data = {\r\n            \"PUBLISH_CODE\":item.PUBLISH_CODE,\r\n            \"ROOM_CODE\":this.$userInfo.ROOM_CODE || '',\r\n            \"AREA_CODE\":this.$userInfo.AREA_CODE || '',\r\n            \"USER_CODE\":this.$userInfo.OWNER_CODE || ''\r\n        };\r\n        data = {data:JSON.stringify(data)};\r\n        getFinishQuestVoteData(data).then(\r\n            res =>{\r\n                this.init(res)\r\n            },\r\n            err=>{\r\n\r\n            }\r\n        )*/\r\n\r\n        let param = {\r\n          publishCode: item.publishCode,\r\n          roomCode: item.roomCode,\r\n          userCode: item.userCode\r\n        }\r\n        getVoteDetail(param).then(\r\n          res => {\r\n            console.log(\"getVoteDetail: response = \"+JSON.stringify(res))\r\n            if (res.resultCode === \"0\" && res.data) {\r\n              this.init(res.data)\r\n            }\r\n          },\r\n          err => {\r\n\r\n          }\r\n        )\r\n\r\n      },\r\n      init(arr) {\r\n\r\n        let myChart = this.$echarts.init(this.$refs.chart);\r\n        let data = [];\r\n        let labelData = [];\r\n        arr.percentList.forEach((value, index) => {\r\n          let con = {};\r\n          con.name = value.itemName;\r\n          con.value = value.itemCount;\r\n          // con.itemStyle = {};\r\n          // con.itemStyle.color = this.radomColor();\r\n          data.push(con);\r\n          labelData.push(value.itemName);\r\n        })\r\n        console.log(data);\r\n        let option = {\r\n          tooltip: {\r\n            trigger: 'item',\r\n            formatter: \"{a} <br/>{b} : {c} ({d}%)\"\r\n          },\r\n          legend: {\r\n            orient: 'vertical',\r\n            left: '2%',\r\n            top: '4%'\r\n          },\r\n          series: [\r\n            {\r\n              name: '投票结果',\r\n              type: 'pie',\r\n              radius: '55%',\r\n              center: ['50%', '50%'],\r\n              data: data,\r\n              itemStyle: {\r\n                normal: {\r\n                  label: {\r\n                    show: true,\r\n                    formatter: '{d}%'\r\n                  },\r\n                  labelLine: {\r\n                    show: true\r\n                  }\r\n                },\r\n                emphasis: {\r\n                  shadowBlur: 10,\r\n                  shadowOffsetX: 0,\r\n                  shadowColor: 'rgba(0, 0, 0, 0.5)'\r\n                }\r\n              }\r\n            }\r\n          ],\r\n\r\n        };\r\n        myChart.setOption(option);\r\n      },\r\n\r\n\r\n    },\r\n\r\n  }\r\n</script>\r\n<style scoped>\r\n  .totalSurface {\r\n    width: 100%;\r\n    height: 100%;\r\n    display: flex;\r\n    flex-direction: column\r\n  }\r\n\r\n  .totalSurface .conBox {\r\n    width: 100%;\r\n    flex: 1\r\n  }\r\n\r\n  .totalSurface #con {\r\n    width: 100%;\r\n    height: 100%;\r\n  }\r\n</style>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./totalSurface.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./totalSurface.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./totalSurface.vue?vue&type=template&id=2c3392d6&scoped=true&\"\nimport script from \"./totalSurface.vue?vue&type=script&lang=js&\"\nexport * from \"./totalSurface.vue?vue&type=script&lang=js&\"\nimport style0 from \"./totalSurface.vue?vue&type=style&index=0&id=2c3392d6&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2c3392d6\",\n  null\n  \n)\n\nexport default component.exports","import http from '../../http';\r\nimport {Toast} from \"vant\";\r\n\r\n// 获取问卷列表\r\nconst getQuestionList = (reqData) => {\r\n    return new Promise((resolve, reject) => {\r\n        http.post('/hisense-systemServer/app/owner/questionMgr/getQuestionList.do',reqData,true, 'homeUrl').then(noteData => {\r\n            resolve(noteData);\r\n        }).catch(error => {\r\n            reject(error);\r\n        })\r\n    });\r\n}\r\n\r\n// 获取未完成问卷列表\r\nconst getQuestionNotItem = (reqData) => {\r\n    return new Promise((resolve, reject) => {\r\n        http.post('hisense-systemServer/app/owner/questionMgr/getQuestSubjectOption.do',reqData,true, 'homeUrl').then(noteData => {\r\n            resolve(noteData);\r\n        }).catch(error => {\r\n            reject(error);\r\n        })\r\n    });\r\n}\r\n//获取已完成问卷列表 \r\nconst getFinishQuestList = (reqData) => {\r\n    return new Promise((resolve, reject) => {\r\n        http.post('hisense-systemServer/app/owner/questionMgr/getFinishQuestList.do',reqData,true, 'homeUrl').then(noteData => {\r\n            resolve(noteData);\r\n        }).catch(error => {\r\n            reject(error);\r\n        })\r\n    });\r\n}\r\n\r\n//提交问卷 \r\nconst saveQuestion = (reqData) => {\r\n    return new Promise((resolve, reject) => {\r\n        http.post('hisense-systemServer/app/owner/questionMgr/savePaperAnswer.do',reqData,true, 'homeUrl').then(noteData => {\r\n            resolve(noteData);\r\n        }).catch(error => {\r\n            reject(error);\r\n        })\r\n    });\r\n}\r\n// 获取已完成问卷详情 /hisense-systemServer/app/owner/questionMgr/getFinishQuestData.do\r\nconst getFinishQuestData = (reqData) => {\r\n    return new Promise((resolve, reject) => {\r\n        http.post('hisense-systemServer/app/owner/questionMgr/getFinishQuestData.do',reqData,true, 'homeUrl').then(noteData => {\r\n            resolve(noteData);\r\n        }).catch(error => {\r\n            reject(error);\r\n        })\r\n    });\r\n}\r\n// 获取投票结果/hisense-systemServer/app/owner/questionMgr/getFinishQuestVoteData.do\r\nconst getFinishQuestVoteData = (reqData) => {\r\n    return new Promise((resolve, reject) => {\r\n        http.post('hisense-systemServer/app/owner/questionMgr/getFinishQuestVoteData.do',reqData,true, 'homeUrl').then(noteData => {\r\n            resolve(noteData);\r\n        }).catch(error => {\r\n            reject(error);\r\n        })\r\n    });\r\n}\r\n\r\n// 删除已完成问卷\r\nconst deletePaperData = (reqData) => {\r\n    return new Promise((resolve, reject) => {\r\n        http.post('hisense-systemServer/app/owner/questionMgr/deletePaperData.do',reqData,true, 'homeUrl').then(noteData => {\r\n            resolve(noteData);\r\n        }).catch(error => {\r\n            reject(error);\r\n        })\r\n    });\r\n}\r\n\r\n//判断是否已读\r\nconst savePaperReader = (reqData) => {\r\n    return new Promise((resolve, reject) => {\r\n        http.post('hisense-systemServer/app/owner/questionMgr/savePaperReader.do',reqData,true, 'homeUrl').then(noteData => {\r\n            resolve(noteData);\r\n        }).catch(error => {\r\n            reject(error);\r\n        })\r\n    });\r\n}\r\n\r\n// 获取问卷列表（新接口）\r\nconst getPaperList = (reqData) => {\r\n    return new Promise((resolve, reject) => {\r\n        http.get('xwj-property-question/paper/getPaperList', reqData).then(result => {\r\n            resolve(result)\r\n        }).catch(error => {\r\n            Toast('网络异常，请稍后重试！');\r\n            reject(error);\r\n        })\r\n    });\r\n}\r\n\r\n// 获取题目（新接口）\r\nconst getQuestInfo = (reqData) => {\r\n    return new Promise((resolve, reject) => {\r\n        http.get('xwj-property-question/quest/getQuestInfo', reqData).then(result => {\r\n            resolve(result)\r\n        }).catch(error => {\r\n            Toast('网络异常，请稍后重试！');\r\n            reject(error);\r\n        })\r\n    });\r\n}\r\n\r\n// 保存问卷已读（新接口）\r\nconst savePaperReaderNew = (reqData) => {\r\n    return new Promise((resolve, reject) => {\r\n        http.post('xwj-property-question/reader/savePaperReader',reqData,true).then(result => {\r\n            resolve(result);\r\n        }).catch(error => {\r\n            reject(error);\r\n        })\r\n    });\r\n}\r\n\r\n// 提交问卷答案（新接口）\r\nconst savePaperAnswer = (reqData) => {\r\n    return new Promise((resolve, reject) => {\r\n        http.post('xwj-property-question/answer/savePaperAnswer',reqData,false).then(result => {\r\n            resolve(result);\r\n        }).catch(error => {\r\n            reject(error);\r\n        })\r\n    });\r\n}\r\n\r\n// 查询问卷详情（新接口）\r\nconst getPaperDetail = (reqData) => {\r\n    return new Promise((resolve, reject) => {\r\n        http.get('xwj-property-question/paper/getAnswerPaperDetail', reqData).then(result => {\r\n            resolve(result)\r\n        }).catch(error => {\r\n            Toast('网络异常，请稍后重试！');\r\n            reject(error);\r\n        })\r\n    });\r\n}\r\n\r\n// 删除问卷（新接口）\r\nconst removeAnswer = (reqData) => {\r\n    return new Promise((resolve, reject) => {\r\n        http.post('xwj-property-question/answer/removeAnswer',reqData,true).then(result => {\r\n            resolve(result);\r\n        }).catch(error => {\r\n            reject(error);\r\n        })\r\n    });\r\n}\r\n\r\n// 检查用户是否已答问卷（新接口）\r\nconst checkUserAnswer = (reqData) => {\r\n    return new Promise((resolve, reject) => {\r\n        http.get('xwj-property-question/paper/checkUserAnswer', reqData).then(result => {\r\n            resolve(result)\r\n        }).catch(error => {\r\n            Toast('网络异常，请稍后重试！');\r\n            reject(error);\r\n        })\r\n    });\r\n}\r\n\r\n// 获取问卷分享url（新接口）\r\nconst getPaperShareUrl = (reqData) => {\r\n    return new Promise((resolve, reject) => {\r\n        http.post('xwj-sys-user/share/sharePaper',reqData,false).then(result => {\r\n            resolve(result);\r\n        }).catch(error => {\r\n            reject(error);\r\n        })\r\n    });\r\n}\r\n\r\n// 查询投票详细信息（新接口）\r\nconst getVoteDetail = (reqData) => {\r\n    return new Promise((resolve, reject) => {\r\n        http.get('xwj-property-question/paper/getVoteDetail', reqData).then(result => {\r\n            resolve(result)\r\n        }).catch(error => {\r\n            Toast('网络异常，请稍后重试！');\r\n            reject(error);\r\n        })\r\n    });\r\n}\r\n\r\nexport {\r\n    getQuestionList,\r\n    getQuestionNotItem,\r\n    getFinishQuestList,\r\n    saveQuestion,\r\n    getFinishQuestData,\r\n    deletePaperData,\r\n    getFinishQuestVoteData,\r\n    savePaperReader,\r\n    /*新接口*/\r\n    getPaperList,\r\n    getQuestInfo,\r\n    savePaperReaderNew,\r\n    savePaperAnswer,\r\n    getPaperDetail,\r\n    removeAnswer,\r\n    checkUserAnswer,\r\n    getPaperShareUrl,\r\n    getVoteDetail\r\n}","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./totalSurface.vue?vue&type=style&index=0&id=2c3392d6&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./totalSurface.vue?vue&type=style&index=0&id=2c3392d6&scoped=true&lang=css&\""],"sourceRoot":""}