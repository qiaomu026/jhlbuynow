(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4b2eec21"],{"0b8c":function(t,e,s){},1044:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAQCAYAAAAMJL+VAAAAAXNSR0IArs4c6QAAAXtJREFUOBGtVLtKxEAUzUwgVToFIYmFjd02kscHiK2IP2AjiIWFayHYW9j7BYJ+gD+wnZCYINhYKAiuZBG0XMSFJJ67JDIZJyvqDIS5j3PPzZ0zCQuCYLUsyxPDMFbwMDy61j3nfJf5vv9UVdWiLlaRhzE25CD/EIOa7VdMwfdAWmomJroSExyZeZ4/uK77jsCaziYgP0zT9MwkUjS5chxnGWZPU5OLLMsOiIs3hJZlbcPOGv8fe1ZzTSla1zKKIq8oihTCL/ylAY7lxTRNP47j56b+awIKUAKgTZiTBvCLfUK1IjnVTjUQSaDHEKKPEFsX4z/ZIN+BqJcy7lsDAqDJDZrMwwzlApUP8lOQH6tyrSMSAbZt78MfiLEOe1BjlemWyDIiDMM5/KeuIfqSnCMfb/6IDzVIkuRNladY5wSUpELcig2YY/KlNabcLHLCz2xAANyKW7zpFsyK/HpVFKNcE+jalSLLYIh+53neCEflg5im6eNLPZdxKv8TlBl4viPyPC0AAAAASUVORK5CYII="},"12ee":function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"mapForAddress",staticStyle:{height:"100%",width:"100%",display:"flex","flex-direction":"column"},attrs:{title:"确认收货地址"}},[i("navigation-bar",{staticClass:"titleBar",attrs:{pageName:t.title,bothWidth:t.headerItemWidth},on:{onLeftClick:t.onLeftClick}}),i("div",{staticClass:"searchBar",style:{marginTop:this.$stbHeight+50+"px"}},[i("div",{staticClass:"cityBtnDiv",on:{click:t.changeCity}},[i("div",{staticClass:"cityBtn"},[t._v(t._s(t.currentCity))]),i("img",{attrs:{src:s("1044")}})]),i("van-form",{attrs:{action:""}},[i("van-search",{staticStyle:{float:"right",padding:"0",width:"70%","margin-right":"4%","margin-top":"1%"},attrs:{id:"tipinput",type:"search",placeholder:"小区/写字楼/学校等",background:"#F7F7F7",shape:"round"},on:{input:t.tipInputting,click:t.gotoSearch},model:{value:t.inputAddress,callback:function(e){t.inputAddress=e},expression:"inputAddress"}},[i("div",{attrs:{slot:"left-icon"},slot:"left-icon"},[i("img",{staticClass:"searchIcon",attrs:{src:s("553a")}})])])],1)],1),i("div",[i("div",{directives:[{name:"show",rawName:"v-show",value:!t.isNetworkError&&!t.isShowSearch,expression:"!isNetworkError && !isShowSearch"}]},[i("div",{staticClass:"mapDiv"},[[t._m(0)]],2),i("div",{ref:"addressListDiv",staticClass:"addressListDiv",staticStyle:{flex:"1"}},[i("div",{staticClass:"address-list",style:{height:t.addressListHeight+"px"},attrs:{id:"addressListDiv"}},[i("ul",t._l(t.addressData,(function(e,o){return t.addressData?i("li",{on:{click:function(s){return t.goBack(e)}}},[i("i",{staticClass:"node-icon"},[i("img",0==o?{staticClass:"pointImg",attrs:{src:s("81c8")}}:{staticClass:"rollImg",attrs:{src:s("bf7f")}})]),i("div",{staticClass:"addressRightInfo"},[i("div",[i("div",0==o?{staticClass:"addressName",staticStyle:{color:"#FB5768"},attrs:{id:"name"}}:{staticClass:"addressName",staticStyle:{color:"#333333"}},[t._v(t._s(e.name))])]),i("div",[0!=e.address.length?i("div",{staticClass:"addressDetail",attrs:{id:"district"}},[t._v(t._s(e.address))]):t._e()])])]):t._e()})),0)])])]),i("div",{directives:[{name:"show",rawName:"v-show",value:!t.isNetworkError&&t.isShowSearch,expression:"!isNetworkError && isShowSearch"}]},[i("div",{ref:"advicelistDiv",staticClass:"advice-list",style:{height:t.addressadvicesHeight+"px"}},[i("ul",t._l(t.adviceAddress,(function(e,s){return e.location?i("li",{on:{click:function(s){return t.goBack(e)}}},[i("div",{staticClass:"rightInfo"},[i("div",[i("div",{staticClass:"addressName"},[t._v(t._s(e.name))])]),i("div",[0!=e.address.length?i("div",{staticClass:"addressDetail"},[t._v(t._s(e.address))]):t._e()])])]):t._e()})),0)])]),t.isNetworkError?i("div",{staticStyle:{"padding-top":"100px",height:"100%"}},[i("NetworkError",{attrs:{subTitle:"",customBg:"transparent"}})],1):t._e()])],1)},o=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"map"},[s("div",{staticStyle:{height:"7rem"},attrs:{id:"GDMap"}},[s("div",{staticClass:"shop-content-marker"})])])}],n=(s("ac6a"),s("5df3"),s("386d"),s("7f7f"),s("0aa6")),a=s("dcbb"),r=s("471e"),A=s("da6f"),c=s("d399");function d(t,e){return s(t);function s(t){var s=document.createElement("script");document.body.appendChild(s);var o=new Promise((function(t,o){s.addEventListener("load",(function(o){i(s),e||t(o)}),!1),s.addEventListener("error",(function(t){i(s),o(t)}),!1),e&&(window.____callback____=function(){t(),window.____callback____=null})}));return e&&(t+="&callback=____callback____"),s.src=t,o}function i(t){document.body.removeChild(t)}}var l={name:"mapForAddress.vue",components:{NavigationBar:n["a"],NetworkError:a["a"]},directives:{focus:{update:function(t,e){var s=e.value;s&&t.focus()}}},data:function(){return{title:"确认收货地址",headerItemWidth:{width:"84px"},isShowSearch:!1,searchKey:"",focusState:!0,inputAddress:"",setAddressInput:"",expressMap:null,autoComplete:null,geoLocation:null,geoCoder:null,currentCity:"全国",district:"",province:"",address:"",mapAdress:"",isNetworkError:!1,isBackSocketError:!1,adviceAddress:[],addressData:[],screeHeight:document.body.clientHeight,addressListHeight:"",addressadvicesHeight:"",setTopHeight:{"padding-top":this.$stbHeight+"px"},pointAddressData:{address:""},AMap:null,thisPosition:{location:"",lng:"",lat:""},currentPosition:{lng:"",lat:""},setAddressData:{}}},created:function(){},activated:function(){var t=this;this.$route.query.currentCity&&(this.currentCity=this.$route.query.currentCity,this.autoComplete.setCity(this.currentCity)),this.$nextTick((function(){t.addressListHeight=t.screeHeight-t.$refs.addressListDiv.offsetTop-10,t.addressadvicesHeight=t.screeHeight-t.$refs.advicelistDiv.offsetTop}))},beforeRouteEnter:function(t,e,s){console.log(t),"/choseCityForAddress"!==e.fullPath?s((function(t){t.isNetworkError=!1,t.$route.params.recAddr&&(t.mapAdress=t.$route.params.recAddr),t.$route.params.recCity&&(t.currentCity=t.$route.params.recCity),t.mapinit()})):s()},methods:{onLeftClick:function(){this.isShowSearch?this.isShowSearch=!1:(this.inputAddress="",this.$router.go(-1))},goBack:function(t){console.log(t);var e=this;this.AMap.plugin("AMap.Geocoder",(function(){var s=new AMap.Geocoder({city:e.currentCity}),i=[t.location.lng,t.location.lat];s.getAddress(i,(function(s,i){if("complete"===s&&"OK"===i.info){console.log(i);var o={areaLatitude:t.location.lat,areaLongitude:t.location.lng,recAreaName:t.address+t.name,recCity:""==i.regeocode.addressComponent.city?i.regeocode.addressComponent.province:i.regeocode.addressComponent.city,recDistrict:i.regeocode.addressComponent.district,recProvince:i.regeocode.addressComponent.province};A["a"].get("updatePageData")(o),e.isShowSearch=!1,e.mapAdress="",e.inputAddress="",e.$router.go(-1)}else this.$toast("查询功能异常，请稍后重试")}),(function(){this.$toast("网络异常，请稍后重试")}))}))},searchInputFocus:function(t){var e=t.srcElement;console.log("【输入框】searchInputFocus "+e.value.length);var s=e.value;e.value="",e.value=s},tipInputting:function(t){var e=this;console.log(t),this.autoComplete.search(t,(function(t,s){console.log(s),e.adviceAddress=s.tips}))},gotoSearch:function(){this.autoComplete.setCity(this.currentCity),this.isShowSearch=!0},mapinit:function(){var t=this,e=this;Object(r["a"])().then((function(t){e.AMap=new t.Map("GDMap",{zoom:10,center:[120.382689,36.066971],animateEnable:!0,resizeEnable:!0}),t.plugin("AMap.Autocomplete",(function(){var s={city:e.currentCity};e.autoComplete=new t.Autocomplete(s)})),""==e.mapAdress?e.getCurrentLocation():e.getAddressPosition(e.mapAdress)})).catch((function(e){t.isNetworkError=!0,console.log("地图加载失败 "+e)}))},mapMarker:function(t,e){var i=this;window.AMapUI?AMapUI.loadUI(["misc/PositionPicker"],(function(o){console.log("111");var n=new AMap.Map("GDMap",{zoom:16});n.setCenter(new AMap.LngLat(t,e));var a=new o({mode:"dragMap",map:n,iconStyle:{url:s("5785"),ancher:[0,0],size:[14,25]}});a.on("success",(function(t){console.log("positionResult",t),i.thisPosition.location=t.address,i.thisPosition.lng=t.position.lng,i.thisPosition.lat=t.position.lat,i.addressData=t.regeocode.pois,i.currentCity=""==t.regeocode.addressComponent.city?t.regeocode.addressComponent.province:t.regeocode.addressComponent.city,i.province=t.regeocode.addressComponent.province,i.district=t.regeocode.addressComponent.district})),a.on("fail",(function(t){Object(c["a"])("定位失败，请检查定位设置"),console.log(t)})),a.start(),n.panBy(0,1)})):Promise.all([d("https://webapi.amap.com/ui/1.0/main.js")]).then((function(){AMapUI.loadUI(["misc/PositionPicker"],(function(o){console.log("111");var n=new AMap.Map("GDMap",{zoom:16});n.setCenter(new AMap.LngLat(t,e));var a=new o({mode:"dragMap",map:n,iconStyle:{url:s("5785"),ancher:[0,0],size:[14,25]}});a.on("success",(function(t){console.log("positionResult",t),i.thisPosition.location=t.address,i.thisPosition.lng=t.position.lng,i.thisPosition.lat=t.position.lat,i.addressData=t.regeocode.pois,i.currentCity=""==t.regeocode.addressComponent.city?t.regeocode.addressComponent.province:t.regeocode.addressComponent.city,i.province=t.regeocode.addressComponent.province,i.district=t.regeocode.addressComponent.district})),a.on("fail",(function(t){Object(c["a"])("定位失败，请检查定位设置"),console.log(t)})),a.start(),n.panBy(0,1)}))}))},changeCity:function(){this.$router.push({name:"choseCityForAddress",params:{city:this.currentCity}})},getCurrentLocation:function(){var t=this;this.AMap.plugin("AMap.Geolocation",(function(){var e=new AMap.Geolocation({enableHighAccuracy:!0,buttonOffset:new AMap.Pixel(10,20),showCircle:!1,showButton:!1,zoomToAccuracy:!0});function s(e){console.log(e),e&&(t.currentPosition.lng=e.position.lng,t.currentPosition.lat=e.position.lat,e.addressComponent&&(t.currentCity=e.addressComponent.city),t.mapMarker(e.position.lng,e.position.lat))}function i(e){console.log("定位失败错误：",e),"Geolocation permission denied."==e.message?t.$toast("获取定位失败，请检查权限设置"):t.$toast("获取定位失败")}t.AMap.addControl(e),e.getCurrentPosition(),AMap.event.addListener(e,"complete",s),AMap.event.addListener(e,"error",i)}))},decoderPosition:function(t,e){var s=this;this.AMap.plugin("AMap.Geocoder",(function(){var i=new AMap.Geocoder({city:s.currentCity}),o=[t,e];i.getAddress(o,(function(t,e){"complete"===t&&"OK"===e.info&&console.log(e)}))}))},getAddressPosition:function(t){var e=this;this.AMap.plugin("AMap.Geocoder",(function(){var s=new AMap.Geocoder({city:e.currentCity});s.getLocation(t,(function(t,s){"complete"===t&&"OK"===s.info&&(console.log(s),e.mapMarker(s.geocodes[0].location.lng,s.geocodes[0].location.lat))}))}))}}},u=l,p=(s("3d20"),s("9d82"),s("2877")),g=Object(p["a"])(u,i,o,!1,null,"be944a14",null);e["default"]=g.exports},"386d":function(t,e,s){"use strict";var i=s("cb7c"),o=s("83a1"),n=s("5f1b");s("214f")("search",1,(function(t,e,s,a){return[function(s){var i=t(this),o=void 0==s?void 0:s[e];return void 0!==o?o.call(s,i):new RegExp(s)[e](String(i))},function(t){var e=a(s,t,this);if(e.done)return e.value;var r=i(t),A=String(this),c=r.lastIndex;o(c,0)||(r.lastIndex=0);var d=n(r,A);return o(r.lastIndex,c)||(r.lastIndex=c),null===d?-1:d.index}]}))},"3d20":function(t,e,s){"use strict";var i=s("0b8c"),o=s.n(i);o.a},"553a":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAYAAAByDd+UAAAAAXNSR0IArs4c6QAAA+VJREFUSA2tlktIVGEUx507NoXQC6EoKkxzXAihyBBEFAVBOTpoYCRWEG1qYRJli6CQXptaVbTIdkVCQpqmhUFMuMrCoEB8oKssiCxFZrJx1H7/O/eLa2k+mgPfPec7r//3PteTMgeFQqH1k5OToampqf24ZsE3ejyeVPgQ/UHLssLIbYFA4FVNTc3kHOlSPLM5BIPBTBJdxl5Om9XPxDOIbuSraWlpdfX19RNG/yefMVFRUdE5ZnUF5yUKIFkM9pLWgfwZ2xgzy6CvQe2ibUK2CXu71+s91NTU9Mno3HwaYGVl5dKBgYF7JDjsOH0jwTUS3CXBqDvQyGVlZd5oNBokpgrdHkf/BR5qbW19bfwMnwbIMj4gsEJGgFpgR1paWr4b57l4YWHhKXxu0JYQP+Tz+bY3NDT0uuMs09EyusDucAhCCwFTHmZ0k9XYCdgoudJjsdgzDt1ygyHu1cc5II/V18wAOzqfE6fYP6m3t/djTk5OH4AHsa2mpaJ7YfxswOzs7Nso8mjas921tbU/jMNiOABdfr8/ndhttEBubm5dd3e3vTWW7hlKHX3t27WFLqPiZiJO8SX0P5mpb3x8/JjxsXSp6YDliek0GsP/8ubm5q+APnLy2BOSbDECvSCil7Md/YR54V8A7ysKjMySkpIMyQLcIgHqSLDkfVk1vT42TUxM+CXoWmyQAPCML4Nsi6X8/PxBbZXi2boMcQtFqgQommDJ+zpXK+JkjItrSfXqp7De68STSRUVFSvIr7sosiekJR1UD0OWeDJpZGRks8nHhPolw62wBAALxZNJ5NyrfGxbtKCg4J1kLWmbBGhDcXHxjoT4/1/yemgnnExh9jOxh6rUjMA+vhxd1cCkEC9YkET2NgF8yyT1hsPhKd69ERQHaBnI/X19fe+Nw2I4YGsZvMqbKsUHqsgZk8cuT/otYJbtUjKaWpY2YBwWylWQAasjTqc+znN53J3DBtQ/CIZDGFSplxHwgmK6z+04H7m0tHRNJBJpY9C75c8kLvOmvnHHek2np6dnlDLVjlMputXwcvor8/Ly3nZ1df2zXAHg6ezsLIrH40+J3WpywrOpjeOUq9/P5rRfDDkySr8qNUky1Qd4GPaQ6/OEVehobGxUP4WlW8lsNqPfg+9JmnmT45oZLqfRrZIv/YuUPelm/v3TbwFv3wUCqmg+ORoiWLMdQ29eEGMS/6A90zLyF3EWn+vGaED/mqFxEKekZDnFs5xge8Zuu2QS6ckKY7/FaXzutgOqQV8yOnyr/wloHMVVzzhMfufV149uhOXs1wtiLrXb38huUACH5w1oEiyGc+KrATtP7L1fPBe5kniRYVYAAAAASUVORK5CYII="},5785:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAuCAYAAAA2oQl1AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAGqADAAQAAAABAAAALgAAAAAYaKhMAAACrklEQVRYCe1YMWtUQRCe2Xf+AKsDCwVBk4AWKv4AlQgWQUUwImLtaWOlnVyrlU08axExgqiksAjqDxBrTwXBKxJS+QNyb8f5luzm3bt9++6ZGCxum92d+fabnZndnbvHVNNk8c5Ra+SSWJkXpoMsdABLdLym4wEbXjWW3/Ly0vcUFVcp5XrnVG7pkYicrcIU5cz8MTN0j1/0vhTlfjxmSLrdVt7feEwit4VoTO8XxnoFCzE/yWbbd7nbHRYxI0Tqxf48p9dCcqYIajpm4k9ZRlfUu99+rfED58kuGAEfNuo2rNHx/MEQwrVTTzxpMIYUbDUXOpf4XD43zYknqeqRsyzj0zggziN3uhomvoq8KMfGwQ0Zy43OzHBT+kVAbMxzR8gszBMfPuTU8vMX2ZVVkq8/YvARWYuymZbN+SLSl2rm8gUyVxd0W9uHlE8ep+zEMbKvVsi+eZ9aTrjwBjc+hXKelIwEvBrGBoBJNdgweFZSIISr6MkYFsaASTTYMP7tqsL5nFTpIa/DwEa4RyminetEELq1FBFOV12rwwjzOkI3SBHhCOsDWw1RncNUI/QO0cCgniQw7p7gCEeNwYjq6u4SbOzZhXU3cHit82HSApfyPqZDQWy97J1zp85VxrrnIcZSI3OPqlZdwJwhV361Mtasa65WTl/awz1y5VcrY3O2+ApXZbWke+32K6mSPSnlsIwan821z2sClxBfv5tJe6zBWsdR+L3guKtI/vnPrbJhFEbULGvtw7IOc2PMfZPJO37e+xbTe9lIjrww1m8u3oqGct/y04k4wqmLke+mbGror6M5Dd00dCEC08MQQtF0MA1d04gF/P8XOv0btB62tzWIycoYP5/YI/0k8swv8n1M5nXlPnxwKCvK89Zs+8Gwv6HfbOQmdDACWRlXNf8DmV0Llk5xqzQAAAAASUVORK5CYII="},"5df3":function(t,e,s){"use strict";var i=s("02f4")(!0);s("01f9")(String,"String",(function(t){this._t=String(t),this._i=0}),(function(){var t,e=this._t,s=this._i;return s>=e.length?{value:void 0,done:!0}:(t=i(e,s),this._i+=t.length,{value:t,done:!1})}))},"81c8":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAYCAYAAADzoH0MAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAEKADAAQAAAABAAAAGAAAAAAEJTozAAAB/ElEQVQ4Ee1Tv0scURCeeXt3EVOJoJLC0hwGokVIYZniwMLGwvgDUkmIRBAs/AESrhA0KawULWxFz0IIFoKF/4BFglxCtAwhaCCkUDDe3e4489z3MrfeBf8AF5Y3833zfW/e21mExENDb59UomgUgHII2C40AX0HwP2UMeu4ufJFS9AllM9nwm9nS5yPEZFxuF4RMeJ8Nci2TmI+XxLOGsTiPRa+0IJ6MRsdsEmvmNidZOe7isVUauNuAeXMIUVHum1sbgIz0g/Y2WGboK8nEG3sAP3+45uS4wRonqbiC/NnFnHwYQ7gYeO/4p5nEHR1Qjg1701kwwpFoyyknK/kQHbWYs+xoeU8IAHljPtUDndtu1yvSU600vqlLoLAn6YKtslt7lKqi7qSisc6rYprcEXDI/NJV0WFjwDnFxq6iRmznGJEi/Rqoj0sXR0TQYPjsK0FzEAf4PNuC9HhZxbvAp3+ciWACH+DzIPHdhLLg2OLPB3Tno0DzKRvDErlJMUzjO/TW6sz9sZS2dZ37LidrCIWypt8eIgKohHcGshMB9m2ITC4xEa3FbGD5biG/4Phqp9J70CD448qEI7zkWY1zi0vpCBYxq3lnxr3v7MGJS6/fEMaSxfWatb+Z2q0vH58bxDPQa0r4m/+w+E6dphb618i4WsRWjHHTpBcrwFR1bMsUbEQuwAAAABJRU5ErkJggg=="},"83a1":function(t,e){t.exports=Object.is||function(t,e){return t===e?0!==t||1/t===1/e:t!=t&&e!=e}},"924c":function(t,e,s){},"9d82":function(t,e,s){"use strict";var i=s("924c"),o=s.n(i);o.a},bf7f:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAEKADAAQAAAABAAAAEAAAAAA0VXHyAAABSUlEQVQ4EaVTMW6EMBC0rUDBBxBNeECkFDwhBVJETwFtmlNS5SGpckqTFgp6dBLFPYEiUj6Qjg9QgGRux7Itx0pOOWULvN7ZGS/rNWeetW17I6V8oHDOOb8GvG3bFy2DEOK9qqpPxIxx43RdF67r+kLJO4oJE/dWSaJvQRA8l2W5AFMCmnwg8p1H+HFLIkcSuYeIOkmf/CcyFHEQOPC5/ucP8m3ZURSxLMtYHMfIYdM0sXEc2TzPaq8/knpye6Ub9o1cFAULw9Amp2nKkiRhfd+7IgJcEHObSQ5OdskGQwyYZ7kwV2UAU7bZu6uPgWtLdxMv8YUeEstBw34zHwMXFQwuAd1eFjUjbljFgHk2/Psa1SQ2TfNK5Tx66me31MB9XddPqomYbYznWYYDIhcchJQAZhqzDVWKSSfXd/GY9uYdALSv0WRe+pxPCO6cpEvSSSEAAAAASUVORK5CYII="}}]);
//# sourceMappingURL=chunk-4b2eec21.2020111117.js.map