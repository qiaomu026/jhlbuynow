(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-487f5dae"],{"296c":function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"chooseCityForAddress",staticStyle:{height:"100%",background:"#F7F7F7",display:"flex","flex-direction":"column"},attrs:{title:"选择城市"}},[i("div",{staticClass:"searchBar",style:{paddingTop:this.$stbHeight+"px",flex:1,overflow:t.hidden}},[i("van-form",{attrs:{action:""}},[i("van-search",{attrs:{"show-action":"",shape:"round",type:"search",placeholder:"请输入城市名"},on:{search:t.onSearch,cancel:t.onCancel,click:t.showSerchView,clear:t.onClear,blur:t.onClear},scopedSlots:t._u([{key:"action",fn:function(){return[i("div",{staticClass:"searchActionBtn",class:{searchBtn:!t.searchNull},on:{click:t.searchBtnAction}},[t._v(t._s(t.searchNull?"取消":"搜索"))])]},proxy:!0}]),model:{value:t.searchText,callback:function(e){t.searchText=e},expression:"searchText"}},[i("div",{attrs:{slot:"left-icon"},slot:"left-icon"},[i("img",{staticClass:"searchIcon",attrs:{src:s("553a")}})])])],1),i("div",{directives:[{name:"show",rawName:"v-show",value:!t.showSearch,expression:"!showSearch"}],staticStyle:{flex:"1",display:"flex","flex-direction":"column",overflow:"hidden"}},[i("div",{staticClass:"currentCityDiv"},[i("div",{staticClass:"firstLine"},[t._v("当前定位")]),i("div",{staticClass:"secLine",on:{click:t.getCurrentLocation}},[i("div",{staticClass:"leftDiv"},[i("img",{attrs:{src:s("854b"),width:"14",height:"14"}}),i("div",{staticClass:"cityDiv"},[t._v(t._s(t.currentCityName))])]),i("div",{staticClass:"rightDiv"},[i("img",{attrs:{src:s("cb29"),width:"14",height:"14"}}),i("div",{staticStyle:{color:"#fb5768"},on:{click:t.getCurrentLocation}},[t._v("重新定位")])])])]),i("div",{staticClass:"spanDiv"},[t._v(" ")]),i("div",{staticClass:"citySearch",attrs:{id:"citySearch"}},[i("van-index-bar",{directives:[{name:"show",rawName:"v-show",value:!t.showSearch,expression:"!showSearch"}],ref:"vanInddexBar",staticStyle:{height:"100%",overflow:"auto"},attrs:{sticky:!1,"index-list":t.indexList,"highlight-color":"#FB5768"},on:{select:t.selectIndexBar}},t._l(t.cities,(function(e,s){return i("div",{key:s},[i("van-index-anchor",{attrs:{index:e.firstSpell}}),t._l(e.cityList,(function(e){return i("van-cell",{key:e.cityCode,class:{listThemeL:t.bindThemeL},attrs:{title:e.cityName,border:t.hasBorder},on:{click:function(s){return t.selectCityAction(e)}}})}))],2)})),0)],1)]),t.showSearch?i("div",{staticStyle:{height:"100%",overflow:"scroll"}},t._l(t.searchResults,(function(e){return i("van-cell",{key:e.cityCode,class:{listThemeL:t.bindThemeL},attrs:{title:e.cityName,border:t.hasBorder},on:{click:function(s){return t.selectCityAction(e)}}})})),1):t._e()],1)])},c=[],n=(s("4917"),s("ac4d"),s("8a81"),s("ac6a"),s("456d"),s("7f7f"),s("226f")),A=s("471e"),a={name:"choseCityForAddress",data:function(){return{cities:[],selectCity:{},searchText:"",searchNull:!0,showSearch:!1,allCityList:[],indexList:[],searchResults:[],cityName:"",bindThemeL:0!=this.$curTheme,hasBorder:0==this.$curTheme,currentCityName:""}},mounted:function(){this.getAllCityInfoService(),this.getCurrentLocation(),setTimeout((function(){document.querySelector("#citySearch").append(document.querySelector(".van-index-bar__sidebar"))}),100)},beforeRouteLeave:function(t,e,s){"mapForAddress"==t.name&&0!=Object.keys(this.selectCity).length&&(console.log(this.selectCity),t.query.currentCity=this.selectCity.cityName),s()},watch:{searchText:function(){""!==this.searchText?this.searchNull=!1:this.searchNull=!0}},methods:{selectIndexBar:function(t){var e=this;this.$nextTick((function(){e.$refs.vanInddexBar.$el.scrollTop+=1,console.log()}))},onSearch:function(){this.searchResults=[];var t=!0,e=!1,s=void 0;try{for(var i,c=this.allCityList[Symbol.iterator]();!(t=(i=c.next()).done);t=!0){var n=i.value;n.cityName.match(this.searchText)&&this.searchResults.push(n)}}catch(A){e=!0,s=A}finally{try{t||null==c.return||c.return()}finally{if(e)throw s}}console.log(this.searchResults),0==this.searchResults.length&&this.$toast("没有搜索到该城市")},onCancel:function(){this.$router.back(-1)},showSerchView:function(){this.showSearch=!0},onClear:function(t){console.log("=============>"+t),this.showSearch=!1},getAllCityInfoService:function(){var t=this;Object(n["k"])().then((function(e){console.log(e),t.cities=e.data,e.data.forEach((function(e){t.indexList.push(e.firstSpell),t.allCityList=t.allCityList.concat(e.cityList)}))})).catch((function(t){console.log(t)}))},searchBtnAction:function(){this.searchNull?this.onCancel():this.onSearch()},selectCityAction:function(t){console.log(t),this.selectCity=t,this.$router.back(-1)},getCurrentLocation:function(){var t=this;Object(A["a"])().then((function(e){e.plugin("AMap.Geolocation",(function(){var s=new e.Geolocation({enableHighAccuracy:!0,timeout:1e4});function i(e){console.log(e),e.addressComponent&&(t.currentCityName=""==e.addressComponent.city?e.addressComponent.province:e.addressComponent.city),console.log("定位结果："+t.currentCityName)}function c(t){console.log("定位失败错误：",JSON.stringify(t))}s.getCurrentPosition(),e.event.addListener(s,"complete",i),e.event.addListener(s,"error",c)}))})).catch((function(t){console.log("地图加载失败！"+t)}))}}},o=a,r=(s("b86f"),s("2877")),l=Object(r["a"])(o,i,c,!1,null,"ac3aec3a",null);e["default"]=l.exports},"2a0e":function(t,e,s){},"553a":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAYAAAByDd+UAAAAAXNSR0IArs4c6QAAA+VJREFUSA2tlktIVGEUx507NoXQC6EoKkxzXAihyBBEFAVBOTpoYCRWEG1qYRJli6CQXptaVbTIdkVCQpqmhUFMuMrCoEB8oKssiCxFZrJx1H7/O/eLa2k+mgPfPec7r//3PteTMgeFQqH1k5OToampqf24ZsE3ejyeVPgQ/UHLssLIbYFA4FVNTc3kHOlSPLM5BIPBTBJdxl5Om9XPxDOIbuSraWlpdfX19RNG/yefMVFRUdE5ZnUF5yUKIFkM9pLWgfwZ2xgzy6CvQe2ibUK2CXu71+s91NTU9Mno3HwaYGVl5dKBgYF7JDjsOH0jwTUS3CXBqDvQyGVlZd5oNBokpgrdHkf/BR5qbW19bfwMnwbIMj4gsEJGgFpgR1paWr4b57l4YWHhKXxu0JYQP+Tz+bY3NDT0uuMs09EyusDucAhCCwFTHmZ0k9XYCdgoudJjsdgzDt1ygyHu1cc5II/V18wAOzqfE6fYP6m3t/djTk5OH4AHsa2mpaJ7YfxswOzs7Nso8mjas921tbU/jMNiOABdfr8/ndhttEBubm5dd3e3vTWW7hlKHX3t27WFLqPiZiJO8SX0P5mpb3x8/JjxsXSp6YDliek0GsP/8ubm5q+APnLy2BOSbDECvSCil7Md/YR54V8A7ysKjMySkpIMyQLcIgHqSLDkfVk1vT42TUxM+CXoWmyQAPCML4Nsi6X8/PxBbZXi2boMcQtFqgQommDJ+zpXK+JkjItrSfXqp7De68STSRUVFSvIr7sosiekJR1UD0OWeDJpZGRks8nHhPolw62wBAALxZNJ5NyrfGxbtKCg4J1kLWmbBGhDcXHxjoT4/1/yemgnnExh9jOxh6rUjMA+vhxd1cCkEC9YkET2NgF8yyT1hsPhKd69ERQHaBnI/X19fe+Nw2I4YGsZvMqbKsUHqsgZk8cuT/otYJbtUjKaWpY2YBwWylWQAasjTqc+znN53J3DBtQ/CIZDGFSplxHwgmK6z+04H7m0tHRNJBJpY9C75c8kLvOmvnHHek2np6dnlDLVjlMputXwcvor8/Ly3nZ1df2zXAHg6ezsLIrH40+J3WpywrOpjeOUq9/P5rRfDDkySr8qNUky1Qd4GPaQ6/OEVehobGxUP4WlW8lsNqPfg+9JmnmT45oZLqfRrZIv/YuUPelm/v3TbwFv3wUCqmg+ORoiWLMdQ29eEGMS/6A90zLyF3EWn+vGaED/mqFxEKekZDnFs5xge8Zuu2QS6ckKY7/FaXzutgOqQV8yOnyr/wloHMVVzzhMfufV149uhOXs1wtiLrXb38huUACH5w1oEiyGc+KrATtP7L1fPBe5kniRYVYAAAAASUVORK5CYII="},"854b":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAaCAYAAACpSkzOAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAGqADAAQAAAABAAAAGgAAAABMybYKAAACaUlEQVRIDbWWPYgTQRTH35udKIoBwcOPwkKs1MKziB/N2aSysLEwEBQVJetpkGtsbFJZWBoJkRMVJZA0KhY2Z2XpB2LjaSEWfsXDQoiKx+3M803OCbub3WSzuQuEN++9mf/vzezbSRBW6UPF8weVAheI8gSiiSvJoTOXs/pPp6iJXNbda7UR8au0zjiWCu4+RVBSvztFAtoQoTWXekc0M7NOtf8WyFRPsD9CvBeSEg+NDKJiebenVAmJTnL1G3tq8YM3mVZ9MtHRUaWyRr1fOEZau563NGU0KV44kBGIdRMYCKLj5Z2e8ErqXfs0EUwEFBI4CPhLrM82IkFcvVTzC0cBtatoKQ8aMGn1/Wxq4O1rnQCICtPbPYBzXP1ZFt6W+Gz61XsRB+GmdSQVLhxQpK/w9wgHnfTVW8n/FuE5NuuvbVQqUA+7O7CRFbL8knabwMoJQCjzQ3vEff7FBse1rPfTyW5p+XUC7xGdmt6qFiHHHZZDoBxP5DFt8i9INEZxPdOsXfLPDYD8CTumExd3KI8YqHPcIHl+gyZtLs5KmdmDjepbf34oyD+ZW194899fDYE945vgsH+dGYtwYJCPlYrmFXMD5wgRaAI7dySQWYQgXtrFYYsIP5wJ50E4bvyRQY7EF1FCJkaId7BaXYzKjwzC+zc+msrDYvywSWrZuwnC+ZFBywLYf3wIT7FV/RAGWD8ViCDi+Ci6CcYC8dEFnhP735xdmx9b0SibakfO2iCI/+Xc4tbnyz/+kwqEd2tt3sVnI8tNoPjXczYesZxJBeouJdsQ+ASbtU+rB0Jxj2/ptiPh6jCIyf8DPtbEum+jvpkAAAAASUVORK5CYII="},b86f:function(t,e,s){"use strict";var i=s("2a0e"),c=s.n(i);c.a},cb29:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAJKADAAQAAAABAAAAJAAAAAAqDuP8AAADsElEQVRYCc1YMW/TQBR+z3EWBqROVFURLIhWncsILAwgGJCApP0BVVIGJEACMWVCVAIkBkjFD2hTQEICCkMXYKRzaRELqKgqExIDS20/3neOy9lx0sR1RCw1d/a9933Pd+/dfS5RDpdXqizjLwcocvMAEaJzeeAAw8kLKC8c7hVIajXH+7J9mgK+wCwT6j8uQqPAYaYf2qyL8Bo58to9Pvyea7UAY91eXQckM7UDwe/tG0JcEZGRbgiYeYtJ5p2Dww/4ae1PVz7dGHnl2UtE8lADOWzsmb7qai+ww58KRGue73/Dc7dQOOoTTUggJ4iCaRI6huca2Kb+XncbT17gvtPVcYbM8mz8vEsit0IQXnULzk1eePzRBt0pVTSviYpL8zE8mb560vOD+/oyk8aeec4dO3Sn0zLGAGwSBONvbC9qflzR3NhhoWtOoz6vb2vIbVtT8vrcbdTP28/R11nloFytCNMjxSoq1rPC2PBUu6DaBrRTrt7DzGgAvwpMF3mx/iFJ1su9TFVP+UIvNcAhXcO5YqN+O80/NSDkjEjwHDNTYD6z32Ai4jAoWQlnyrmcllMt+xCqCQkMECxTXsEYPJ1lYIYBapEYrvAu+m0JyJS2qSZeRc5Ehnm1ISavomLBlcSNBYRExj4DI1NNKQmcBOj1HkUBbPiZPU05bYzYDXZgjXyEdJ9JlrbttN++wVYOcJld3wKMBYTjIBxzFiybPnWbHLucTWabTWcTZxNhB7af96MfcUScEUdSfoxjAMdBZLBX65WqZ7Ucnxo74Rl3qf5uLx+MmyMnNDSckQ9jl22nZzQBl9N238gZrVeubNqnvduYD88728jq78UXzyHL8X91Yzt19LY4tbUSvncTVNYl04P3CFQCNJQ9q8kcWtcgRiEhtO0qoGbOdFymtBdrcmAInLtXbMn0RP6MkVDP7Nr0pRNxGHVpMcQC0uevwjEVV32/mhwqdW2qWEBGA6vshNKDuLIN8+wbbOXQKt4Cp40dCwiiCRoYBlB6urXHkt52zNoHZqgidQNWrqRQiwUEEiPIjQaWSSi9rMTt/EJMmdTZ2QRX0i51BgZKoCFio+RUZkLZGdmp8jP5Jr3e/5OwVISETVOLwGxZsojIfB2oINc1H/JFVvxSpdoup3AceOXqm8jXbuHjT83OAgNYEPnAtm3sfuqSRQYD9RkUBYV2YD4U7aAG6lM6Flif/9lgc2Xu41M6+pzODNJ0bFtl+wXO6p+UH5lwtFTf6t7S8s2fBewvnY7vzaUDReEAAAAASUVORK5CYII="}}]);
//# sourceMappingURL=chunk-487f5dae.6611b3b7.js.map