{"version":3,"sources":["webpack:///./src/assets/images/find/find_white.png","webpack:///./src/assets/images/mall/search_voice.png","webpack:///./src/components/addImage/AddImage.vue?ca41","webpack:///src/components/addImage/AddImage.vue","webpack:///./src/components/addImage/AddImage.vue?e21c","webpack:///./src/components/addImage/AddImage.vue","webpack:///./src/page/Find/AddNotePage.vue?fe23","webpack:///./src/components/addImage/AddImage.vue?0350","webpack:///./src/assets/images/mall/no_voicesearch_img.png","webpack:///./src/assets/images/mall/search_voice.gif","webpack:///./src/page/Find/AddNotePage.vue?366d","webpack:///src/page/Find/AddNotePage.vue","webpack:///./src/page/Find/AddNotePage.vue?e026","webpack:///./src/page/Find/AddNotePage.vue"],"names":["module","exports","render","_vm","this","_h","$createElement","_c","_self","staticClass","_l","picUrl","picIndex","key","style","width","imageWidthAndHeight","height","attrs","on","$event","deletePicture","preview","accountAddImage","isShowAdd","addAction","_e","ref","images","staticRenderFns","name","props","maxImageCount","type","Number","default","selectPictures","Array","Boolean","isUpload","data","uploadImageList","loading","components","Preview","mounted","ulDom","offsetWidth","computed","length","maximumImagesCount","watch","newValue","console","log","uploadFile","$emit","methods","$refs","myPreview","setIndex","startPosition","setIsShowPreview","$store","dispatch","splice","addSelect","index","getPicture","useCamera","$plugin","usePlugin","options","file","source","business","totalNum","num","forEach","params","item","dealResult","flag","component","staticStyle","_t","themeCurrent","goBack","slot","_v","class","postText","clickRight","_s","navBarText","postContentL","bindThemeL","checkNo","directives","rawName","value","expression","clearCusor","isShowSpeechDiv","textPlaceholder","domProps","target","composing","inputLength","pageType","defaultImgList","showAddSheetControll","upDateImageData","changeStatus","_m","noteCat","goRepair","isNoRecognizeResult","isShowSpeechResult","recognizeResult","actions","model","callback","$$v","showAddSheet","activated","$curTheme","state","find","addNotePageParams","beforeRouteLeave","keyboardhide","next","activeIndex","isShowVoiceBtn","isPressSpeechBtn","isHasAudioPermissions","AddImage","NavigationBar","maxCount","substr","btnNum","$router","push","query","postMessage","addNote","$toast","addReport","newImageData","title","message","$userInfo","addNoteAction","areaCodeList","AREA_CODE","content","isProperty","userCode","OWNER_CODE","buildCode","BUILD_CODE","buildName","BUILD_NAME","roomCode","ROOM_CODE","roomName","ROOM_NAME","unitNo","UNIT_NO","getPictureData","selectIndex","previewId","back","goToSpeech","_this","pressTimer","ifly","cordova","plugins","IflyForXwjPlugin","e","button","voiceBtnKeyBoard","background","setTimeout","sendVal","startListen","stopSpeech","stopListen","changeSpeechBtnVisible","textArea","focus","clearTimeout","checkAudioPermissions","isiOS","list","permissions","requestPermissions","$devicePlatform","keyboardshow","bottom","keyboardHeight"],"mappings":"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","file":"js/chunk-bed971b6.79dc8447.js","sourcesContent":["module.exports = \"data:image/png;base64,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\"","module.exports = \"data:image/png;base64,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\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('ul',{staticClass:\"image-list\"},[_vm._l((_vm.selectPictures),function(picUrl,picIndex){return _c('li',{key:picIndex,style:({width:_vm.imageWidthAndHeight+'px',height:_vm.imageWidthAndHeight+'px'})},[_c('img',{staticClass:\"delete-picture\",attrs:{\"src\":require(\"../../assets/images/find/find_white.png\"),\"alt\":\"\"},on:{\"click\":function($event){return _vm.deletePicture(picIndex)}}}),_c('img',{attrs:{\"src\":picUrl,\"alt\":\"\"},on:{\"click\":function($event){return _vm.preview(picIndex)}}})])}),(_vm.accountAddImage && _vm.isShowAdd)?_c('li',[_c('div',{staticClass:\"add-image\",on:{\"click\":_vm.addAction}},[_c('van-icon',{attrs:{\"name\":\"plus\",\"color\":\"rgb(181, 181, 181)\"}})],1)]):_vm._e()],2),_c('Preview',{ref:\"myPreview\",attrs:{\"images\":_vm.images}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <ul class=\"image-list\">\r\n      <li\r\n        v-for=\"(picUrl,picIndex) in selectPictures\"\r\n        v-bind:key=\"picIndex\"\r\n        v-bind:style=\"{width:imageWidthAndHeight+'px',height:imageWidthAndHeight+'px'}\"\r\n      >\r\n        <img\r\n          src=\"../../assets/images/find/find_white.png\"\r\n          class=\"delete-picture\"\r\n          alt\r\n          @click=\"deletePicture(picIndex)\"\r\n        />\r\n        <img :src=\"picUrl\" @click=\"preview(picIndex)\" alt />\r\n      </li>\r\n      <li v-if=\"accountAddImage && isShowAdd\">\r\n        <div class=\"add-image\" @click=\"addAction\">\r\n          <van-icon name=\"plus\" color=\"rgb(181, 181, 181)\" />\r\n        </div>\r\n      </li>\r\n    </ul>\r\n    <Preview :images=\"images\" ref=\"myPreview\"></Preview>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { ImagePreview, Toast } from \"vant\";\r\nimport config from \"../../common/config\";\r\nimport Preview from \"@/components/preview/Preview.vue\";\r\nimport { store } from \"../../utils/storage\";\r\nexport default {\r\n  name: \"AddImage\",\r\n  props: {\r\n    maxImageCount: {\r\n      type: Number,\r\n      default: 4\r\n    },\r\n    selectPictures: {\r\n      // 存储上传成功的图片地址\r\n      type: Array,\r\n      default: function() {\r\n        return [];\r\n      }\r\n    },\r\n    isShowAdd: {\r\n      type: Boolean,\r\n      default: true\r\n    },\r\n    isUpload: {\r\n      type: Boolean,\r\n      default: false\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      // 图片预览属性\r\n      images: [],\r\n      uploadImageList: [],\r\n      loading: ''\r\n    };\r\n  },\r\n  components: {\r\n    Preview: Preview\r\n  },\r\n  mounted() {\r\n    //image 宽度高度自适应\r\n    let ulDom = document.querySelector(\".image-list\");\r\n    this.imageWidthAndHeight = ulDom.offsetWidth / 4;\r\n  },\r\n  computed: {\r\n    //超过最大数不显示添加\r\n    accountAddImage() {\r\n      return this.selectPictures.length < this.maxImageCount;\r\n    },\r\n\r\n    //相册选择图片最大数值\r\n    maximumImagesCount() {\r\n      return this.maxImageCount - this.selectPictures.length;\r\n    }\r\n  },\r\n\r\n  watch: {\r\n    selectPictures(newValue, oldName) {\r\n      // this.$emit(\"imageMapChange\", this.selectPictures.slice(0));\r\n    },\r\n    isUpload(newValue, oldName) {\r\n      if (newValue) {\r\n        console.log(newValue);\r\n        this.uploadFile();\r\n        this.$emit(\"changeUploadStatus\");\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    /**\r\n     * 图片预览\r\n     * @param\r\n     * startPosition  Number   当前选中图片索引\r\n     **/\r\n    preview(startPosition) {\r\n      this.images = this.selectPictures;\r\n      this.$refs.myPreview.setIndex(startPosition);\r\n      this.$refs.myPreview.setIsShowPreview(true);\r\n      this.$store.dispatch(\"setPreviewId\", this.$refs.myPreview);\r\n    },\r\n\r\n    /**\r\n     * 图片添加行为\r\n     **/\r\n    addAction() {\r\n      this.$emit(\"imageAddAction\");\r\n    },\r\n\r\n    /**\r\n     * 删除指定的图片\r\n     * @param\r\n     * picIndex     Number    当前要删除图片的索引\r\n     **/\r\n    deletePicture(picIndex) {\r\n      this.selectPictures.splice(picIndex, 1);\r\n      console.log(this.selectPictures);\r\n    },\r\n\r\n    /**\r\n     * 选择当前图片来源方式(拍照或本地上传)\r\n     * @param\r\n     * item      Object   当前选择的方式对象\r\n     * index     Number   当前选择的索引\r\n     **/\r\n    addSelect(item, index) {\r\n      index ? this.getPicture() : this.useCamera();\r\n    },\r\n\r\n    /**\r\n     * 调用摄像头插件进行拍照\r\n     * @param\r\n     **/\r\n    useCamera(needCropImg = true) {\r\n      this.$plugin.usePlugin(\"camera\")(\r\n        needCropImg,\r\n        imageData => {\r\n          if (needCropImg && this.$devicePlatform == \"android\") {\r\n            //裁剪图片\r\n            this.$plugin.usePlugin(\"crop\")(imageData,\r\n              url => {\r\n                //success callback\r\n                console.log(\"yuanl=> 裁剪url = \"+url);\r\n                url = url.split('?');\r\n                this.selectPictures.push(url[0]);\r\n              },\r\n              error => {\r\n                //fail callback\r\n                console.log(\"Crop error. \"+JSON.stringify(error));\r\n                if (error.recapture == \"true\") {\r\n                  console.log(\"调用相机重拍. \");\r\n                  this.useCamera(needCropImg);\r\n                } else if (error.message == \"User cancelled\") {\r\n                  console.log(\"用户取消裁剪操作. \");\r\n                } else {\r\n                  this.$toast(\"裁剪图片出现异常，请重试！\");\r\n                }\r\n              }\r\n            );\r\n          } else {\r\n            this.selectPictures.push(imageData);\r\n          }\r\n        },\r\n        error => {\r\n          //Toast(error); //delete for ZHSQYYPT-5889\r\n        }\r\n      );\r\n    },\r\n\r\n    /**\r\n     * 上传图片数据\r\n     * @param\r\n     * fileURL  String  图片本地资源路径\r\n     **/\r\n    uploadFile() {\r\n      this.uploadImageList = [];\r\n      let reqUrl = `${store.get(\r\n        \"custUrl.homeUrl\"\r\n      )}xwj-sys-media/media/upload/uploadFile`;\r\n      var options = {};\r\n      options.params = {\r\n        file: \"\",\r\n        source: \"yzApp\",\r\n        business: \"dicoveryPic\"\r\n      };\r\n      options.headers = { contentType: \"multipart/form-data\" };\r\n      var totalNum = this.selectPictures.length;\r\n      var num = 0;\r\n      console.log(\"开始调用图片上传\");\r\n      if (this.selectPictures.length == 0) {\r\n        this.$emit(\"imageMapChange\", []);\r\n      }\r\n      console.log(this.selectPictures);\r\n      this.loading = store.get(\"showLoadingView\");\r\n      if (this.loading) {\r\n          this.loading(true);\r\n      }\r\n      this.selectPictures.forEach(item => {\r\n        options.params.file = item;\r\n        this.$plugin.usePlugin(\"fileTransfer\")(\r\n          reqUrl,\r\n          item,\r\n          options,\r\n          result => {\r\n            let resData = JSON.parse(result.response);\r\n            if (resData.resultCode == 0) {\r\n              this.uploadImageList.push(resData.data);\r\n            }\r\n            num++;\r\n            console.log(totalNum);\r\n            console.log(num);\r\n            this.dealResult(totalNum == num);\r\n          },\r\n          error => {\r\n            num++;\r\n            console.log(totalNum);\r\n            console.log(num);\r\n            this.dealResult(totalNum == num);\r\n          }\r\n        );\r\n        // ft.upload(\r\n        //   item,\r\n        //   encodeURI(reqUrl),\r\n        //   (result) => {\r\n        //     let resData = JSON.parse(result.response);\r\n        //     if (resData.resultCode == 0) {\r\n        //       this.uploadImageList.push(resData.data);\r\n        //     }\r\n        //     num++;\r\n        //     console.log(totalNum);\r\n        //     console.log(num);\r\n        //     this.dealResult(totalNum == num);\r\n        //   },\r\n        //   () => {\r\n        //     num++;\r\n        //     console.log(totalNum);\r\n        //     console.log(num);\r\n        //     this.dealResult(totalNum == num);\r\n        //   },\r\n        //   options\r\n        // );\r\n      });\r\n    },\r\n\r\n    /**\r\n     * 将上传的图片返回\r\n     **/\r\n    dealResult(flag) {\r\n      if (this.loading) {\r\n        this.loading(false);\r\n      }\r\n      console.log(this.uploadImageList);\r\n      if (flag) {\r\n        this.$emit(\"imageMapChange\", this.uploadImageList);\r\n      }\r\n    },\r\n\r\n    /**\r\n     * 从本地相册进行上传\r\n     **/\r\n    getPicture() {\r\n      this.$plugin.usePlugin(\"getPictures\")(\r\n        this.maximumImagesCount,\r\n        images => {\r\n          images.forEach(imageData => {\r\n            this.selectPictures.push(imageData);\r\n          });\r\n        },\r\n        error => {\r\n          //Toast(error); //delete for ZHSQYYPT-5889\r\n        }\r\n      );\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\r\n<style scoped lang=\"scss\">\r\n.image-list {\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  justify-content: flex-start;\r\n  > li {\r\n    position: relative;\r\n    width: 25%;\r\n    flex-shrink: 0;\r\n    padding: 3px;\r\n    box-sizing: border-box;\r\n    .delete-picture {\r\n      width: 40px;\r\n      height: 40px;\r\n      position: absolute;\r\n      left: 50%;\r\n      top: 50%;\r\n      margin-left: -20px;\r\n      margin-top: -20px;\r\n    }\r\n    > img {\r\n      width: 100%;\r\n      height: 100%;\r\n      object-fit: cover;\r\n    }\r\n    .add-image {\r\n      width: 85px;\r\n      height: 85px;\r\n      display: flex;\r\n      justify-content: center;\r\n      align-items: center;\r\n      background: #f0f0f0;\r\n    }\r\n  }\r\n  /deep/.van-image-preview__index {\r\n    left: 0 !important;\r\n    top: 0 !important;\r\n    right: 0 !important;\r\n    height: 46px !important;\r\n    background: #ffffff;\r\n  }\r\n  .tab-index {\r\n    width: 100%;\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddImage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddImage.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AddImage.vue?vue&type=template&id=4e7165bc&scoped=true&\"\nimport script from \"./AddImage.vue?vue&type=script&lang=js&\"\nexport * from \"./AddImage.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AddImage.vue?vue&type=style&index=0&id=4e7165bc&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4e7165bc\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddNotePage.vue?vue&type=style&index=0&id=cb35c894&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddNotePage.vue?vue&type=style&index=0&id=cb35c894&scoped=true&lang=scss&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddImage.vue?vue&type=style&index=0&id=4e7165bc&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddImage.vue?vue&type=style&index=0&id=4e7165bc&scoped=true&lang=scss&\"","module.exports = __webpack_public_path__ + \"img/no_voicesearch_img.4aa060d2.png\";","module.exports = __webpack_public_path__ + \"img/search_voice.3bd131da.gif\";","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\"height\":\"100%\",\"display\":\"flex\",\"flex-direction\":\"column\",\"background\":\"#f6f6f6\"}},[_c('navigation-bar',{attrs:{\"isShowBack\":false}},[_vm._t(\"left\",[(_vm.themeCurrent == '0')?_c('div',{staticClass:\"nav-left\",attrs:{\"slot\":\"left\"},on:{\"click\":_vm.goBack},slot:\"left\"},[_vm._v(\"取消\")]):(_vm.themeCurrent == '1')?_c('div',{staticClass:\"nav-left-l\",attrs:{\"slot\":\"left\"},on:{\"click\":_vm.goBack},slot:\"left\"},[_vm._v(\"取消\")]):_vm._e()],{\"slot\":\"nav-left\"}),_vm._t(\"right\",[(_vm.themeCurrent == '0')?_c('div',{staticClass:\"right-nav\",class:{'acc-submit':_vm.postText.length > 0},attrs:{\"slot\":\"right\"},on:{\"click\":_vm.clickRight},slot:\"right\"},[_vm._v(_vm._s(_vm.navBarText))]):(_vm.themeCurrent == '1')?_c('div',{staticClass:\"right-nav-l\",class:{'acc-submit':_vm.postText.length > 0},attrs:{\"slot\":\"right\"},on:{\"click\":_vm.clickRight},slot:\"right\"},[_vm._v(_vm._s(_vm.navBarText))]):_vm._e()],{\"slot\":\"nav-right\"})],2),_c('div',{staticClass:\"post-wrapper\"},[_c('div',{staticClass:\"post-content\",class:{postContentL:_vm.bindThemeL}},[(_vm.checkNo ===1)?_c('p',{staticClass:\"cat-sub\"},[_vm._v(\"#我要表扬#\")]):_vm._e(),_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.postText),expression:\"postText\"}],ref:\"textArea\",class:{clearCusor:_vm.isShowSpeechDiv},attrs:{\"placeholder\":_vm.textPlaceholder,\"maxlength\":\"200\"},domProps:{\"value\":(_vm.postText)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.postText=$event.target.value}}}),_c('p',{staticClass:\"input-length\"},[_vm._v(_vm._s(_vm.inputLength+'/200'))]),(_vm.pageType != 'report')?_c('add-image',{ref:\"addImageComponent\",attrs:{\"select-pictures\":_vm.defaultImgList,\"is-upload\":_vm.isUpload},on:{\"imageAddAction\":_vm.showAddSheetControll,\"imageMapChange\":_vm.upDateImageData,\"changeUploadStatus\":_vm.changeStatus}}):_vm._e()],1),(this.pageType != 'report' && _vm.themeCurrent == '0')?_c('div',{staticClass:\"post-bottom\"},[_vm._m(0),_c('div',{staticClass:\"btn-group\"},[_c('div',{staticClass:\"btn\",class:{'btn-checked':_vm.checkNo === 1},on:{\"click\":function($event){return _vm.noteCat(1)}}},[_vm._v(\"我要表扬\")]),_c('div',{staticClass:\"btn\",class:{'btn-checked':_vm.checkNo === 2},on:{\"click\":function($event){return _vm.goRepair(0)}}},[_vm._v(\"报事报修\")]),_c('div',{staticClass:\"btn\",class:{'btn-checked':_vm.checkNo === 3},on:{\"click\":function($event){return _vm.goRepair(1)}}},[_vm._v(\"投诉建议\")])])]):_vm._e(),(this.pageType != 'report' && _vm.themeCurrent == '1')?_c('div',{staticClass:\"post-bottom-l\"},[_vm._m(1),_c('div',{staticClass:\"btn-group-l\"},[_c('div',{staticClass:\"btn-l\",class:{'btn-checked':_vm.checkNo === 1},on:{\"click\":function($event){return _vm.noteCat(1)}}},[_vm._v(\"我要表扬\")]),_c('div',{staticClass:\"btn-l\",class:{'btn-checked':_vm.checkNo === 2},on:{\"click\":function($event){return _vm.goRepair(0)}}},[_vm._v(\"报事报修\")]),_c('div',{staticClass:\"btn-l\",class:{'btn-checked':_vm.checkNo === 3},on:{\"click\":function($event){return _vm.goRepair(1)}}},[_vm._v(\"投诉建议\")])])]):_vm._e(),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isShowSpeechDiv),expression:\"isShowSpeechDiv\"}],staticClass:\"speechDiv\"},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isShowSpeechDiv && !_vm.isNoRecognizeResult),expression:\"isShowSpeechDiv && !isNoRecognizeResult\"}],staticClass:\"speechSearchDiv\"},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.isShowSpeechResult),expression:\"!isShowSpeechResult\"}],staticClass:\"tryToSay\"},[_vm._v(\"试试这样说\")]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.isShowSpeechResult),expression:\"!isShowSpeechResult\"}],staticClass:\"speechexample\"},[_vm._v(\"\\n          “今天天气不错”\\n          \"),_c('br'),_vm._v(\"“有一起去滑雪的吗”\\n          \"),_c('br'),_vm._v(\"“口罩预约”\\n          \"),_c('br'),_vm._v(\"“去海边走走”\\n          \"),_c('br'),_vm._v(\"...\\n        \")]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isShowSpeechResult),expression:\"isShowSpeechResult\"}],staticClass:\"showSpeechResult\"},[_vm._v(_vm._s(this.recognizeResult))]),_c('img',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.isShowSpeechResult),expression:\"!isShowSpeechResult\"}],staticClass:\"speechGifDiv\",attrs:{\"src\":require(\"@/assets/images/mall/search_voice.gif\"),\"alt\":\"\"}}),_c('img',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isShowSpeechResult),expression:\"isShowSpeechResult\"}],staticClass:\"speechGifDiv\",attrs:{\"src\":require(\"@/assets/images/mall/search_voice.png\"),\"alt\":\"\"}})]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isNoRecognizeResult),expression:\"isNoRecognizeResult\"}],staticClass:\"noRecognizeResultDiv\"},[_c('img',{staticClass:\"noRecognizeResultimg\",attrs:{\"src\":require(\"@/assets/images/mall/no_voicesearch_img.png\"),\"alt\":\"\"}}),_c('div',{staticClass:\"noRecognizeResultText\"},[_vm._v(\"未检测到语音\")])])])]),_c('van-action-sheet',{attrs:{\"actions\":_vm.actions,\"cancel-text\":\"取消\",\"round\":\"\",\"close-on-click-action\":\"\"},on:{\"select\":_vm.addSelect},model:{value:(_vm.showAddSheet),callback:function ($$v) {_vm.showAddSheet=$$v},expression:\"showAddSheet\"}})],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('p',[_c('span',[_vm._v(\"或许您要\")]),_c('span',[_vm._v(\"(非必填)\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('p',[_c('span',{staticClass:\"text-big-l\"},[_vm._v(\"或许您要\")]),_c('span',{staticClass:\"text-media-l\"},[_vm._v(\"(非必填)\")])])}]\n\nexport { render, staticRenderFns }","<template>\r\n  <div style=\"height:100%;display:flex;flex-direction:column; background:#f6f6f6\">\r\n    <navigation-bar :isShowBack=\"false\">\r\n      <slot slot=\"nav-left\" name=\"left\">\r\n        <div\r\n          v-if=\"themeCurrent == '0'\"\r\n          slot=\"left\"\r\n          @click=\"goBack\"\r\n          class=\"nav-left\"\r\n        >取消</div>\r\n        <div\r\n          v-else-if=\"themeCurrent == '1'\"\r\n          slot=\"left\"\r\n          @click=\"goBack\"\r\n          class=\"nav-left-l\"\r\n        >取消</div>\r\n      </slot>\r\n      <slot slot=\"nav-right\" name=\"right\">\r\n        <div\r\n          v-if=\"themeCurrent == '0'\"\r\n          slot=\"right\"\r\n          @click=\"clickRight\"\r\n          :class=\"{'acc-submit':postText.length > 0}\"\r\n          class=\"right-nav\"\r\n        >{{navBarText}}</div>\r\n        <div\r\n          v-else-if=\"themeCurrent == '1'\"\r\n          slot=\"right\"\r\n          @click=\"clickRight\"\r\n          :class=\"{'acc-submit':postText.length > 0}\"\r\n          class=\"right-nav-l\"\r\n        >{{navBarText}}</div>\r\n      </slot>\r\n    </navigation-bar>\r\n    <div class=\"post-wrapper\">\r\n      <div class=\"post-content\" :class=\"{postContentL:bindThemeL}\">\r\n        <p class=\"cat-sub\" v-if=\"checkNo ===1\">#我要表扬#</p>\r\n        <textarea\r\n          ref=\"textArea\"\r\n          :class=\"{clearCusor:isShowSpeechDiv}\"\r\n          v-model=\"postText\"\r\n          :placeholder=\"textPlaceholder\"\r\n          maxlength=\"200\"\r\n        ></textarea>\r\n        <p class=\"input-length\">{{inputLength+'/200'}}</p>\r\n        <add-image\r\n          v-on:imageAddAction=\"showAddSheetControll\"\r\n          v-on:imageMapChange=\"upDateImageData\"\r\n          v-on:changeUploadStatus=\"changeStatus\"\r\n          ref=\"addImageComponent\"\r\n          v-if=\"pageType != 'report'\"\r\n          :select-pictures=\"defaultImgList\"\r\n          :is-upload=\"isUpload\"\r\n        ></add-image>\r\n      </div>\r\n      <div class=\"post-bottom\" v-if=\"this.pageType != 'report' && themeCurrent == '0'\">\r\n        <p>\r\n          <span>或许您要</span>\r\n          <span>(非必填)</span>\r\n        </p>\r\n        <div class=\"btn-group\">\r\n          <div class=\"btn\" :class=\"{'btn-checked':checkNo === 1}\" @click=\"noteCat(1)\">我要表扬</div>\r\n          <div class=\"btn\" :class=\"{'btn-checked':checkNo === 2}\" @click=\"goRepair(0)\">报事报修</div>\r\n          <div class=\"btn\" :class=\"{'btn-checked':checkNo === 3}\" @click=\"goRepair(1)\">投诉建议</div>\r\n        </div>\r\n      </div>\r\n      <div class=\"post-bottom-l\" v-if=\"this.pageType != 'report' && themeCurrent == '1'\">\r\n        <p>\r\n          <span class=\"text-big-l\">或许您要</span>\r\n          <span class=\"text-media-l\">(非必填)</span>\r\n        </p>\r\n        <div class=\"btn-group-l\">\r\n          <div class=\"btn-l\" :class=\"{'btn-checked':checkNo === 1}\" @click=\"noteCat(1)\">我要表扬</div>\r\n          <div class=\"btn-l\" :class=\"{'btn-checked':checkNo === 2}\" @click=\"goRepair(0)\">报事报修</div>\r\n          <div class=\"btn-l\" :class=\"{'btn-checked':checkNo === 3}\" @click=\"goRepair(1)\">投诉建议</div>\r\n        </div>\r\n      </div>\r\n      <div class=\"speechDiv\" v-show=\"isShowSpeechDiv\">\r\n        <div class=\"speechSearchDiv\" v-show=\"isShowSpeechDiv && !isNoRecognizeResult\">\r\n          <div class=\"tryToSay\" v-show=\"!isShowSpeechResult\">试试这样说</div>\r\n          <div class=\"speechexample\" v-show=\"!isShowSpeechResult\">\r\n            “今天天气不错”\r\n            <br />“有一起去滑雪的吗”\r\n            <br />“口罩预约”\r\n            <br />“去海边走走”\r\n            <br />...\r\n          </div>\r\n          <div class=\"showSpeechResult\" v-show=\"isShowSpeechResult\">{{this.recognizeResult}}</div>\r\n          <img\r\n            class=\"speechGifDiv\"\r\n            src=\"@/assets/images/mall/search_voice.gif\"\r\n            alt\r\n            v-show=\"!isShowSpeechResult\"\r\n          />\r\n          <img\r\n            class=\"speechGifDiv\"\r\n            src=\"@/assets/images/mall/search_voice.png\"\r\n            alt\r\n            v-show=\"isShowSpeechResult\"\r\n          />\r\n        </div>\r\n        <div class=\"noRecognizeResultDiv\" v-show=\"isNoRecognizeResult\">\r\n          <img class=\"noRecognizeResultimg\" src=\"@/assets/images/mall/no_voicesearch_img.png\" alt />\r\n          <div class=\"noRecognizeResultText\">未检测到语音</div>\r\n        </div>\r\n      </div>\r\n      <!-- <div\r\n        class=\"voiceBtn\"\r\n        @touchstart=\"goToSpeech\"\r\n        @touchend=\"stopSpeech\"\r\n        ref=\"voiceBtnKeyBoard\"\r\n        v-show=\"isShowVoiceBtn\"\r\n      >\r\n        <img\r\n          class=\"voiceBtnImg\"\r\n          src=\"@/assets/images/mall/search_red.png\"\r\n          alt\r\n          v-show=\"!isPressSpeechBtn\"\r\n        />\r\n        <div class=\"voiceBtnText\" v-show=\"!isPressSpeechBtn\">按住说话</div>\r\n        <img\r\n          class=\"voiceBtnImg\"\r\n          src=\"@/assets/images/mall/search_white.png\"\r\n          alt\r\n          v-show=\"isPressSpeechBtn\"\r\n        />\r\n        <div class=\"voiceBtnTextInPress\" v-show=\"isPressSpeechBtn\">按住说话</div>\r\n      </div> -->\r\n    </div>\r\n\r\n    <van-action-sheet\r\n      v-model=\"showAddSheet\"\r\n      :actions=\"actions\"\r\n      cancel-text=\"取消\"\r\n      round\r\n      close-on-click-action\r\n      @select=\"addSelect\"\r\n    />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {\r\n  addCommentInforService,\r\n  saveReplyInforService\r\n} from \"../../services/findService\";\r\nimport { mapActions, mapState } from \"vuex\";\r\nimport { Toast, Dialog } from \"vant\";\r\nimport { store } from \"../../utils/storage\";\r\nimport AddImageVue from \"@/components/addImage/AddImage.vue\";\r\nimport NavigationBar from \"@/common/currency/NavigationBar.vue\";\r\nexport default {\r\n  name: \"AddNotePage\",\r\n  activated() {\r\n    this.themeCurrent = this.$curTheme;\r\n    // this.checkAudioPermissions();\r\n    this.pageType = this.$store.state.find.addNotePageParams.pageType;\r\n    // window.addEventListener(\"native.keyboardshow\", this.keyboardshow);\r\n    // window.addEventListener(\"native.keyboardhide\", this.keyboardhide);\r\n  },\r\n  beforeRouteLeave(to, from, next) {\r\n    this.keyboardhide();\r\n    // window.removeEventListener(\"native.keyboardshow\", this.keyboardshow);\r\n    // window.removeEventListener(\"native.keyboardhide\", this.keyboardhide);\r\n    next();\r\n  },\r\n  props: {\r\n    activeIndex: {\r\n      type: Number\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      checkNo: 0,\r\n      actions: [{ name: \"拍照\" }, { name: \"从手机相册选择\" }],\r\n      showAddSheet: false,\r\n      postText: \"\",\r\n      pageType: \"\",\r\n      selectPictures: [],\r\n      defaultImgList: [],\r\n      isUpload: false,\r\n      isShowVoiceBtn: false, //语音搜索入口\r\n      isPressSpeechBtn: false, //按下长按说话按钮\r\n      isShowSpeechDiv: false, //语音搜索按下时显示语音提界面\r\n      isNoRecognizeResult: false, //没有识别结果\r\n      isShowSpeechResult: false, //显示语音识别结果\r\n      isHasAudioPermissions: false, //判断是否有语音权限（Android用）\r\n      recognizeResult: \"正在聆听\",\r\n      themeCurrent: 0,\r\n      /*大字模式*/\r\n      bindThemeL: this.$curTheme==0 ? false : true\r\n    };\r\n  },\r\n  components: {\r\n    \"add-image\": AddImageVue,\r\n    NavigationBar\r\n  },\r\n  computed: mapState({\r\n    inputLength() {\r\n      return this.postText.length;\r\n    },\r\n\r\n    accountAddImage() {\r\n      return this.selectPictures.length < 4;\r\n    },\r\n\r\n    navBarText() {\r\n      return this.pageType == \"report\" ? \"确定\" : \"发表\";\r\n    },\r\n\r\n    maximumImagesCount() {\r\n      let maxCount = 4;\r\n      return maxCount - this.selectPictures.length;\r\n    },\r\n\r\n    textPlaceholder() {\r\n      return \"这一刻的想法...\";\r\n    }\r\n  }),\r\n\r\n  watch: {\r\n    //过滤输入的表情符号\r\n    // postText(newName, oldName) {\r\n    //   let regExp = /[\\uD83C|\\uD83D|\\uD83E][\\uDC00-\\uDFFF][\\u200D|\\uFE0F]|[\\uD83C|\\uD83D|\\uD83E][\\uDC00-\\uDFFF]|[0-9|*|#]\\uFE0F\\u20E3|[0-9|#]\\u20E3|[\\u203C-\\u3299]\\uFE0F\\u200D|[\\u203C-\\u3299]\\uFE0F|[\\u2122-\\u2B55]|\\u303D|[\\A9|\\AE]\\u3030|\\uA9|\\uAE|\\u3030/gi;\r\n    //   let newData = newName.replace(regExp, \"\");\r\n    //   this.postText = newData;\r\n    // }\r\n    postText(newValue, oldValue) {\r\n      if (newValue.length > 200) {\r\n        this.postText = newValue.substr(0, 200);\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    ...mapActions([\"addNoteAction\", \"saveReportNoticeAction\"]),\r\n    noteCat(btnNum) {\r\n      this.checkNo = this.checkNo == btnNum ? 0 : btnNum;\r\n    },\r\n    goRepair(type) {\r\n      this.$router.push({\r\n        name: \"complaintReportingAdd\",\r\n        query: { typeFlag: type }\r\n      });\r\n    },\r\n    /**\r\n     * 数据发送管理器\r\n     **/\r\n    postMessage() {\r\n      this.addNote();\r\n    },\r\n\r\n    clickRight() {\r\n      if (\r\n        !this.postText &&\r\n        !this.selectPictures.length &&\r\n        this.pageType != \"report\"\r\n      ) {\r\n        this.$toast(\"内容不能为空\");\r\n        return;\r\n      }\r\n      if (this.pageType == \"publish\") {\r\n        this.isUpload = true;\r\n      } else {\r\n        if (!this.postText) {\r\n          this.$toast(\"举报原因不能为空\");\r\n          return;\r\n        }\r\n        this.addReport();\r\n      }\r\n    },\r\n\r\n    changeStatus() {\r\n      console.log(\"改变状态为false\");\r\n      this.isUpload = false;\r\n    },\r\n\r\n    /**\r\n     * 子组件更新已选图片集合监听函数\r\n     **/\r\n    upDateImageData(newImageData) {\r\n      this.selectPictures = newImageData;\r\n      this.postMessage();\r\n    },\r\n\r\n    /**\r\n     * addImage组件添加照片时的监听函数父组件用来选择哪种图片获取方式(拍照或相册上传)\r\n     **/\r\n    showAddSheetControll() {\r\n      this.showAddSheet = !this.showAddSheet;\r\n    },\r\n\r\n    /**\r\n     * 添加举报行为\r\n     * @param\r\n     **/\r\n    addReport() {\r\n      Dialog.confirm({\r\n        title: \"提示\",\r\n        message: \"确定进行投诉？\"\r\n      })\r\n        .then(() => {\r\n          return this.saveReportNoticeAction({\r\n            content: this.postText,\r\n            isProperty: 0,\r\n            noteCode: this.$store.state.find.addNotePageParams.noteCode,\r\n            reporterCode: this.$userInfo.OWNER_CODE\r\n          });\r\n        })\r\n        .then(() => {\r\n          this.goBack();\r\n        })\r\n        .catch(error => {\r\n          error != \"cancel\" ? this.$toast(error) : \"\";\r\n        });\r\n    },\r\n\r\n    /**\r\n     * 发帖行为，调用接口发布\r\n     * @param\r\n     **/\r\n    addNote() {\r\n      console.log(this.$userInfo);\r\n      this.addNoteAction({\r\n        areaCodeList: [this.$userInfo.AREA_CODE],\r\n        content:\r\n          this.checkNo === 1 ? `我要表扬：${this.postText}` : this.postText,\r\n        isProperty: 0,\r\n        picUrl: this.selectPictures,\r\n        userCode: this.$userInfo.OWNER_CODE,\r\n        buildCode: this.$userInfo.BUILD_CODE,\r\n        buildName: this.$userInfo.BUILD_NAME,\r\n        roomCode: this.$userInfo.ROOM_CODE,\r\n        roomName: this.$userInfo.ROOM_NAME,\r\n        unitNo: this.$userInfo.UNIT_NO\r\n      })\r\n        .then(res => {\r\n          this.$store.commit(\"saveFindScollPosition\", 0);\r\n          this.$toast(res.msg);\r\n          this.goBack();\r\n        })\r\n        .catch(error => {\r\n          error != \"cancel\" ? this.$toast(error) : \"\";\r\n        });\r\n    },\r\n\r\n    /**\r\n     * 删除指定的图片\r\n     * @param\r\n     * picIndex     Number    当前要删除图片的索引\r\n     **/\r\n    deletePicture(picIndex) {\r\n      this.selectPictures.splice(picIndex, 1);\r\n    },\r\n\r\n    /**\r\n     * 选择当前图片来源方式(拍照或本地上传)\r\n     * @param\r\n     * item      Object   当前选择的方式对象\r\n     * index     Number   当前选择的索引\r\n     **/\r\n    addSelect(item, index) {\r\n      this.getPictureData(index);\r\n    },\r\n\r\n    /**\r\n     * 调用摄像头或者本地相册进行图片上传\r\n     * @param\r\n     **/\r\n    getPictureData(selectIndex) {\r\n      selectIndex\r\n        ? this.$refs.addImageComponent.getPicture()\r\n        : this.$refs.addImageComponent.useCamera(true);\r\n    },\r\n\r\n    goBack() {\r\n      this.postText = \"\";\r\n      this.checkNo = 0;\r\n      this.defaultImgList = [];\r\n      if (this.$store.state.preview.previewId) {\r\n        this.$store.dispatch(\"setPreviewId\", \"\");\r\n      }\r\n      this.$router.back(-1);\r\n    },\r\n    //语音搜索\r\n    goToSpeech(e) {\r\n      var _this = this;\r\n      this.pressTimer = null;\r\n      _this.isNoRecognizeResult = false;\r\n      this.isShowSpeechResult = false;\r\n      var ifly = cordova.plugins.IflyForXwjPlugin;\r\n      _this.recognizeResult = \"正在聆听\";\r\n      const platform = navigator.userAgent;\r\n      const isiOS = !!platform.match(/\\(i[^;]+;( U;)? CPU.+Mac OS X/);\r\n      if (e.type === \"click\" && e.button !== 0) {\r\n        return;\r\n      }\r\n      this.isPressSpeechBtn = true;\r\n      this.$refs.voiceBtnKeyBoard.style.background = \"#D34050\";\r\n      this.isNoRecognizeResult = false;\r\n\r\n      if (_this.isHasAudioPermissions) {\r\n        if (this.pressTimer === null) {\r\n          this.pressTimer = setTimeout(() => {\r\n            _this.sendVal = true;\r\n            this.isShowSpeechDiv = true;\r\n            ifly.startListen(null, null, false, true);\r\n          }, 300);\r\n        }\r\n      } else {\r\n        Dialog.confirm({\r\n          message: \"请您打开麦克风权限，以正常使用语音识别功能\"\r\n        })\r\n          .then(() => {\r\n            _this.checkAudioPermissions();\r\n          })\r\n          .catch(() => {\r\n            //oncancel\r\n          });\r\n      }\r\n    },\r\n    stopSpeech() {\r\n      console.log(\"这里执行了吗--stopSpeech\");\r\n      var _this = this;\r\n      var ifly = cordova.plugins.IflyForXwjPlugin;\r\n      this.isPressSpeechBtn = false;\r\n      this.$refs.voiceBtnKeyBoard.style.background = \"#FFFFFF\";\r\n      console.log(\"--------3\");\r\n      if (_this.sendVal) {\r\n        _this.sendVal = false;\r\n        console.log(\"--------1\");\r\n        ifly.stopListen(\r\n          function(spRes) {\r\n            console.log(\"success \" + spRes);\r\n            if (spRes) {\r\n              var resultcatch = spRes.replace(\r\n                /[\\ |\\~|\\`|\\!|\\@|\\#|\\$|\\%|\\^|\\&|\\*|\\(|\\)|\\-|\\_|\\+|\\=|\\||\\\\|\\[|\\]|\\{|\\}|\\;|\\:|\\\"|\\'|\\,|\\<|\\。|\\>|\\/|\\？]/g,\r\n                \"\"\r\n              );\r\n              resultcatch = spRes;\r\n              _this.recognizeResult = resultcatch;\r\n              _this.postText = _this.postText + resultcatch;\r\n              _this.isShowSpeechResult = true;\r\n              //收起键盘\r\n              setTimeout(() => {\r\n                _this.isShowSpeechDiv = false;\r\n                _this.$refs.textArea.focus();\r\n                _this.changeSpeechBtnVisible();\r\n              }, 1000);\r\n            } else {\r\n              _this.isNoRecognizeResult = true;\r\n              setTimeout(() => {\r\n                _this.isShowSpeechDiv = false;\r\n                _this.$refs.textArea.focus();\r\n                _this.changeSpeechBtnVisible();\r\n              }, 1000);\r\n            }\r\n          },\r\n          function(errMes) {\r\n            _this.isNoRecognizeResult = true;\r\n            setTimeout(() => {\r\n              _this.isShowSpeechDiv = false;\r\n              _this.$refs.textArea.focus();\r\n              _this.changeSpeechBtnVisible();\r\n            }, 1000);\r\n          }\r\n        );\r\n      } else {\r\n        _this.sendVal = false;\r\n        _this.isShowSpeechDiv = false;\r\n        setTimeout(() => {\r\n          _this.changeSpeechBtnVisible();\r\n          _this.$refs.textArea.focus();\r\n        }, 1000);\r\n      }\r\n      console.log(\"停止录音 \" + this.pressTimer);\r\n      clearTimeout(this.pressTimer);\r\n      this.pressTimer = null;\r\n    },\r\n    checkAudioPermissions() {\r\n      const platform = navigator.userAgent;\r\n      const isiOS = !!platform.match(/\\(i[^;]+;( U;)? CPU.+Mac OS X/);\r\n      let _this = this;\r\n      if (isiOS) {\r\n        this.isHasAudioPermissions = true;\r\n        return true;\r\n      } else {\r\n        var list = [\"android.permission.RECORD_AUDIO\"];\r\n        var permissions = cordova.plugins.permissions;\r\n        permissions.requestPermissions(\r\n          list,\r\n          function(status) {\r\n            if (status.hasPermission) {\r\n              _this.isHasAudioPermissions = true;\r\n            }\r\n          },\r\n          function(status) {\r\n            alert(\"请打开麦克风权限\");\r\n            _this.isHasAudioPermissions = false;\r\n          }\r\n        );\r\n      }\r\n    },\r\n    changeSpeechBtnVisible() {\r\n      if (this.$devicePlatform == \"android\") {\r\n        this.isShowVoiceBtn = false;\r\n      }\r\n    },\r\n    /**\r\n     * 键盘弹出事件\r\n     */\r\n    keyboardshow(e) {\r\n      this.isShowVoiceBtn = true;\r\n      this.$refs.voiceBtnKeyBoard.style.bottom = e.keyboardHeight + 12 + \"px\";\r\n    },\r\n\r\n    /**\r\n     * 键盘隐藏事件\r\n     */\r\n    keyboardhide() {\r\n      if (!this.sendVal) {\r\n        this.isShowVoiceBtn = false;\r\n      }\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\r\n<style scoped lang=\"scss\">\r\n$bigSize: 18px;\r\n$smallSize: 14px;\r\n$cSize: 16px;\r\n$superSmall: 12px;\r\n$replyColor: #5e9be3;\r\n.acc-submit {\r\n  opacity: 1 !important;\r\n}\r\n/deep/.navBar .center {\r\n    display: none !important;\r\n}\r\n/deep/.navBar .left {\r\n  min-width: 80px;\r\n}\r\n.nav-left {\r\n  font-size: 14px;\r\n  line-height: 32px;\r\n  margin-left: 10px;\r\n  min-width: 40px !important;\r\n}\r\n.nav-left-l {\r\n  font-size: 17px;\r\n  line-height: 32px;\r\n  margin-left: 10px;\r\n  min-width: 40px !important;\r\n}\r\n.right-nav {\r\n  opacity: 0.5;\r\n  background: #fb5768;\r\n  border-radius: 19px;\r\n  padding: 0 24px;\r\n  line-height: 28px;\r\n  margin-bottom: 6px;\r\n  margin-right: 10px;\r\n  font-size: 14px;\r\n  min-width: 30px !important;\r\n  color: #fff;\r\n  .van-nav-bar__text {\r\n    color: #fff !important;\r\n  }\r\n}\r\n.right-nav-l {\r\n  opacity: 0.5;\r\n  background: #fb5768;\r\n  border-radius: 19px;\r\n  padding: 0 24px;\r\n  line-height: 28px;\r\n  margin-bottom: 4px;\r\n  font-size: 17px;\r\n  margin-right: 10px;\r\n  min-width: 40px !important;\r\n  color: #fff;\r\n  .van-nav-bar__text {\r\n    color: #fff !important;\r\n  }\r\n}\r\n.right-nav:active {\r\n  background: #d43142;\r\n}\r\n.right-nav-l:active {\r\n  background: #d43142;\r\n}\r\n.van-nav-bar {\r\n  position: relative !important;\r\n}\r\n.post-wrapper {\r\n  flex: 1;\r\n  display: flex;\r\n  flex-direction: column;\r\n  .post-content {\r\n    font-size: $smallSize;\r\n    padding: 19px;\r\n    background-color: #fff;\r\n    box-sizing: border-box;\r\n    .cat-sub {\r\n      margin: -13px 0 0 0;\r\n      color: #fb5768;\r\n      font-size: 14px;\r\n    }\r\n    > textarea {\r\n      border: none;\r\n      box-sizing: border-box;\r\n      width: 100%;\r\n      font-size: 14px;\r\n      height: 113px;\r\n      outline: none;\r\n      resize: none;\r\n    }\r\n    .input-length {\r\n      margin: 0;\r\n      text-align: right;\r\n      color: #bbb;\r\n      background-color: #fff;\r\n      font-size: $smallSize;\r\n      line-height: 18px;\r\n      padding: 0 12px 12px 12px;\r\n      border-bottom: 1px solid #ececec;\r\n      margin-bottom: 10px;\r\n    }\r\n  }\r\n  /*大字模式*/\r\n  .postContentL {\r\n    .cat-sub {\r\n      font-size: 15px;\r\n    }\r\n    > textarea {\r\n      font-size: 15px;\r\n    }\r\n    .input-length {\r\n      font-size: 15px;\r\n    }\r\n  }\r\n\r\n  .post-bottom {\r\n    background-color: #fff;\r\n    width: 100%;\r\n    box-sizing: border-box;\r\n    padding: 20px 20px 10px 20px;\r\n    flex: 1;\r\n    margin-top: 15px;\r\n    > p {\r\n      margin: 0;\r\n      line-height: 22px;\r\n      span:first-child {\r\n        font-size: 16px;\r\n        color: #4a4a4a;\r\n      }\r\n      span:last-child {\r\n        font-size: 15px;\r\n        color: #999999;\r\n      }\r\n    }\r\n    .btn-group {\r\n      margin-top: 12px;\r\n      display: flex;\r\n      .btn {\r\n        background: rgba(251, 87, 104, 0.03);\r\n        border: 1px solid #fb5768;\r\n        color: #fb5768;\r\n        border-radius: 19px;\r\n        font-size: 12px;\r\n        line-height: 27px;\r\n        padding: 0 14px;\r\n        margin-right: 10px;\r\n      }\r\n      .btn-checked {\r\n        background: #fb5768;\r\n        color: #ffffff;\r\n      }\r\n    }\r\n  }\r\n  .post-bottom-l {\r\n    background-color: #fff;\r\n    width: 100%;\r\n    box-sizing: border-box;\r\n    padding: 20px 20px 10px 20px;\r\n    flex: 1;\r\n    margin-top: 15px;\r\n    > p {\r\n      margin: 0;\r\n      line-height: 22px;\r\n      span:first-child {\r\n        font-size: 20px;\r\n        color: #4a4a4a;\r\n      }\r\n      span:last-child {\r\n        font-size: 17px;\r\n        color: #999999;\r\n      }\r\n    }\r\n    .btn-group-l {\r\n      margin-top: 12px;\r\n      display: flex;\r\n      .btn-l {\r\n        background: rgba(251, 87, 104, 0.03);\r\n        border: 1px solid #fb5768;\r\n        color: #fb5768;\r\n        border-radius: 19px;\r\n        font-size: 20px;\r\n        line-height: 30px;\r\n        padding: 0 7px;\r\n        margin-right: 5px;\r\n      }\r\n      .btn-checked-l {\r\n        background: #fb5768;\r\n        color: #ffffff;\r\n      }\r\n    }\r\n  }\r\n  .text-big-l {\r\n    font-size: 20px;\r\n  }\r\n  .text-media-l {\r\n    font-size: 17px;\r\n  }\r\n  /deep/.post-content {\r\n    font-size: 20px;\r\n    li {\r\n      padding: 3px !important;\r\n      width: 84px !important;\r\n      height: 84px !important;\r\n    }\r\n  }\r\n  /deep/.add-image {\r\n    width: 78px !important;\r\n    height: 78px !important;\r\n  }\r\n}\r\n\r\n.clearCusor {\r\n  caret-color: yellow !important;\r\n}\r\n\r\n.speechDiv {\r\n  width: 100%;\r\n  height: calc(100% - 100px);\r\n  background-color: rgba(255, 255, 255, 0.92);\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  // bottom: 0;\r\n  z-index: 999;\r\n}\r\n\r\n.voiceBtn {\r\n  width: 120px;\r\n  height: 44px;\r\n  line-height: 20px;\r\n  border: 1px solid #fb5768;\r\n  box-shadow: 0 0 15px 0 rgba(207, 207, 207, 0.55);\r\n  border-radius: 22px;\r\n  bottom: 50px;\r\n  margin-left: 128px;\r\n  margin-right: 128px;\r\n  position: fixed;\r\n  z-index: 1000;\r\n  background-color: #fff;\r\n}\r\n.noRecognizeResultText {\r\n  font-family: PingFangSC-Regular;\r\n  font-size: 13px;\r\n  color: #999999;\r\n  text-align: center;\r\n  margin-top: 14px;\r\n}\r\n.voiceBtnImg {\r\n  width: 20px;\r\n  height: 20px;\r\n  position: absolute;\r\n  margin-top: 14px;\r\n  margin-left: 22px;\r\n}\r\n.voiceBtnText {\r\n  width: 58px;\r\n  height: 20px;\r\n  font-family: PingFangSC-Medium;\r\n  position: absolute;\r\n  font-size: 14px;\r\n  color: #fb5768;\r\n  letter-spacing: -0.04px;\r\n  margin-top: 14px;\r\n  margin-left: 42px;\r\n}\r\n.voiceBtnTextInPress {\r\n  width: 58px;\r\n  height: 20px;\r\n  font-family: PingFangSC-Medium;\r\n  position: absolute;\r\n  font-size: 14px;\r\n  color: #ffffff;\r\n  letter-spacing: -0.04px;\r\n  margin-top: 14px;\r\n  margin-left: 42px;\r\n}\r\n.noRecognizeResultimg {\r\n  width: 32%;\r\n  height: 150px;\r\n  margin-top: 51px;\r\n  margin-left: 34%;\r\n  margin-right: 34%;\r\n}\r\n.finishedBox {\r\n  width: 100%;\r\n  text-align: center;\r\n  img {\r\n    width: 75px;\r\n    height: 21px;\r\n  }\r\n}\r\n.tryToSay {\r\n  font-family: PingFangSC-Regular;\r\n  font-size: 18px;\r\n  color: #171717;\r\n  letter-spacing: -0.07px;\r\n  text-align: center;\r\n  line-height: 16px;\r\n  margin-top: 71px;\r\n}\r\n.speechexample {\r\n  font-family: PingFangSC-Regular;\r\n  font-size: 13px;\r\n  color: #999999;\r\n  text-align: center;\r\n  margin-top: 10px;\r\n}\r\n.speechGifDiv {\r\n  height: 20px;\r\n  width: 52%;\r\n  margin-left: 24%;\r\n  margin-right: 24%;\r\n  top: 278px;\r\n  position: absolute;\r\n}\r\n.showSpeechResult {\r\n  font-family: PingFangSC-Regular;\r\n  font-size: 18px;\r\n  color: #171717;\r\n  letter-spacing: -0.07px;\r\n  text-align: center;\r\n  line-height: 22px;\r\n  margin-top: 71px;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddNotePage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddNotePage.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AddNotePage.vue?vue&type=template&id=cb35c894&scoped=true&\"\nimport script from \"./AddNotePage.vue?vue&type=script&lang=js&\"\nexport * from \"./AddNotePage.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AddNotePage.vue?vue&type=style&index=0&id=cb35c894&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"cb35c894\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}