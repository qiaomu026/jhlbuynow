{"version":3,"sources":["webpack:///./src/page/MessageNotice/SystemNotice.vue?8fdf","webpack:///src/page/MessageNotice/SystemNotice.vue","webpack:///./src/page/MessageNotice/SystemNotice.vue?7c78","webpack:///./src/page/MessageNotice/SystemNotice.vue?abc1","webpack:///./src/assets/images/default/no_con_img.png","webpack:///./src/services/noticeService.js","webpack:///./src/page/MessageNotice/SystemNotice.vue?9567","webpack:///./src/assets/images/home/notice/notice_read.png","webpack:///./src/assets/images/home/notice/notice_unread.png"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","class","themeL","bindThemeL","attrs","title","headerItemWidth","on","onBack","scopedSlots","_u","key","fn","messageMarkRead","_v","_s","rightName","proxy","onRefresh","model","value","callback","$$v","refreshing","expression","directives","name","rawName","contentLoaded","messageList","length","error","finished","$event","onLoad","loading","_l","item","index","jumpNoticeContent","READ_FLAG","noticeUnReadImg","noticeReadImg","textContentThemeL","style","NOTICE_NAME","CREATED_TIME","cellRightThemeL","noSourceImg","dialogMessage","beforeClose","isShowDialog","staticRenderFns","component","module","exports","getSystemNotifyMessage","reqData","Promise","resolve","reject","http","post","data","JSON","stringify","then","noteData","catch","requestMessageReaded","getNoticeDetail"],"mappings":"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","file":"js/chunk-29b85585.e0719e1b.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"system-message-page\",class:{themeL:_vm.bindThemeL}},[_c('navigation-bar',{attrs:{\"pageName\":_vm.title,\"bothWidth\":_vm.headerItemWidth},on:{\"onLeftClick\":_vm.onBack},scopedSlots:_vm._u([{key:\"nav-right\",fn:function(){return [_c('div',{staticClass:\"rightBtn\",on:{\"click\":_vm.messageMarkRead}},[_vm._v(_vm._s(_vm.rightName))])]},proxy:true}])}),_c('div',{staticClass:\"message-list\"},[_c('van-pull-refresh',{on:{\"refresh\":_vm.onRefresh},model:{value:(_vm.refreshing),callback:function ($$v) {_vm.refreshing=$$v},expression:\"refreshing\"}},[_c('van-list',{directives:[{name:\"show\",rawName:\"v-show\",value:(!(_vm.contentLoaded && _vm.messageList.length == 0)),expression:\"!(contentLoaded && messageList.length == 0)\"}],attrs:{\"error\":_vm.error,\"error-text\":\"请求失败，点击重新加载\",\"finished\":_vm.finished,\"offset\":356,\"immediate-check\":false},on:{\"update:error\":function($event){_vm.error=$event},\"load\":_vm.onLoad},model:{value:(_vm.loading),callback:function ($$v) {_vm.loading=$$v},expression:\"loading\"}},_vm._l((_vm.messageList),function(item,index){return _c('div',{key:index,staticClass:\"message-cell\",on:{\"click\":function($event){return _vm.jumpNoticeContent(item)}}},[_c('div',{staticClass:\"cell-icon\"},[_c('img',{attrs:{\"src\":item.READ_FLAG != 1 ? _vm.noticeUnReadImg : _vm.noticeReadImg,\"alt\":\"\"}})]),_c('div',{staticClass:\"text-content\",class:{textContentThemeL:_vm.bindThemeL}},[_c('div',{staticClass:\"text-title\",style:(item.READ_FLAG != 1 ? 'color: #333333' : 'color: #C8C8C8')},[_vm._v(_vm._s(item.NOTICE_NAME))]),_c('div',{staticClass:\"message-time\"},[_vm._v(_vm._s(item.CREATED_TIME))])]),_c('div',{staticClass:\"cell-right\",class:{cellRightThemeL:_vm.bindThemeL}},[_c('div',{staticClass:\"testTmp\",style:(item.READ_FLAG != 1 ? 'color: #333333' : 'color: #C8C8C8')},[_vm._v(\"查看详情\")]),_c('van-icon',{attrs:{\"name\":\"arrow\",\"color\":\"#B0B0B0\",\"size\":\"18px\"}})],1)])}),0),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.contentLoaded && _vm.messageList.length == 0),expression:\"contentLoaded && messageList.length == 0\"}],staticClass:\"no-list\"},[_c('img',{attrs:{\"src\":_vm.noSourceImg,\"alt\":\"\"}}),_c('div',{staticClass:\"no-text\"},[_vm._v(\"暂无消息\")])])],1)],1),_c('van-dialog',{attrs:{\"confirmButtonColor\":\"#fb5768\",\"message\":_vm.dialogMessage,\"show-cancel-button\":\"\",\"beforeClose\":_vm.beforeClose},model:{value:(_vm.isShowDialog),callback:function ($$v) {_vm.isShowDialog=$$v},expression:\"isShowDialog\"}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"system-message-page\" :class=\"{themeL:bindThemeL}\">\r\n        <!--<van-nav-bar\r\n            class=\"nav-bar\"\r\n            :title=\"title\"\r\n            :border=\"false\"\r\n            left-arrow\r\n            :right-text=\"contentLoaded && messageList.length > 0 ? '全部标为已读' : ''\"\r\n            @click-left=\"onBack\"\r\n            @click-right=\"messageMarkRead\"\r\n        />-->\r\n        <navigation-bar  @onLeftClick=\"onBack\" :pageName=\"title\" :bothWidth=\"headerItemWidth\" >\r\n            <template v-slot:nav-right>\r\n                <div class=\"rightBtn\" @click=\"messageMarkRead\">{{rightName}}</div>\r\n            </template>\r\n        </navigation-bar>\r\n\r\n        <div class=\"message-list\">\r\n            <van-pull-refresh\r\n            v-model=\"refreshing\"\r\n            @refresh=\"onRefresh\"\r\n            >\r\n                <van-list\r\n                    v-model=\"loading\"\r\n                    :error.sync=\"error\"\r\n                    error-text=\"请求失败，点击重新加载\"\r\n                    :finished=\"finished\"\r\n                    :offset=\"356\"\r\n                    :immediate-check=\"false\"\r\n                    @load=\"onLoad\"\r\n                    v-show=\"!(contentLoaded && messageList.length == 0)\"\r\n                >\r\n                    <div class=\"message-cell\" v-for=\"(item, index) in messageList \" :key=\"index\" @click=\"jumpNoticeContent(item)\">\r\n                        <div class=\"cell-icon\">\r\n                            <img :src=\"item.READ_FLAG != 1 ? noticeUnReadImg : noticeReadImg\" alt=\"\">\r\n                        </div>\r\n                        <div class=\"text-content\" :class=\"{textContentThemeL:bindThemeL}\">\r\n                            <div class=\"text-title\" :style=\"item.READ_FLAG != 1 ? 'color: #333333' : 'color: #C8C8C8'\">{{item.NOTICE_NAME}}</div>\r\n                            <div class=\"message-time\">{{item.CREATED_TIME}}</div>\r\n                        </div>\r\n                        <div class=\"cell-right\" :class=\"{cellRightThemeL:bindThemeL}\">\r\n                            <div class=\"testTmp\" :style=\"item.READ_FLAG != 1 ? 'color: #333333' : 'color: #C8C8C8'\">查看详情</div>\r\n                            <van-icon name=\"arrow\" color=\"#B0B0B0\" size=\"18px\" />\r\n                        </div>\r\n\r\n                    </div>\r\n\r\n                    <!-- 页面底部logo 无更多内容时展示 add for ZHSQYYPT-5180-->\r\n                    <!--<div class=\"finishedBox\" v-if=\"finished\">\r\n                        <img src=\"@/assets/images/mall/mall_logo.png\" alt=\"\">\r\n                    </div>-->\r\n\r\n                </van-list>\r\n                <div class=\"no-list\" v-show=\"contentLoaded && messageList.length == 0\">\r\n                    <img :src=\"noSourceImg\" alt=\"\">\r\n                    <div class=\"no-text\">暂无消息</div>\r\n                </div>\r\n            </van-pull-refresh>\r\n    </div>\r\n    <!-- 弹出框 -->\r\n    <van-dialog\r\n    v-model=\"isShowDialog\"\r\n    confirmButtonColor=\"#fb5768\"\r\n    :message=\"dialogMessage\"\r\n    show-cancel-button\r\n    :beforeClose=\"beforeClose\"/>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n\r\n    import {\r\n        getSystemNotifyMessage,\r\n        requestMessageReaded\r\n    } from \"../../services/noticeService\";\r\n\r\n\r\n    import Vue from 'vue';\r\n    import { Icon, List, PullRefresh } from 'vant';\r\n    Vue.use(Icon).use(List).use(PullRefresh);\r\n    import {storage} from '../../utils/storage'\r\n\r\n    import NavigationBar from '@/common/currency/NavigationBar.vue';\r\n\r\n    // 无内容图片\r\n    import noSourceImg from '@/assets/images/default/no_con_img.png'\r\n    // 消息已读图片\r\n    import noticeReadImg from '@/assets/images/home/notice/notice_read.png'\r\n    // 消息未读图片\r\n    import noticeUnReadImg from '@/assets/images/home/notice/notice_unread.png'\r\n\r\n    export default {\r\n        name: \"systemNotice\",\r\n        components: {\r\n            NavigationBar\r\n        },\r\n        created () {\r\n            this.getNoticeList(true);\r\n        },\r\n        data() {\r\n            return {\r\n                active: 0,\r\n                title: '生活信箱',\r\n\r\n                rightName: '',\r\n                headerItemWidth:{\r\n                    width:'120PX'\r\n                },\r\n\r\n                messageList: [],\r\n                refreshing: false,\r\n                loading: false,\r\n                finished: false,\r\n                error: false,\r\n                // 当前页码值\r\n                pageNum: 1,\r\n                // 每页个数\r\n                pageSize: 10,\r\n                // 内容已加载\r\n                contentLoaded: false,\r\n\r\n                //是否显示提示框\r\n                isShowDialog: false,\r\n                //提示框内容\r\n                dialogMessage: '确认全部已读？',\r\n                //设为已读消息id\r\n                readedNotices:[],\r\n\r\n                //图片\r\n                noSourceImg: noSourceImg,\r\n                noticeReadImg: noticeReadImg,\r\n                noticeUnReadImg: noticeUnReadImg,\r\n\r\n                /*大字模式*/\r\n                bindThemeL: this.$curTheme==0 ? false : true\r\n            };\r\n        },\r\n\r\n        methods: {\r\n            onBack() {\r\n                this.$router.back(-1);\r\n            },\r\n            //设置消息全部为已读\r\n            messageMarkRead() {\r\n                if (this.messageList.length == 0) {\r\n                    return;\r\n                }\r\n                else {\r\n                    this.isShowDialog = true;\r\n                }\r\n\r\n                // let noticeCodes = '';\r\n                // for (let index = 0; index < this.messageList.length; index++) {\r\n                //     const element = this.messageList[index];\r\n                //     if (element.READ_FLAG == 0) {\r\n                //         //未读消息添加消息id\r\n                //         noticeCodes += element.NOTICE_CODE + ',';\r\n                //     }\r\n                // }\r\n\r\n                // if (noticeCodes.length > 0) {\r\n                //     noticeCodes = noticeCodes.substr(0, noticeCodes.length - 1);\r\n                //     console.log('当前未读通知id列表： ' + noticeCodes);\r\n                //     this.readedNotices = noticeCodes;\r\n                //     this.isShowDialog = true;\r\n                // }\r\n                // else {\r\n                //     this.readedNotices = [];\r\n                //     this.showMsg('没有未读通知');\r\n                // }\r\n\r\n            },\r\n             // 退出登录弹框回调\r\n            beforeClose: function(action, done) {\r\n                if (action === \"confirm\") {\r\n                    this.setMessageReaded();\r\n                }\r\n                done();\r\n            },\r\n            //设置消息已读\r\n            setMessageReaded() {\r\n                let requestData = {\r\n                    // \"NOTICE_CODE\": this.readedNotices,\r\n                    \"OWNER_CODE\": this.$userInfo.OWNER_CODE,\r\n                    \"DEPT_CODE\": this.$userInfo.DEPT_CODE,\r\n                    \"AREA_CODE\": this.$userInfo.AREA_CODE,\r\n                    \"ROOM_CODE\": this.$userInfo.ROOM_CODE\r\n                };\r\n                // let requestData = {\r\n                //     'userCode': this.$userInfo.OWNER_CODE,\r\n                // }\r\n                requestMessageReaded(requestData)\r\n                .then(noteData => {\r\n                    this.showMsg(noteData.msg);\r\n                    document.querySelector(\".message-list\").scrollTop = 0;\r\n                    this.onRefresh();\r\n                })\r\n                .catch(error => {\r\n                    this.showMsg(error);\r\n                });\r\n            },\r\n            //跳转到消息详情\r\n            jumpNoticeContent(item) {\r\n                let paramsObj ={\r\n                    UUID :item.UUID,\r\n                    NOTICE_CODE : item.NOTICE_CODE,\r\n                    DEPT_CODE : this.$userInfo.DEPT_CODE,\r\n                    ROOM_CODE : this.$userInfo.ROOM_CODE,\r\n                    OWNER_CODE: this.$userInfo.OWNER_CODE,\r\n                    AREA_CODE: this.$userInfo.AREA_CODE\r\n                };\r\n                // $state.go('noticeDetail',{object: JSON.stringify(obj)});\r\n                this.$router.push({\r\n                    name: \"noticeDetail\",\r\n                    params: {noticeReq:  paramsObj}\r\n                });\r\n            },\r\n            // 获取系统消息列表\r\n            getNoticeList(isRefresh) {\r\n\r\n                let requestData = {\r\n                    OWNER_CODE: this.$userInfo.OWNER_CODE,\r\n                    AREA_CODE: this.$userInfo.AREA_CODE,\r\n                    DEPT_CODE: this.$userInfo.DEPT_CODE,\r\n                    ROOM_CODE: this.$userInfo.ROOM_CODE,\r\n                    PAGE: this.pageNum.toString(),\r\n                    ROWS: this.pageSize.toString(),\r\n                };\r\n                getSystemNotifyMessage(requestData)\r\n                .then(noteData => {\r\n                    this.loading = false;\r\n                    if (isRefresh) {\r\n                        this.finished = false;\r\n                        this.refreshing = false;\r\n                        this.messageList = [];\r\n                    }\r\n                    if (noteData.ROWS != undefined\r\n                    &&  noteData.ROWS.length > 0) {\r\n                        noteData.ROWS.forEach(element => {\r\n                            this.messageList.push(element);\r\n                        });\r\n\r\n                        this.rightName = '全部标为已读';\r\n                    }\r\n\r\n                    // 加载完成\r\n                    if (this.pageNum * this.pageSize >= noteData.TOTAL) {\r\n                        this.finished = true;\r\n                    }\r\n                    this.pageNum++;\r\n                    this.contentLoaded = true;\r\n                })\r\n                .catch(error => {\r\n                    this.loading = false;\r\n                    this.refreshing = false;\r\n                    this.error = true;\r\n                    this.contentLoaded = true;\r\n                    this.showMsg(error);\r\n                });\r\n            },\r\n            // 加载更多\r\n            onLoad() {\r\n                if (!this.contentLoaded) {\r\n                    return;\r\n                }\r\n                this.error = false;\r\n                this.loading = true;\r\n                this.getNoticeList(false);\r\n            },\r\n            //下拉刷新\r\n            onRefresh() {\r\n                this.error = false;\r\n                this.loading = false;\r\n                this.pageNum = 1;\r\n                this.getNoticeList(true);\r\n            },\r\n            showMsg: function(msg){\r\n                this.$toast(msg);\r\n            },\r\n        }\r\n    }\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n    $navHeight: 44px;\r\n\r\n    .system-message-page {\r\n        box-sizing: border-box;\r\n        position: absolute;\r\n        overflow: hidden;;\r\n        width: 100%;\r\n        height: 100%;\r\n        background-color: #f9f9f9;\r\n        display: flex;\r\n        flex-direction: column;\r\n    }\r\n\r\n    /* 导航 */\r\n    /*.nav-bar {\r\n        position: relative;\r\n        width: 100%;\r\n        height: $navHeight;\r\n        z-index: 66;\r\n    }\r\n    .van-nav-bar .van-nav-bar__title {\r\n        font-family: PingFangSC-Medium !important;\r\n        font-size: 17px !important;\r\n    }\r\n    .van-nav-bar__right {\r\n        .van-nav-bar__text {\r\n            font-family: PingFangSC-Regular;\r\n            font-size: 14px !important;\r\n            color: #333333 !important;\r\n            line-height: $navHeight;\r\n        }\r\n    }*/\r\n    .rightBtn{\r\n        font-family: PingFangSC-Regular;\r\n        font-size: 14PX;\r\n        color: #333333;\r\n        letter-spacing: -0.05PX;\r\n        line-height: 32PX;\r\n        padding-right: 10PX;\r\n        width: 100%;\r\n        text-align: right;\r\n    }\r\n    .themeL .rightBtn{\r\n        font-size: 17PX;\r\n    }\r\n\r\n    .message-list {\r\n        box-sizing: border-box;\r\n        flex: 1;\r\n        width: 100%;\r\n        overflow: auto;\r\n        .message-cell {\r\n            display: flex;\r\n            box-sizing: border-box;\r\n            height: 75px;\r\n            background-color: #ffffff;\r\n            margin: 0px 15px 0px 15px;\r\n\r\n            border-bottom: 0.5px solid #e5e5e5;\r\n            .cell-icon {\r\n                height: 40px;\r\n                width: 40px;\r\n                align-self: center;\r\n                img {\r\n                    height: 100%;\r\n                    width: 100%;\r\n                    overflow: hidden;\r\n                }\r\n            }\r\n            .text-content {\r\n                width: 222px;\r\n                margin-left: 10px;\r\n                .text-title,.message-time {\r\n                    white-space: nowrap;\r\n                    overflow: hidden;\r\n                    text-overflow: ellipsis;\r\n                }\r\n                .text-title {\r\n                    margin-top: 15px;\r\n                    height: 26px;\r\n                    line-height: 26px;\r\n                    font-family: PingFangSC-Regular;\r\n                    font-size: 16px;\r\n                }\r\n                .message-time {\r\n                    margin-top: 4px;\r\n                    font-family: PingFangSC-Regular;\r\n                    font-size: 12px;\r\n                    color: #C8C8C8;\r\n                    line-height: 15px;\r\n                }\r\n            }\r\n            .textContentThemeL {\r\n                width: 210px;\r\n                .text-title {\r\n                    font-size: 17px;\r\n                    margin-top: 13px;\r\n                }\r\n                .message-time {\r\n                    font-size: 15px;\r\n                }\r\n            }\r\n            .cell-right {\r\n                display: flex;\r\n                justify-content: flex-end;\r\n                margin-top: 16px;\r\n                height: 26px;\r\n                line-height: 26px;\r\n                width: 78px;\r\n                font-size: 13px;\r\n                align-items: center;\r\n            }\r\n            .cellRightThemeL {\r\n                font-size: 17px;\r\n                min-width: 90px;\r\n                margin-top: 15px;\r\n            }\r\n        }\r\n    }\r\n    // .van-pull-refresh{\r\n    //     position: relative;\r\n    //     min-height:100%;\r\n    // }\r\n    // /deep/.van-pull-refresh__track{\r\n    //     position: absolute;\r\n    //     min-height:100%;\r\n    // }\r\n    .no-list {\r\n        display: flex;\r\n        flex-direction: column;\r\n        justify-content: center;\r\n        align-items: center;\r\n        width: 100%;\r\n        padding-top: 200px;\r\n        padding-bottom: 100px;\r\n    }\r\n    .no-list img {\r\n        width: 146px;\r\n        // height: 132px;\r\n    }\r\n    .no-text{\r\n        font-size: 14px;\r\n        line-height: 42px;\r\n        color:#9A9A9A;\r\n    }\r\n    .themeL .no-text{\r\n        font-size: 15px;\r\n        padding-top: 10px;\r\n    }\r\n    .no-list div {\r\n        width: 100%;\r\n        text-align: center;\r\n        font-size: 14px;\r\n    }\r\n\r\n    /*底部logo*/\r\n    .finishedBox {\r\n        width: 100%;\r\n        text-align: center;\r\n        margin-bottom: 6px;\r\n        img {\r\n            width: 75px;\r\n            height: 21px;\r\n        }\r\n    }\r\n\r\n    .van-pull-refresh {\r\n        min-height: 100% !important;\r\n    }\r\n\r\n    .van-pull-refresh__track {\r\n        min-height: 100% !important;\r\n    }\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SystemNotice.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SystemNotice.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SystemNotice.vue?vue&type=template&id=ef5a165a&scoped=true&\"\nimport script from \"./SystemNotice.vue?vue&type=script&lang=js&\"\nexport * from \"./SystemNotice.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SystemNotice.vue?vue&type=style&index=0&id=ef5a165a&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"ef5a165a\",\n  null\n  \n)\n\nexport default component.exports","module.exports = __webpack_public_path__ + \"img/no_con_img.911db657.png\";","\r\nimport http from \"../http\";\r\n\r\nexport {\r\n    getSystemNotifyMessage,\r\n    requestMessageReaded,\r\n    getNoticeDetail\r\n}\r\n\r\n//获取系统通知消息\r\nconst getSystemNotifyMessage = (reqData) => {\r\n    return new Promise((resolve, reject) => {\r\n        http.post('hisense-systemServer/app/owner/notice/getAllNote.do', { data: JSON.stringify(reqData) }, true, 'homeUrl').then(noteData => {\r\n            resolve(noteData);\r\n        }).catch(error => {\r\n            reject(error);\r\n        })\r\n    });\r\n}\r\n\r\n//设置消息全部已读\r\nconst requestMessageReaded = (reqData) => {\r\n    return new Promise((resolve, reject) => {\r\n        // http.post('xwj-sys-msg/jPushManage/readAllMsg', { data: JSON.stringify(reqData) }, true, 'homeUrl').then(noteData => {\r\n        http.post('hisense-systemServer/app/owner/notice/updateIgnore.do', { data: JSON.stringify(reqData) }, true, 'homeUrl').then(noteData => {\r\n            resolve(noteData);\r\n        }).catch(error => {\r\n            reject(error);\r\n        })\r\n    });\r\n}\r\n\r\n//获取通知详情\r\nconst getNoticeDetail = (reqData) => {\r\n    return new Promise((resolve, reject) => {\r\n        http.post('hisense-systemServer/app/owner/notice/getPropertyNotice.do', { data: JSON.stringify(reqData) }, true, 'homeUrl').then(noteData => {\r\n            resolve(noteData);\r\n        }).catch(error => {\r\n            reject(error);\r\n        })\r\n    });\r\n}","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SystemNotice.vue?vue&type=style&index=0&id=ef5a165a&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SystemNotice.vue?vue&type=style&index=0&id=ef5a165a&scoped=true&lang=scss&\"","module.exports = __webpack_public_path__ + \"img/notice_read.2bf8b318.png\";","module.exports = __webpack_public_path__ + \"img/notice_unread.8fbb9da8.png\";"],"sourceRoot":""}