(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-be7253e8"],{"75ce":function(e,t,o){},"95a8":function(e,t,o){"use strict";var r=o("75ce"),i=o.n(r);i.a},db7c:function(e,t,o){"use strict";o.r(t);var r=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"flex-page"},[o("navigation-bar",{attrs:{pageName:"品质生活"},on:{onLeftClick:e.goBack}}),!e.networkError&&e.sourceList.length>0?o("div",{staticClass:"flex-full"},[o("infinite-scroll",{ref:"scrollParent",attrs:{dataSource:e.sourceList,loadFinished:e.goodsLoadFinished,reachBottomDistance:1e3,scrollTop:this.scrollTop},on:{pullDownRefresh:function(t){return e.queryArticle(!0)},pullUpLoad:function(t){return e.queryArticle()},itemClick:e.qualityClick,endLoading:e.endLoading}})],1):e._e(),e.networkError?o("div",{staticStyle:{height:"300px","padding-top":"50px"}},[o("NetworkError",[o("div",{staticClass:"refresh-btn",attrs:{slot:"refreshMode"},on:{click:function(t){return e.queryArticle(!0)}},slot:"refreshMode"},[e._v("\n        重新加载\n      ")])])],1):e._e(),o("div",{directives:[{name:"show",rawName:"v-show",value:e.loadingViewShow,expression:"loadingViewShow"}],staticClass:"loading-view",staticStyle:{top:"0px",left:"0px"}},[o("van-loading",{attrs:{color:"#17B7BD"}})],1)],1)},i=[],a=(o("8e6e"),o("456d"),o("a481"),o("ac6a"),o("bd86")),s=(o("7f7f"),o("c5f6"),o("2f62")),n=o("c554"),c=o("dcbb"),l=o("0aa6"),u=o("2b0e"),d=o("28a2"),f=o("d399"),p=o("543e"),h=o("2241");function g(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,r)}return o}function w(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?g(o,!0).forEach((function(t){Object(a["a"])(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):g(o).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}u["a"].use(d["a"],f["a"],p["a"],h["a"]);var v={name:"QualityDetailPage",created:function(){},components:{"infinite-scroll":n["a"],NetworkError:c["a"],NavigationBar:l["a"]},activated:function(){var e=this;if(console.log(Object.assign({},this.sourceList)),this.$route.params.reload){this.sourceList=[],this.page=1;var t=this.$store.state.quality.defaultQualityList;this.$store.dispatch("setDefaultQualityList",[]);for(var o=0;o<t.length;o++)t[o].src=t[o].picUrl;setTimeout((function(){e.sourceList=t,e.queryArticle(!1,!0)}),200),this.scrollTop=0}else document.querySelector(".vue-waterfall-easy-scroll").scrollTop=this.scrollTop},props:{activeIndex:{type:Number}},data:function(){return{isLoading:"",loading:"",sourceList:[],scrollTop:0,networkError:!1,page:1,loadingViewShow:!1}},beforeRouteLeave:function(e,t,o){var r=document.querySelector(".vue-waterfall-easy-scroll");r&&(this.scrollTop=r.scrollTop),console.log(e.name),"homePage"==e.name&&(this.sourceList=[]),o()},computed:w({},Object(s["c"])({goodsLoadFinished:function(e){return e.quality.articleFinished}})),methods:w({},Object(s["b"])(["getQualityListAction"]),{qualityClick:function(e){var t=e.value.articleNo,o=e.value.src;this.$router.push({name:"qualityDetail",params:{articleNo:t,articleImg:o}})},startLoading:function(){console.log("startloading"),this.loadingViewShow=!0},endLoading:function(){console.log("endloading"),this.loadingViewShow=!1},queryArticle:function(e,t){var o=this;(e||t)&&(this.page=1,this.startLoading()),this.getQualityListAction(this.page).then((function(r){if(o.networkError=!1,r.pageNum==o.page){if(o.page+=1,r.articleList.forEach((function(e,t){t%2==0&&(e.src=e.src.replace("xwjfile.juhaolian.cn","xwjfilea.juhaolian.cn"))})),e)return o.sourceList=r.articleList,void console.log("refresh:"+o.sourceList);if(t){var i=r.articleList;i.splice(0,6),o.sourceList=o.sourceList.concat(i),console.log("isFirst:"+o.sourceList)}else o.sourceList=o.sourceList.concat(r.articleList),console.log("nomarl:"+o.sourceList)}})).catch((function(t){o.endLoading(),e&&(o.networkError=!0)}))},goBack:function(){this.sourceList=[],this.$router.back(-1)}})},L=v,y=(o("95a8"),o("2877")),b=Object(y["a"])(L,r,i,!1,null,"186bcc56",null);t["default"]=b.exports}}]);
//# sourceMappingURL=chunk-be7253e8.73feea0f.js.map