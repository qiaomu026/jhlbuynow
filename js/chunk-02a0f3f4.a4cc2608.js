(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-02a0f3f4"],{"0b82":function(t,e,i){"use strict";var n=i("7eda"),s=i.n(n);s.a},"10af":function(t,e,i){t.exports=i.p+"img/no_after_sales_img.d566ebf2.png"},"3dcf":function(t,e,i){"use strict";var n=i("c6ed"),s=i.n(n);s.a},"6c90":function(t,e,i){"use strict";i.d(e,"i",(function(){return s})),i.d(e,"k",(function(){return o})),i.d(e,"g",(function(){return a})),i.d(e,"h",(function(){return c})),i.d(e,"j",(function(){return r})),i.d(e,"f",(function(){return u})),i.d(e,"a",(function(){return h})),i.d(e,"l",(function(){return l})),i.d(e,"e",(function(){return f})),i.d(e,"c",(function(){return m})),i.d(e,"b",(function(){return d})),i.d(e,"d",(function(){return p}));var n=i("ba6a"),s=function(t){return new Promise((function(e,i){n["a"].get("xwj-commerce-sale/myOrder/getAllOrders",t,"baseUrl",!0).then((function(t){e(t)})).catch((function(t){i(t)}))}))},o=function(t){return new Promise((function(e,i){n["a"].get("xwj-commerce-sale/myOrder/getUnevaluatedSaleOrders",t,"baseUrl",!0).then((function(t){e(t)})).catch((function(t){i(t)}))}))},a=function(t){return new Promise((function(e,i){n["a"].post("xwj-commerce-sale/myOrder/confirmOrder",t,!1).then((function(t){e(t)})).catch((function(t){i(t)}))}))},c=function(t){return new Promise((function(e,i){n["a"].get("xwj-commerce-sale/goods/returnOrderList",t,"baseUrl",!1).then((function(t){e(t)})).catch((function(t){i(t)}))}))},r=function(t){return new Promise((function(e,i){n["a"].post("xwj-commerce-coupon/coupon/queryByUser",t,!1,"baseUrl",!1).then((function(t){e(t)})).catch((function(t){i(t)}))}))},u=function(t){return new Promise((function(e,i){n["a"].post("xwj-commerce-sale/order/orderCancel",t).then((function(t){e(t)})).catch((function(t){i(t)}))}))},l=function(t){return new Promise((function(e,i){n["a"].post("xwj-commerce-sale/order/prepareToPayOrder",t).then((function(t){e(t)})).catch((function(t){i(t)}))}))},h=function(t){return new Promise((function(e,i){n["a"].post("xwj-commerce-sale/shopCart/batchAddGoods",t).then((function(t){e(t)})).catch((function(t){i(t)}))}))},d=function(t){return new Promise((function(e,i){n["a"].post("xwj-commerce-sale/goods/validateReturnGoods",t).then((function(t){e(t)})).catch((function(t){i(t)}))}))},f=function(t){return new Promise((function(e,i){n["a"].post("xwj-commerce-sale/goods/returnGoodsCancel",t).then((function(t){e(t)})).catch((function(t){i(t)}))}))},m=function(t){return new Promise((function(e,i){n["a"].post("xwj-commerce-sale/goods/returnGoods",t).then((function(t){e(t)})).catch((function(t){i(t)}))}))},p=function(t){return new Promise((function(e,i){n["a"].post("xwj-commerce-sale/goods/refundBySub",t).then((function(t){e(t)})).catch((function(t){i(t)}))}))}},"7eda":function(t,e,i){},9981:function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"myOrderList",class:{themeL:t.bindThemeL}},[i("navigation-bar",{staticClass:"title",style:t.setTopHeight,attrs:{pageName:"售后"},on:{onLeftClick:function(e){return t.goToBack()}}}),i("div",{staticClass:"tabTitle"},[i("van-tabs",{attrs:{color:"#FB5768","line-width":"0.67rem","line-height":"0.08rem"},on:{click:t.controlTab},model:{value:t.active,callback:function(e){t.active=e},expression:"active"}},t._l(t.tabTitle,(function(e,n){return i("van-tab",{key:n,attrs:{title:e,"title-style":{fontSize:t.titleThemeL}}})})),1)],1),i("van-swipe",{ref:"swipe",staticClass:"orderSwipe",attrs:{"show-indicators":!1,loop:!1,"initial-swipe":t.afterTab},on:{change:t.controlSwiper}},[i("van-swipe-item",{key:0,on:{touchstart:function(e){return t.bottomAdTouchStart()},touchmove:function(e){return t.bottomAdTouchMove()},touchend:function(e){return t.bottomAdTouchEnd()}}},[i("afterSaleCard",{ref:"mychild0",attrs:{mgChildKey:"0",isActKey:t.active,isClickEven:t.swipeClickedEven}})],1),i("van-swipe-item",{key:1,on:{touchstart:function(e){return t.bottomAdTouchStart()},touchmove:function(e){return t.bottomAdTouchMove()},touchend:function(e){return t.bottomAdTouchEnd()}}},[i("afterSaleCard",{ref:"mychild1",attrs:{mgChildKey:"1",isActKey:t.active,isClickEven:t.swipeClickedEven}})],1),i("van-swipe-item",{key:2,on:{touchstart:function(e){return t.bottomAdTouchStart()},touchmove:function(e){return t.bottomAdTouchMove()},touchend:function(e){return t.bottomAdTouchEnd()}}},[i("afterSaleCard",{ref:"mychild2",attrs:{mgChildKey:"2",isActKey:t.active,isClickEven:t.swipeClickedEven}})],1)],1)],1)},s=[],o=(i("7f7f"),function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{class:{themeL:t.bindThemeL}},[i("van-pull-refresh",{on:{refresh:t.onRefresh},model:{value:t.isRefresh,callback:function(e){t.isRefresh=e},expression:"isRefresh"}},[i("van-list",{style:{"min-height":t.listMinHeight+"px"},attrs:{finished:t.finished,"error-text":"请求失败，刷新重新加载","immediate-check":!1},on:{load:function(e){return t.onLoad(t.mgChildKey)}},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},[t._l(t.lists,(function(e,n){return 0==t.isLists?i("div",{staticClass:"orderList"},[i("div",{staticClass:"commonShop"},[i("div",{staticClass:"shopTitle",on:{click:function(i){return t.toShop(e.shopCode)}}},[i("div",{staticClass:"shopName"},[t._v(t._s(e.shopName))]),i("img",{attrs:{src:t.img.arrowShop}})]),1==t.mgChildKey&&0==e.billStatus?i("div",{staticClass:"callShop"},[t._v("待审核")]):t._e(),1==t.mgChildKey&&1==e.billStatus?i("div",{staticClass:"callShop"},[t._v("待退款")]):t._e(),2==t.mgChildKey&&0==e.billStatus?i("div",{staticClass:"callShop"},[t._v("退款成功")]):t._e(),2==t.mgChildKey&&1==e.billStatus?i("div",{staticClass:"callShop"},[t._v("申请未通过")]):t._e(),i("div",{staticClass:"normalCard",on:{click:function(i){return t.showAfterDetail(e)}}},[i("img",{staticClass:"goodsPic",attrs:{src:e.spuPicUrl}}),i("div",{staticClass:"goodsDetail"},[i("div",{staticClass:"spuName"},[t._v(t._s(e.spuName))]),i("div",{staticClass:"spuAttr"},[t._v(t._s(e.attrValueContent))]),i("div",{staticClass:"orderCount"},[t._v("x"+t._s(e.skuCount))])]),i("div",{staticClass:"orderSC"},[i("span",{staticClass:"redMoneyIcon"},[t._v("￥")]),i("span",{staticClass:"redMoney"},[t._v(t._s(e.returnRealTotal))])])]),0==t.mgChildKey?i("div",{staticClass:"bottomBtn"},[i("button",{staticClass:"turnToPay",on:{click:function(i){return t.applyForAfter(e)}}},[t._v("申请售后")])]):t._e()])]):t._e()})),1==t.isLists?i("div",{staticClass:"noList"},[i("img",{attrs:{src:t.img.noList}}),i("div",[t._v("暂无订单")])]):t._e()],2)],1)],1)}),a=[],c=i("6c90"),r=(i("2f62"),i("2b0e")),u={name:"afterSaleCard",props:["mgChildKey","isActKey","isClickEven"],data:function(){return{lists:[],isLists:!1,img:{arrowShop:i("d3b8"),callShop:i("61bc"),noList:i("10af")},loading:!1,finished:!1,page:1,totalPages:5,isRefresh:!1,listMinHeight:document.body.clientHeight-this.$stbHeight-55-44,ifDetailReturn:!1,bindThemeL:0!=this.$curTheme}},methods:{onRefresh:function(t){this.page=1,this.returnOrderList(t),this.finished=!1},emptyData:function(){var t=[];t.push(this.lists[0]),this.lists=[]},returnOrderList:function(t){var e=this,i={page:e.page,row:5,ownerCode:e.$userInfo.OWNER_CODE,returnStatus:e.mgChildKey};Object(c["h"])(i).then((function(t){e.totalPages=t.pages,1==e.page&&(e.lists=[]),0==t.total?(e.isLists=!0,e.finished=!1,e.loading=!1,e.isRefresh=!1):(e.lists=e.lists.concat(t.data),e.lists.map((function(t,e){t.picUrl=t.spuPicUrl,r["a"].prototype.$isHasLocalImage(t.spuPicUrl,(function(e){t.spuPicUrl=e}))})),e.page+=1,e.loading=!1,e.finished=e.page>e.totalPage,e.isRefresh=!1)}))},onLoad:function(t){var e=this;e.mgChildKey==e.isActKey&&(console.log("初始化的时候走了这里"),e.totalPages>=e.page?e.returnOrderList(t):(e.totalPages<e.pageisLists||""!=e.lists)&&(e.finished=!0))},applyForAfter:function(t){this.isClickEven&&this.$router.push({name:"afterSaleApply",params:{detail:t}})},showAfterDetail:function(t){this.isClickEven&&0!=this.mgChildKey&&this.$router.push({name:"afterSaleDetail",params:{detail:t,flag:this.mgChildKey}})},toShop:function(t){this.isClickEven&&this.$router.push({name:"shopPage",params:{shopCode:t}})}}},l=u,h=(i("3dcf"),i("2877")),d=Object(h["a"])(l,o,a,!1,null,"282cc5d4",null),f=d.exports,m=i("0aa6"),p={name:"afterSaleList",components:{afterSaleCard:f,NavigationBar:m["a"]},data:function(){return{tabTitle:["退货申请","处理中","已完成"],active:0,key:0,afterTab:0,setTopHeight:{"padding-top":this.$stbHeight+"px"},swipeClickedEven:!0,bindThemeL:0!=this.$curTheme,titleThemeL:0==this.$curTheme?"14px":"17px"}},methods:{bottomAdTouchStart:function(){console.log("touch start"),this.adClickFlag=!0},bottomAdTouchMove:function(){console.log("touch Move"),this.adClickFlag=!1},bottomAdTouchEnd:function(t){this.adClickFlag?(console.log("点击事件"),this.swipeClickedEven=!0):(console.log("滑动touch事件"),this.swipeClickedEven=!1)},controlTab:function(t){this.key=t,this.$refs.swipe.swipeTo(t)},controlSwiper:function(t){this.active=t,"0"==t?(this.$refs.mychild0.onRefresh("0"),this.$refs.mychild1.emptyData(),this.$refs.mychild2.emptyData()):"1"==t?(this.$refs.mychild1.onRefresh("1"),this.$refs.mychild0.emptyData(),this.$refs.mychild2.emptyData()):(this.$refs.mychild2.onRefresh("2"),this.$refs.mychild1.emptyData(),this.$refs.mychild0.emptyData())},goToBack:function(){this.$router.go(-1)},setTabIndex:function(t){this.$store.commit("leaveOrderList",{afterTabIndex:t})}},beforeRouteLeave:function(t,e,i){"afterSaleApply"==t.name||"afterSaleDetail"==t.name||"shopPage"==t.name?this.setTabIndex(this.active):this.setTabIndex(10),i()},mounted:function(){0==this.afterTabIndex||1==this.afterTabIndex||2==this.afterTabIndex?(this.controlSwiper(this.afterTabIndex),this.afterTab=this.afterTabIndex):(this.controlSwiper("0"),this.afterTab=0)},computed:{afterTabIndex:function(){return this.$store.state.productPage.afterTabIndex}}},g=p,v=(i("0b82"),Object(h["a"])(g,n,s,!1,null,"0b7a54d6",null));e["default"]=v.exports},c6ed:function(t,e,i){},d3b8:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAYCAYAAADKx8xXAAAAAXNSR0IArs4c6QAAAeNJREFUOBGdkz9MwkAUxrm2oNEOMOiEiZuTGhajMSqJcdDFiS7EASywuLCYGBcWFxcGJ/4EI4uGOJq6mKjRwSiLkyZusuiiicHIn9D6vWqhQQqNTR7vru/73Xe8uzoc/3wYcfl8frBSqWw7nc79UCj0ZGctjkSALjVN26rVasVsNjtlG3S73f5fcX+j0TjPZDIrvWDdUZKkssfjGWCMFQEwVVWPAa93g3WQBIC/sF0/YAWhAd4DnLCC9eaYi4AZgCRyFOHAIkfRaFRGVs26P6BRTKVScYx3aA7oCh1fRccrRt0SJAHgANIBAix75DhuUZblN6p1BUmQTqcXsOUTDF2IF8RcLBZ77glCSM7jSBdwFbHIJ8YLtkCCc7ncSL1ev8FwGCE0j4OKNh7N0NgCaatwuwc0hO2WkScEYwWr3NacV0EQZsPhcKmrIx0HmnEKFzJ4EEVxkiAysQQBxQHQGeoXwOVyTQeDwXea08P/pNYvHJjX66UrtwlQQxQikYjk8/nqLVXbBYCLE8VDiJdpAdyUXUAJM2CMm46FQkGsVqtnKMwjGM/zG4CShrA96xdAUZS+UqlE7R5FNOAUAKS0i81z/TgAXePlGOIDTku4yLdmUaex0dU1/K87fDozdqBOC9l+9w1OV7EeOsl6xwAAAABJRU5ErkJggg=="}}]);
//# sourceMappingURL=chunk-02a0f3f4.a4cc2608.js.map