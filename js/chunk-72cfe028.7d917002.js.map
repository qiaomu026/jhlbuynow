{"version":3,"sources":["webpack:///./src/services/propertyActivityService.js","webpack:///./src/page/property/propertyActivity/propertyActivityDetail.vue?c83e","webpack:///./src/page/property/propertyActivity/propertyActivityDetail.vue?1a6e","webpack:///src/page/property/propertyActivity/propertyActivityDetail.vue","webpack:///./src/page/property/propertyActivity/propertyActivityDetail.vue?fe51","webpack:///./src/page/property/propertyActivity/propertyActivityDetail.vue"],"names":["getActivityListService","params","Promise","resolve","reject","http","post","then","result","catch","error","getActivityDetailInfoService","getEtcDetailService","getJoinInfoService","getCancelStateService","getReadyStateService","getScreeningsService","render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","title","headerItemWidth","on","goBack","style","top","$stbHeight","activity","PIC_URL","_e","_v","_s","ACTI_NAME","ENROL_CNT","staticStyle","sectionSelectClicked","currentDetailData","DETAIL_NAME","$event","showJoinNums","directives","name","rawName","value","expression","domProps","target","composing","joinNumber","LIMIT_MAX","ENROL_CNTS","START_TIME","END_TIME","CONTENT","class","isActive","marginBottom","$footBarHeight","doAction","actionText","selectActions","onSelect","onCancel","model","callback","$$v","isShowSelect","height","onNumCancel","showJoinNum","joinNums","curNumIndex","onNumChange","onNumOk","staticRenderFns","components","data","detailParam","$route","query","object","sectionData","isShowJoinInput","mounted","userInfo","$userInfo","getActivityData","methods","ACTI_CODE","JSON","parse","OWNER_CODE","ROOM_CODE","activityStautsHandle","START_TIME2","Date","END_TIME2","curDate","FLAG","state","getJoinInfo","activityScreenings","getEtcIfo","console","log","DETAIL_CODE","detailCode","length","item","ele","alertMsg","$toast","doAttendAction","doCancelAction","number","message","doAttend","ROOM_NAME","AREA_CODE","AREA_NAME","OWNER_NAME","OWNER_NICK_NAME","PHONE","CITY_CODE","DEPT_CODE","Number","UPDATED_BY","stringify","stateFlag","success","doCancel","$router","back","index","component"],"mappings":"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","file":"js/chunk-72cfe028.7d917002.js","sourcesContent":["import http from \"../http\";\r\n\r\nexport {\r\n    getActivityListService,\r\n    getActivityDetailInfoService,\r\n    getEtcDetailService,\r\n    getJoinInfoService,\r\n    getCancelStateService,\r\n    getReadyStateService,\r\n    getScreeningsService\r\n}\r\n\r\n//获取活动列表\r\nconst getActivityListService = (params) => {\r\n    return new Promise((resolve, reject) => {\r\n        http.post('hisense-systemServer/app/owner/ownerActivitiesController/getActiMsg.do', params,true, \"homeUrl\", false).then(result => {\r\n            //console.log(JSON.stringify(result));\r\n            resolve(result);\r\n        }).catch(error => {\r\n            reject(error);\r\n        })\r\n    });\r\n}\r\n\r\n//根据活动代码获取活动信息\r\nconst getActivityDetailInfoService = (params) => {\r\n    return new Promise((resolve, reject) => {\r\n        http.post('hisense-systemServer/app/owner/ownerActivitiesController/getActiMsgByActiCode.do', params, true, \"homeUrl\").then(result => {\r\n            //console.log(result);\r\n            resolve(result);\r\n        }).catch(error => {\r\n            reject(error);\r\n        })\r\n    });\r\n}\r\n\r\n//获取场次信息\r\nconst getEtcDetailService = (params) => {\r\n    return new Promise((resolve, reject) => {\r\n        http.post('hisense-systemServer/app/owner/ownerActivitiesController/getDetailMsgByDetailCode.do', params, true, \"homeUrl\").then(result => {\r\n            //console.log(result);\r\n            resolve(result);\r\n        }).catch(error => {\r\n            reject(error);\r\n        })\r\n    });\r\n}\r\n\r\n//获取已报名场次信息\r\nconst getJoinInfoService = (params) => {\r\n    return new Promise((resolve, reject) => {\r\n        http.post('hisense-systemServer/app/owner/ownerActivitiesController/getIsActiDetailMsg.do', params, true, \"homeUrl\").then(result => {\r\n            //console.log(result);\r\n            resolve(result);\r\n        }).catch(error => {\r\n            reject(error);\r\n        })\r\n    });\r\n}\r\n\r\n//获取取消报名\r\nconst getCancelStateService = (params) => {\r\n    return new Promise((resolve, reject) => {\r\n        http.post('hisense-systemServer/app/owner/ownerActivitiesController/deleteEnrol.do', params, true, \"homeUrl\").then(result => {\r\n            //console.log(result);\r\n            resolve(result);\r\n        }).catch(error => {\r\n            reject(error);\r\n        })\r\n    });\r\n}\r\n\r\n//获取报名\r\nconst getReadyStateService = (params) => {\r\n    return new Promise((resolve, reject) => {\r\n        http.post('hisense-systemServer/app/owner/ownerActivitiesController/addActiEnrol.do', params, true, \"homeUrl\").then(result => {\r\n            //console.log(result);\r\n            resolve(result);\r\n        }).catch(error => {\r\n            reject(error);\r\n        })\r\n    });\r\n}\r\n\r\n//根据代码获得场次信息\r\nconst getScreeningsService = (params) => {\r\n    return new Promise((resolve, reject) => {\r\n        http.post('hisense-systemServer/app/owner/ownerActivitiesController/getDetailByActiCode.do', params, true, \"homeUrl\").then(result => {\r\n            //console.log(result);\r\n            resolve(result);\r\n        }).catch(error => {\r\n            reject(error);\r\n        })\r\n    });\r\n}","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./propertyActivityDetail.vue?vue&type=style&index=0&id=8a377ad2&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./propertyActivityDetail.vue?vue&type=style&index=0&id=8a377ad2&scoped=true&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"propertyActivityDetail\"},[_c('navigation-bar',{attrs:{\"pageName\":_vm.title,\"bothWidth\":_vm.headerItemWidth},on:{\"onLeftClick\":_vm.goBack}}),_c('div',{staticClass:\"activityHeader\",style:({top:44+this.$stbHeight+'px'})},[_c('div',{staticClass:\"background_pic\"},[(_vm.activity.PIC_URL)?_c('img',{attrs:{\"src\":_vm.activity.PIC_URL}}):_vm._e()]),_c('div',{staticClass:\"activityTitle\"},[_vm._v(_vm._s(_vm.activity.ACTI_NAME))]),_c('div',{staticClass:\"activitySubTitle\"},[_vm._v(\"当前房间\"+_vm._s(_vm.ENROL_CNT)+\"人报名\")]),_c('div',{staticClass:\"list\",staticStyle:{\"margin\":\"16px\"}},[_c('div',{staticClass:\"oneLine item-input item-select\",staticStyle:{\"border-top\":\"none\"},on:{\"click\":_vm.sectionSelectClicked}},[_c('span',{staticClass:\"headerName\"},[_vm._v(\"场次:\")]),_c('span',{staticClass:\"item-note\"},[_vm._v(\"\\n          \"+_vm._s(_vm.currentDetailData.DETAIL_NAME)+\"\\n        \")])]),(_vm.isShowJoinInput)?_c('div',{staticClass:\"oneLine\"},[_c('span',{staticClass:\"headerName\"},[_vm._v(\"参加人数:\")]),_c('span',{staticClass:\"item-note\",on:{\"click\":function($event){return _vm.showJoinNums()}}},[_c('label',[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.joinNumber),expression:\"joinNumber\"}],staticClass:\"inputNumber\",attrs:{\"readonly\":\"\",\"type\":\"number\",\"placeholder\":\"请输入参加人数\"},domProps:{\"value\":(_vm.joinNumber)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.joinNumber=$event.target.value}}})])])]):_vm._e(),_c('div',{staticClass:\"oneLine\"},[_c('span',{staticClass:\"headerName\"},[_vm._v(\"人数上限/家庭:\")]),_c('span',{staticClass:\"item-note\"},[_vm._v(_vm._s(_vm.activity.LIMIT_MAX)+\"人/家\")])]),_c('div',{staticClass:\"oneLine\"},[_c('span',{staticClass:\"headerName\"},[_vm._v(\"当前场次已报名人数:\")]),_c('span',{staticClass:\"item-note\"},[_vm._v(_vm._s(_vm.ENROL_CNTS)+\"/\"+_vm._s(_vm.LIMIT_MAX)+\"人\")])]),_c('div',{staticClass:\"oneLine\"},[_c('span',{staticClass:\"headerName\"},[_vm._v(\"报名时间:\")]),_c('span',{staticClass:\"item-note\"},[_vm._v(\"\\n          \"+_vm._s(_vm.activity.START_TIME)+\"\\n          \"),_c('i',{staticStyle:{\"visibility\":\"hidden\"}},[_vm._v(\"1\")]),_vm._v(\"至\\n          \"),_c('i',{staticStyle:{\"visibility\":\"hidden\"}},[_vm._v(\"1\")]),_vm._v(\"\\n          \"+_vm._s(_vm.activity.END_TIME)+\"\\n        \")])]),_c('div',{staticClass:\"oneLine\"},[_c('span',{staticClass:\"headerName\"},[_vm._v(\"场次时间:\")]),_c('span',{staticClass:\"item-note\"},[_vm._v(\"\\n          \"+_vm._s(_vm.START_TIME)+\"\\n          \"),_c('i',{staticStyle:{\"visibility\":\"hidden\"}},[_vm._v(\"1\")]),_vm._v(\"至\\n          \"),_c('i',{staticStyle:{\"visibility\":\"hidden\"}},[_vm._v(\"1\")]),_vm._v(\"\\n          \"+_vm._s(_vm.END_TIME)+\"\\n        \")])])]),_c('div',{staticClass:\"oneLine activityHead\",staticStyle:{\"border-bottom\":\"none\"}},[_vm._v(\"活动详情\")]),_c('div',{staticClass:\"activityImg\"},[_c('p',{staticClass:\"activityIntr\",domProps:{\"innerHTML\":_vm._s(_vm.activity.CONTENT)}})])]),_c('div',{staticClass:\"etcGrayButton\",class:{'etcRedButton':_vm.isActive},style:({marginBottom:this.$footBarHeight+'px'})},[_c('div',{staticClass:\"buttonGrayStyle\",on:{\"click\":function($event){return _vm.doAction()}}},[_vm._v(_vm._s(_vm.actionText))])]),_c('van-action-sheet',{attrs:{\"round\":true,\"safe-area-inset-bottom\":true,\"actions\":_vm.selectActions,\"cancel-text\":\"取消\"},on:{\"select\":_vm.onSelect,\"cancel\":_vm.onCancel},model:{value:(_vm.isShowSelect),callback:function ($$v) {_vm.isShowSelect=$$v},expression:\"isShowSelect\"}}),_c('van-popup',{style:({ height: '36%' }),attrs:{\"position\":\"bottom\"},on:{\"click-overlay\":_vm.onNumCancel},model:{value:(_vm.showJoinNum),callback:function ($$v) {_vm.showJoinNum=$$v},expression:\"showJoinNum\"}},[_c('van-picker',{attrs:{\"show-toolbar\":\"\",\"columns\":_vm.joinNums,\"default-index\":_vm.curNumIndex,\"confirm-button-text\":\"确定\"},on:{\"change\":_vm.onNumChange,\"cancel\":_vm.onNumCancel,\"confirm\":_vm.onNumOk}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"propertyActivityDetail\">\r\n    <!-- 头部 -->\r\n    <navigation-bar  @onLeftClick=\"goBack\" :pageName=\"title\" :bothWidth=\"headerItemWidth\" ></navigation-bar>\r\n\r\n    <div class=\"activityHeader\" :style=\"{top:44+this.$stbHeight+'px'}\">\r\n      <div class=\"background_pic\">\r\n        <img :src=\"activity.PIC_URL\" v-if=\"activity.PIC_URL\" />\r\n      </div>\r\n      <div class=\"activityTitle\">{{activity.ACTI_NAME}}</div>\r\n      <div class=\"activitySubTitle\">当前房间{{ENROL_CNT}}人报名</div>\r\n      <div class=\"list\" style=\"margin:16px;\">\r\n        <div\r\n          class=\"oneLine item-input item-select\"\r\n          style=\"border-top: none;\"\r\n          @click=\"sectionSelectClicked\"\r\n        >\r\n          <span class=\"headerName\">场次:</span>\r\n          <span class=\"item-note\">\r\n            <!--<select v-model=\"number\" @change=\"changeEvent()\" id=\"DETAIL\">\r\n              <option v-for=\"x in screenings\" :value=\"x.DETAIL_CODE\">{{x.DETAIL_NAME}}</option>\r\n            </select>-->\r\n            {{currentDetailData.DETAIL_NAME}}\r\n          </span>\r\n        </div>\r\n\r\n        <div class=\"oneLine\" v-if=\"isShowJoinInput\">\r\n          <span class=\"headerName\">参加人数:</span>\r\n          <span class=\"item-note\" @click=\"showJoinNums()\">\r\n            <label>\r\n              <input readonly type=\"number\" placeholder=\"请输入参加人数\" class=\"inputNumber\" v-model=\"joinNumber\" />\r\n            </label>\r\n          </span>\r\n        </div>\r\n\r\n        <div class=\"oneLine\">\r\n          <span class=\"headerName\">人数上限/家庭:</span>\r\n          <span class=\"item-note\">{{activity.LIMIT_MAX}}人/家</span>\r\n        </div>\r\n\r\n        <div class=\"oneLine\">\r\n          <span class=\"headerName\">当前场次已报名人数:</span>\r\n          <span class=\"item-note\">{{ENROL_CNTS}}/{{LIMIT_MAX}}人</span>\r\n        </div>\r\n\r\n        <div class=\"oneLine\">\r\n          <span class=\"headerName\">报名时间:</span>\r\n          <span class=\"item-note\">\r\n            {{activity.START_TIME}}\r\n            <i style=\"visibility: hidden\">1</i>至\r\n            <i style=\"visibility: hidden\">1</i>\r\n            {{activity.END_TIME}}\r\n          </span>\r\n        </div>\r\n\r\n        <div class=\"oneLine\">\r\n          <span class=\"headerName\">场次时间:</span>\r\n          <span class=\"item-note\">\r\n            {{START_TIME}}\r\n            <i style=\"visibility: hidden\">1</i>至\r\n            <i style=\"visibility: hidden\">1</i>\r\n            {{END_TIME}}\r\n          </span>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"oneLine activityHead\" style=\"border-bottom: none\">活动详情</div>\r\n      <div class=\"activityImg\">\r\n        <p class=\"activityIntr\" v-html=\"activity.CONTENT\"></p>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"etcGrayButton\" :class=\"{'etcRedButton':isActive}\" :style=\"{marginBottom:this.$footBarHeight+'px'}\">\r\n      <div class=\"buttonGrayStyle\" @click=\"doAction()\">{{actionText}}</div>\r\n    </div>\r\n\r\n    <van-action-sheet\r\n      v-model=\"isShowSelect\"\r\n      :round=\"true\"\r\n      :safe-area-inset-bottom=\"true\"\r\n      :actions=\"selectActions\"\r\n      cancel-text=\"取消\"\r\n      @select=\"onSelect\"\r\n      @cancel=\"onCancel\"\r\n    />\r\n    <!-- 小区选择弹框 -->\r\n    <van-popup\r\n      v-model=\"showJoinNum\"\r\n      @click-overlay=\"onNumCancel\"\r\n      position=\"bottom\"\r\n      :style=\"{ height: '36%' }\"\r\n    >\r\n      <van-picker show-toolbar\r\n        :columns=\"joinNums\"\r\n        :default-index=\"curNumIndex\"\r\n        confirm-button-text=\"确定\"\r\n        @change=\"onNumChange\"\r\n        @cancel=\"onNumCancel\"\r\n        @confirm=\"onNumOk\"/>\r\n    </van-popup>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Vue from \"vue\";\r\nimport {\r\n  getActivityDetailInfoService,\r\n  getScreeningsService,\r\n  getEtcDetailService,\r\n  getReadyStateService,\r\n  getCancelStateService,\r\n  getJoinInfoService\r\n} from \"../../../services/propertyActivityService\";\r\nimport { Dialog } from \"vant\";\r\nimport NavigationBar from '@/common/currency/NavigationBar.vue';\r\n\r\nexport default {\r\n  name: \"propertyActivityDetail\",\r\n  components:{\r\n      NavigationBar\r\n  },\r\n  data() {\r\n    return {\r\n      detailParam: this.$route.query.object, //入参\r\n      activity: {}, //活动详情\r\n      currentDetailData: {}, //保存当前选择场次的详细信息，包含场次名称，场次代码\r\n      LIMIT_MAX: 0, //报名人数上限\r\n      ENROL_CNTS: 0, //已报名人数\r\n      ENROL_CNT: 0, //当前业主已报名人数\r\n      START_TIME: \"\", //当前场次开始时间\r\n      END_TIME: \"\", //当前场次结束时间\r\n      actionText: \"\", //底部按钮显示内容\r\n      isActive: false, //底部按钮是否高亮，表示可操作\r\n      isShowSelect: false, //是否显示场次选择弹出框\r\n      sectionData: {}, // 场次选择数据\r\n      selectActions: [], // 场次选择数据源\r\n      isShowJoinInput: false, //是否显示参加人数输入框\r\n      joinNumber: null, //参加人数，绑定输入框\r\n      showJoinNum:false,\r\n      curNumIndex:0,\r\n      joinNums:[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20],\r\n      headerItemWidth:{\r\n          width:'84px'\r\n      },\r\n      title:'活动详情',\r\n    };\r\n  },\r\n  mounted() {\r\n    this.userInfo = this.$userInfo;\r\n    this.getActivityData();\r\n  },\r\n  methods: {\r\n    /*获取活动详情页面的内容*/\r\n    getActivityData() {\r\n      let query = {\r\n        ACTI_CODE: JSON.parse(this.detailParam).ACTI_CODE,\r\n        OWNER_CODE: this.userInfo.OWNER_CODE,\r\n        ROOM_CODE: this.userInfo.ROOM_CODE\r\n      };\r\n      getActivityDetailInfoService({ data: JSON.stringify(query) })\r\n        .then(data => {\r\n          // console.log(\"11111111 getActivityDetailInfoService = \" + JSON.stringify(data));\r\n          if(data){\r\n            this.activity = data;\r\n            this.activityStautsHandle();\r\n          }\r\n        })\r\n        .catch(error => {\r\n          this.$toast(\"网络异常，请稍后重试！\");\r\n        });\r\n    },\r\n    activityStautsHandle() {\r\n      let curDate = new Date().getTime();\r\n      this.activity.START_TIME2 = new Date(\r\n        this.activity.START_TIME.replace(/-/g, \"/\")\r\n      ).getTime();\r\n      this.activity.END_TIME2 = new Date(\r\n        this.activity.END_TIME.replace(/-/g, \"/\")\r\n      ).getTime();\r\n      if (this.activity.END_TIME2 < curDate) {\r\n        if (\"0\" != this.activity.FLAG) {\r\n          this.state = 0; //已报名已结束\r\n          this.actionText = \"取消报名\";\r\n          this.getJoinInfo();\r\n        } else {\r\n          this.state = 1; //未报名已结束\r\n          this.actionText = \"报名\";\r\n          this.activityScreenings();\r\n        }\r\n      } else if (\r\n        this.activity.START_TIME2 < curDate &&\r\n        this.activity.END_TIME2 > curDate\r\n      ) {\r\n        if (\"0\" == this.activity.FLAG) {\r\n          this.state = 2; //未报名已开始\r\n          this.actionText = \"报名\";\r\n          this.isActive = true;\r\n          this.isShowJoinInput = true;\r\n          this.activityScreenings();\r\n        } else {\r\n          this.state = 3; //已报名已开始\r\n          this.actionText = \"取消报名\";\r\n          this.isActive = true;\r\n          this.getJoinInfo();\r\n        }\r\n      } else if (this.activity.START_TIME2 > curDate) {\r\n        this.state = 4; //未开始\r\n        this.actionText = \"报名\";\r\n        this.activityScreenings();\r\n      }\r\n    },\r\n\r\n    /*获取已报名信息*/\r\n    getJoinInfo() {\r\n      let query = {\r\n        ACTI_CODE: JSON.parse(this.detailParam).ACTI_CODE,\r\n        OWNER_CODE: this.userInfo.OWNER_CODE,\r\n        ROOM_CODE: this.userInfo.ROOM_CODE\r\n      };\r\n      getJoinInfoService({ data: JSON.stringify(query) })\r\n        .then(data => {\r\n          if (data) {\r\n            console.log(\r\n              \"00000000 getJoinInfoService = \" + JSON.stringify(data)\r\n            );\r\n            this.currentDetailData = data;\r\n            this.LIMIT_MAX = data.LIMIT_MAX;\r\n            this.START_TIME = data.DETAIL_START_TIME;\r\n            this.ENROL_CNT = data.ENROL_CNT;\r\n            this.ENROL_CNTS = data.ENROL_CNTS;\r\n            this.END_TIME = data.DETAIL_END_TIME;\r\n            if (!this.ENROL_CNTS) {\r\n              this.ENROL_CNTS = 0;\r\n            } else {\r\n              this.ENROL_CNTS = data.ENROL_CNT;\r\n            }\r\n          } else {\r\n            console.log(\"getJoinInfoService: 没有获取到已报名场次信息。\");\r\n          }\r\n        })\r\n        .catch(error => {\r\n          this.$toast(\"网络异常，请稍后重试！\");\r\n        });\r\n    },\r\n\r\n    /*根据活动代码获得场次信息*/\r\n    activityScreenings() {\r\n      let query = {\r\n        ACTI_CODE: JSON.parse(this.detailParam).ACTI_CODE\r\n      };\r\n      getScreeningsService({ data: JSON.stringify(query) })\r\n        .then(data => {\r\n          if (data) {\r\n            console.log(\r\n              \"22222222 getScreeningsService = \" + JSON.stringify(data)\r\n            );\r\n            //this.screenings = data;\r\n            this.currentDetailData = data[0];\r\n\r\n            // 填充场次选择数据源\r\n            this.sectionData = [];\r\n            for (let index = 0; index < data.length; index++) {\r\n              const element = data[index];\r\n              this.selectActions.push({\r\n                name: element.DETAIL_NAME,\r\n                color: \"#1f1f1f\",\r\n                ele: element\r\n              });\r\n            }\r\n\r\n            this.getEtcIfo(data[0].DETAIL_CODE);\r\n          } else {\r\n            console.log(\"activityScreenings: 没有获取到场次信息。\");\r\n          }\r\n        })\r\n        .catch(error => {\r\n          this.$toast(\"网络异常，请稍后重试！\");\r\n        });\r\n    },\r\n\r\n    /*判断是否已报名 根据场次获取场次信息*/\r\n    getEtcIfo(detailCode) {\r\n      console.log(\"call getEtcIfo\");\r\n      let etcCode = {\r\n        DETAIL_CODE: detailCode /*场次代码*/,\r\n        OWNER_CODE: this.userInfo.OWNER_CODE /*业主代码*/,\r\n        ROOM_CODE: this.userInfo.ROOM_CODE /*房间代码*/\r\n      };\r\n      getEtcDetailService({ data: JSON.stringify(etcCode) })\r\n        .then(data => {\r\n          if (data) {\r\n            console.log(\r\n              \"33333333 getEtcDetailService = \" + JSON.stringify(data)\r\n            );\r\n            this.LIMIT_MAX = data.LIMIT_MAX;\r\n            this.START_TIME = data.START_TIME;\r\n            this.ENROL_CNTS = data.ENROL_CNTS;\r\n            this.END_TIME = data.END_TIME;\r\n            if (!this.ENROL_CNTS) {\r\n              this.ENROL_CNTS = 0;\r\n            } else {\r\n              this.ENROL_CNTS = data.ENROL_CNTS;\r\n            }\r\n          } else {\r\n            console.log(\"getEtcIfo: 没有获取到场次信息。\");\r\n          }\r\n        })\r\n        .catch(error => {\r\n          this.$toast(\"网络异常，请稍后重试！\");\r\n        });\r\n    },\r\n\r\n    //点击场次选择\r\n    sectionSelectClicked() {\r\n      //add for ZHSQYYPT-7055\r\n      if (this.selectActions.length == 0) {\r\n        console.log(\"没有场次可选择\")\r\n        return;\r\n      }\r\n      //end\r\n      if (this.currentDetailData.DETAIL_CODE) {\r\n        this.isShowSelect = true;\r\n      }\r\n    },\r\n\r\n    //场次切换选择\r\n    onSelect(item) {\r\n      this.isShowSelect = false;\r\n      if (this.currentDetailData.DETAIL_CODE != item.ele.DETAIL_CODE) {\r\n        this.currentDetailData = item.ele;\r\n        this.getEtcIfo(item.ele.DETAIL_CODE);\r\n      }\r\n    },\r\n\r\n    //场次切换取消\r\n    onCancel() {\r\n      //点击取消\r\n    },\r\n\r\n    /*执行按钮操作*/\r\n    doAction() {\r\n      let alertMsg = \"\";\r\n      if (this.state == 0) {\r\n        //已报名已结束\r\n        alertMsg = \"活动报名已结束，不能取消\";\r\n        this.$toast(alertMsg);\r\n      } else if (this.state == 1) {\r\n        //未报名已结束\r\n        alertMsg = \"活动报名已结束\";\r\n        this.$toast(alertMsg);\r\n      } else if (this.state == 2) {\r\n        //未报名已开始，执行报名操作\r\n        this.doAttendAction();\r\n      } else if (this.state == 4) {\r\n        alertMsg = \"活动尚未开始\";\r\n        this.$toast(alertMsg);\r\n      } else {\r\n        //已报名已开始，执行取消报名操作\r\n        this.doCancelAction();\r\n      }\r\n    },\r\n\r\n    /*报名*/\r\n    doAttendAction() {\r\n      let number = Number(this.joinNumber);\r\n      if(number %1 != 0){\r\n          this.$toast(\"请输入正确的报名人数\");\r\n          return;\r\n      }\r\n      if (number && 0 != number) {\r\n        Dialog.confirm({\r\n          message: \"确定报名？\"\r\n        })\r\n          .then(() => {\r\n            if (this.LIMIT_MAX) {\r\n              let enrol_cnts = this.ENROL_CNTS;\r\n\r\n              let numberThink = number + enrol_cnts;\r\n              if (numberThink <= this.LIMIT_MAX) {\r\n                if (number <= this.activity.LIMIT_MAX) {\r\n                  this.doAttend();\r\n                } else {\r\n                  this.$toast(\"超过家庭人数上限\");\r\n                }\r\n              } else {\r\n                this.$toast(\"超过场次人数上限\");\r\n              }\r\n            }\r\n          })\r\n          .catch(e => {\r\n            // on cancel\r\n            console.log(\"捕获到错误\", e);\r\n          });\r\n      } else {\r\n        this.$toast(\"参加人数错误,必须为数字\");\r\n      }\r\n    },\r\n\r\n    /*调用报名接口*/\r\n    doAttend() {\r\n      let stateFlag = {\r\n        DETAIL_CODE: this.currentDetailData.DETAIL_CODE,\r\n        ROOM_CODE: this.userInfo.ROOM_CODE,\r\n        ROOM_NAME: this.userInfo.ROOM_NAME,\r\n        DETAIL_NAME: this.currentDetailData.DETAIL_NAME,\r\n        ACTI_CODE: JSON.parse(this.detailParam).ACTI_CODE,\r\n        ACTI_NAME: this.activity.ACTI_NAME,\r\n        AREA_CODE: this.userInfo.AREA_CODE,\r\n        AREA_NAME: this.userInfo.AREA_NAME,\r\n        OWNER_CODE: this.userInfo.OWNER_CODE,\r\n        OWNER_NAME: this.userInfo.OWNER_NAME,\r\n        OWNER_NICK_NAME: this.userInfo.OWNER_NICK_NAME,\r\n        PHONE: this.userInfo.PHONE,\r\n        CITY_CODE: this.userInfo.CITY_CODE,\r\n        DEPT_CODE: this.userInfo.DEPT_CODE,\r\n        ENROL_CNT: Number(this.joinNumber),\r\n        UPDATED_BY: this.userInfo.OWNER_NAME\r\n      };\r\n      console.log(\"stateFlag: \" + JSON.stringify(stateFlag));\r\n\r\n      getReadyStateService({ data: JSON.stringify(stateFlag) }).then(data => {\r\n        if (true == data.success) {\r\n          this.$toast(\"报名成功\");\r\n\r\n          //跳转到物业活动列表\r\n          this.$router.back(-1);\r\n        } else {\r\n          this.$toast(data.msg?data.msg:\"报名失败\");\r\n        }\r\n      });\r\n    },\r\n\r\n    /*取消报名*/\r\n    doCancelAction() {\r\n      Dialog.confirm({\r\n        message: \"确定取消报名？\"\r\n      })\r\n        .then(() => {\r\n          this.doCancel();\r\n        })\r\n        .catch(() => {\r\n          // on cancel\r\n        });\r\n    },\r\n\r\n    /*调用取消报名接口*/\r\n    doCancel() {\r\n      let cancelJoin = {\r\n        DETAIL_CODE: this.currentDetailData.DETAIL_CODE,\r\n        ACTI_CODE: JSON.parse(this.detailParam).ACTI_CODE,\r\n        ACTI_NAME: this.activity.ACTI_NAME,\r\n        OWNER_CODE: this.userInfo.OWNER_CODE,\r\n        UPDATED_BY: this.userInfo.OWNER_NAME,\r\n        AREA_CODE: this.userInfo.AREA_CODE,\r\n        AREA_NAME: this.userInfo.AREA_NAME,\r\n        CITY_CODE: this.userInfo.CITY_CODE,\r\n        DEPT_CODE: this.userInfo.DEPT_CODE,\r\n        OWNER_NAME: this.userInfo.OWNER_NAME,\r\n        OWNER_NICK_NAME: this.userInfo.OWNER_NICK_NAME,\r\n        PHONE: this.userInfo.PHONE,\r\n        ROOM_CODE: this.userInfo.ROOM_CODE\r\n      };\r\n\r\n      getCancelStateService({ data: JSON.stringify(cancelJoin) }).then(data => {\r\n        if (true == data.success) {\r\n          this.$toast(\"取消报名成功\");\r\n\r\n          //跳转到物业活动列表\r\n          this.$router.back(-1);\r\n        } else {\r\n          this.$toast(\"取消报名失败\");\r\n        }\r\n      });\r\n    },\r\n\r\n    /**\r\n     * 页面返回事件\r\n     */\r\n    goBack() {\r\n      this.$router.back(-1);\r\n    },\r\n    /* 显示人数选择框 */\r\n    showJoinNums(){\r\n      this.showJoinNum = !this.showJoinNum;\r\n    },\r\n    onNumChange(picker,value, index){\r\n      this.curNumIndex = index;\r\n\r\n    },\r\n    onNumCancel(){\r\n      this.showJoinNum = false;\r\n    },\r\n    onNumOk(value,index){\r\n      this.curNumIndex = index;\r\n      this.showJoinNum = false;\r\n      this.joinNumber = this.joinNums[this.curNumIndex];\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n.propertyActivityDetail {\r\n  background-color: #f2f2f2;\r\n  height: 100%;\r\n}\r\n\r\n.detail-nav-bar {\r\n  width: 100%;\r\n  /*height: 44px;*/\r\n  position: fixed;\r\n  z-index: 99;\r\n}\r\n\r\n.propertyActivityDetail .activityHeader {\r\n  position: absolute;\r\n  width: 100%;\r\n  background-color: #fff;\r\n  /*top: 44px;*/\r\n  left: 0px;\r\n  bottom: 0px;\r\n  bottom: constant(safe-area-inset-bottom);\r\n  bottom: env(safe-area-inset-bottom);\r\n  padding-bottom: 44px;\r\n  overflow: auto;\r\n}\r\n\r\n.propertyActivityDetail .activityTitle {\r\n  /*margin: 18px 16px 0 16px;*/\r\n  padding: 18px 16px 0 16px;\r\n  /* height: 25px;\r\n    line-height: 25px; */\r\n  font-size: 18px !important;\r\n  letter-spacing: -0.05px;\r\n}\r\n\r\n.propertyActivityDetail .activitySubTitle {\r\n  margin: 4px 16px 0 16px;\r\n  height: 22px;\r\n  line-height: 22px;\r\n  font-size: 14px !important;\r\n  color: #9a9a9a;\r\n  letter-spacing: -0.04px;\r\n}\r\n\r\n.propertyActivityDetail .activityImg {\r\n  width: 100%;\r\n  overflow-x: hidden;\r\n}\r\n\r\n.propertyActivityDetail .activityHead {\r\n  font-size: 16px;\r\n  margin: 0 16px;\r\n  height: 20px;\r\n  line-height: 20px;\r\n}\r\n\r\n.propertyActivityDetail .activityNum {\r\n  margin-top: 1rem;\r\n  background-color: #fff;\r\n}\r\n\r\n.propertyActivityDetail .input-label {\r\n  font-size: 1.2rem !important;\r\n}\r\n\r\n.propertyActivityDetail .activityIntr {\r\n  margin: 16px;\r\n  /*line-height: 1.5rem;\r\n    font-size: 1.2rem !important;*/\r\n  color: #828282;\r\n  font-size: 14px;\r\n}\r\n\r\n/*去除p的默认样式*/\r\n/deep/ .activityIntr p {\r\n  padding: 0;\r\n  margin: 0;\r\n}\r\n\r\n/deep/ .activityIntr img {\r\n  max-width: 100%;\r\n}\r\n/deep/ .van-action-sheet__item {\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n  white-space: nowrap;\r\n}\r\n\r\n.propertyActivityDetail .readyPer {\r\n  margin-top: 1rem;\r\n  width: 100%;\r\n  background-color: #fff;\r\n}\r\n\r\n.propertyActivityDetail .takeTime {\r\n  margin-top: 1rem;\r\n  width: 100%;\r\n  font-size: 1.2rem !important;\r\n  background-color: #fff;\r\n}\r\n\r\n.propertyActivityDetail .activityTime {\r\n  margin-top: 1rem;\r\n  width: 100%;\r\n  font-size: 1.2rem !important;\r\n  background-color: #fff;\r\n}\r\n\r\n.propertyActivityDetail .headerName {\r\n  font-size: 14px !important;\r\n  color: #4A4A4A;\r\n  font-weight: bold;\r\n}\r\n\r\n/*.propertyActivityDetail div{\r\n    padding: 16px 0;\r\n    border-left: none;\r\n    border-right: none;\r\n  }*/\r\n.propertyActivityDetail .oneLine {\r\n  padding: 16px 0;\r\n  border-left: none;\r\n  border-right: none;\r\n  border-bottom: 1px solid #f6f6f6;\r\n  display: flex;\r\n  justify-content: space-between;\r\n}\r\n\r\n.propertyActivityDetail .item-note {\r\n  font-size: 14px !important;\r\n  color: #333333;\r\n  float: right;\r\n}\r\n\r\n.propertyActivityDetail .inputNumber {\r\n  /*width: 10rem;\r\n    height: 2rem;*/\r\n  width: 100px;\r\n  height: 20px;\r\n  font-size: 14px !important;\r\n  border: none;\r\n  text-align: right;\r\n}\r\n\r\n.propertyActivityDetail .headerData {\r\n  float: right;\r\n  margin-right: 0.4rem;\r\n  padding: 0.85rem 0 0.85rem 1rem;\r\n  font-size: 1.2rem !important;\r\n  color: #444;\r\n}\r\n\r\n.propertyActivityDetail .clearfix:after {\r\n  content: \".\";\r\n  height: 0;\r\n  display: block;\r\n  clear: both;\r\n  visibility: hidden;\r\n}\r\n\r\n.propertyActivityDetail .outMum {\r\n  font-size: 1.3rem !important;\r\n}\r\n\r\n.propertyActivityDetail .changeSelect {\r\n  margin-right: -3rem;\r\n  font-size: 1.3rem !important;\r\n  color: #989898;\r\n}\r\n\r\n.propertyActivityDetail .acitivityTime {\r\n  padding: 0.85rem 0;\r\n}\r\n\r\n/*富文本*/\r\n.propertyActivityDetail .loadingclass {\r\n  width: 100%;\r\n}\r\n\r\n.propertyActivityDetail .grayStyle {\r\n  background: white;\r\n  margin-bottom: 50px;\r\n}\r\n\r\n/*输入框样式*/\r\n.propertyActivityDetail ::-webkit-input-placeholder {\r\n  font-size: 14px !important;\r\n  color: #b8b8b8;\r\n}\r\n\r\n.propertyActivityDetail .etcGrayButton {\r\n  position: fixed;\r\n  bottom: 0;\r\n  width: 100%;\r\n  height: 50px;\r\n  line-height: 50px;\r\n  background-color: #aaaaaa;\r\n  box-shadow: 0 -2px 7px 0 rgba(226, 226, 226, 0.5);\r\n}\r\n\r\n.propertyActivityDetail .etcRedButton {\r\n  background: linear-gradient(to right, #fd818d, #fb5364);\r\n}\r\n\r\n.propertyActivityDetail .item-select select {\r\n  padding: 0 0.4rem 0 0;\r\n}\r\n\r\n.propertyActivityDetail ::-webkit-scrollbar {\r\n  display: none !important;\r\n}\r\n\r\n.propertyActivityDetail #DETAIL,\r\n.propertyActivityDetail #DETAIL option {\r\n  width: 13rem;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n  white-space: nowrap;\r\n}\r\n\r\n/*2017-12-21 JunZou*/\r\n.propertyActivityDetail .background_pic {\r\n  width: 100%;\r\n}\r\n\r\n.propertyActivityDetail .background_pic img {\r\n  width: 100%;\r\n  /*height: 15rem;*/\r\n  height: auto;\r\n}\r\n\r\n.propertyActivityDetail .buttonGrayStyle {\r\n  display: block;\r\n  font-size: 20px !important;\r\n  height: 50px;\r\n  line-height: 50px;\r\n  text-align: center;\r\n  color: white;\r\n}\r\n/*  人数选择弹框 */\r\n.van-popup--bottom {\r\n  overflow: hidden;\r\n}\r\n.areaselect-topbar {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  height: 44px;\r\n  font-family: PingFangSC-Regular;\r\n  font-size: 16px;\r\n  text-align: center;\r\n  align-items: center;\r\n  div {\r\n    color: #3a3a3a;\r\n    width: 60px;\r\n    height: 44px;\r\n    line-height: 44px;\r\n  }\r\n  span {\r\n    color: #fb5364;\r\n    width: 60px;\r\n    height: 44px;\r\n    line-height: 44px;\r\n  }\r\n}\r\n/deep/.van-picker__cancel {\r\n  color: #3a3a3a;\r\n}\r\n/deep/.van-picker__confirm {\r\n  color: #fb5364;\r\n}\r\n/deep/.van-hairline--top-bottom::after, .van-hairline-unset--top-bottom::after {\r\n  border-width: 0 !important;\r\n}\r\n</style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./propertyActivityDetail.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./propertyActivityDetail.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./propertyActivityDetail.vue?vue&type=template&id=8a377ad2&scoped=true&\"\nimport script from \"./propertyActivityDetail.vue?vue&type=script&lang=js&\"\nexport * from \"./propertyActivityDetail.vue?vue&type=script&lang=js&\"\nimport style0 from \"./propertyActivityDetail.vue?vue&type=style&index=0&id=8a377ad2&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"8a377ad2\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}